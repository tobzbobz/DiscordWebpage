(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[795],{683:function(e,a,t){Promise.resolve().then(t.bind(t,6464))},6464:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p},runtime:function(){return u}});var n=t(7437),i=t(9376),s=t(2265),c=t(3278),l=t(1923),o=t(8310),r=t(459),d=t(8029),m=t(1028);let u="edge";function h(e){let{value:a,onChange:t,className:i="",step:c=1,min:l,max:o,placeholder:r,style:d,disabled:m}=e,u=(0,s.useRef)(null),h=()=>{let e=parseFloat(a)||0,n=void 0!==o?Math.min(o,e+c):e+c;t(c<1?n.toFixed(1):n.toString())},p=()=>{let e=parseFloat(a)||0,n=void 0!==l?Math.max(l,e-c):e-c;t(c<1?n.toFixed(1):n.toString())};return(0,n.jsxs)("div",{className:"numeric-input-wrapper",style:d,children:[(0,n.jsx)("input",{ref:u,type:"number",value:a,onChange:e=>t(e.target.value),onKeyDown:e=>{"ArrowUp"===e.key?(e.preventDefault(),h()):"ArrowDown"===e.key&&(e.preventDefault(),p())},className:i,placeholder:r,disabled:m,step:c,min:l,max:o}),!m&&(0,n.jsxs)("div",{className:"numeric-arrows",children:[(0,n.jsx)("button",{type:"button",className:"numeric-arrow-btn up",onClick:h,tabIndex:-1,children:"▲"}),(0,n.jsx)("button",{type:"button",className:"numeric-arrow-btn down",onClick:p,tabIndex:-1,children:"▼"})]})]})}function p(){let e=(0,i.useSearchParams)(),a=(0,i.useRouter)(),u=(null==e?void 0:e.get("id"))||"",p=(null==e?void 0:e.get("fleetId"))||"",[x,b]=(0,s.useState)([]),[N,j]=(0,s.useState)("A"),[v,C]=(0,s.useState)(!1),[S,f]=(0,s.useState)(!1),[g,k]=(0,s.useState)(!1),[y,P]=(0,s.useState)(!1),[A,E]=(0,s.useState)(!1),[w,G]=(0,s.useState)({}),[T,R]=(0,s.useState)(!1),[M,O]=(0,s.useState)({title:"",message:""});(0,s.useEffect)(()=>{u&&j((0,l.Q2)(u))},[u]);let[I,F]=(0,s.useState)(()=>{{let e=localStorage.getItem("meds_".concat(u));return e?JSON.parse(e):[]}});(0,s.useEffect)(()=>{u&&localStorage.setItem("meds_".concat(u),JSON.stringify(I))},[I,u]);let[D,L]=(0,s.useState)(()=>{{let e=localStorage.getItem("meds_draft_".concat(u));return e?JSON.parse(e):null}});(0,s.useEffect)(()=>{D&&u&&(ee(D.time||""),et(D.administeredBy||""),ei(D.medication||""),ec(D.dose||""),eo(D.unit||""),ed(D.route||""),eu(D.notes||""),ep(D.notPossible||""),eb(D.drawnUpNotUsed||!1),ej(D.brokenAmpoule||!1),eC(D.discarded||!1),ef(D.notesValue||""),eP(D.notPossibleReason||""),D.showNewMedication&&B(!0))},[]);let[_,B]=(0,s.useState)(!1),[q,H]=(0,s.useState)(!1),[U,Y]=(0,s.useState)(!1),[V,z]=(0,s.useState)(!1),[J,K]=(0,s.useState)(!1),[Z,W]=(0,s.useState)(!1),[Q,X]=(0,s.useState)({}),[$,ee]=(0,s.useState)(""),[ea,et]=(0,s.useState)(""),[en,ei]=(0,s.useState)(""),[es,ec]=(0,s.useState)(""),[el,eo]=(0,s.useState)(""),[er,ed]=(0,s.useState)(""),[em,eu]=(0,s.useState)(""),[eh,ep]=(0,s.useState)(""),[ex,eb]=(0,s.useState)(!1),[eN,ej]=(0,s.useState)(!1),[ev,eC]=(0,s.useState)(!1),[eS,ef]=(0,s.useState)(""),[eg,ek]=(0,s.useState)(""),[ey,eP]=(0,s.useState)(""),[eA,eE]=(0,s.useState)(1),[ew,eG]=(0,s.useState)(1),[eT,eR]=(0,s.useState)(2025),[eM,eO]=(0,s.useState)(0),[eI,eF]=(0,s.useState)(0),eD=()=>{let e=new URLSearchParams({fleetId:p});a.push("/dashboard?".concat(e))},eL=()=>{u&&localStorage.setItem("meds_draft_".concat(u),JSON.stringify({showNewMedication:_,time:$,administeredBy:ea,medication:en,dose:es,unit:el,route:er,notes:em,notPossible:eh,drawnUpNotUsed:ex,brokenAmpoule:eN,discarded:ev,notesValue:eS,notPossibleReason:ey}))},e_=()=>{u&&localStorage.removeItem("meds_draft_".concat(u))},eB=e=>{_&&eL();let t=new URLSearchParams({id:u,fleetId:p});"incident"===e?a.push("/incident?".concat(t)):"patient-info"===e?a.push("/patient-info?".concat(t)):"primary-survey"===e?a.push("/primary-survey?".concat(t)):"vital-obs"===e?a.push("/vital-obs?".concat(t)):"hx-complaint"===e?a.push("/hx-complaint?".concat(t)):"past-medical-history"===e?a.push("/past-medical-history?".concat(t)):"clinical-impression"===e?a.push("/clinical-impression?".concat(t)):"disposition"===e?a.push("/disposition?".concat(t)):"media"===e&&a.push("/media?".concat(t))},eq=async()=>{R(!0);try{let e=await (0,l.Gf)(u,p);e.success?(f(!1),O({title:"ePRF Submitted Successfully!",message:"The ePRF for Patient ".concat(N," has been submitted.\n\nA PDF copy has been downloaded to your device and the record has been saved.")}),E(!0)):e.validationResult&&(f(!1),G(e.validationResult.fieldErrors),b(e.validationResult.incompleteSections),P(!0))}catch(e){console.error("Submit error:",e),alert("An error occurred while submitting. Please try again.")}finally{R(!1)}},eH=async()=>{R(!0);try{let e=await (0,l.mb)(u);e.success?(C(!1),j(e.newLetter),O({title:"Patient Added Successfully!",message:"Patient ".concat(N," has been saved.\n\nYou are now working on Patient ").concat(e.newLetter,".\n\nThe form has been cleared for the new patient.")}),E(!0),setTimeout(()=>{let e=new URLSearchParams({id:u,fleetId:p});a.push("/patient-info?".concat(e))},2e3)):alert(e.error||"Failed to add patient")}catch(e){console.error("Add patient error:",e),alert("An error occurred. Please try again.")}finally{R(!1)}},eU=()=>{ee(""),et(""),ec(""),eo(""),ed(""),eu(""),ep(""),eb(!1),ej(!1),eC(!1),ef(""),eP("")},eY=()=>{let e={};return $||(e.time=!0),ea||(e.administeredBy=!0),en||(e.medication=!0),es||(e.dose=!0),el||(e.unit=!0),er||(e.route=!0),X(e),!(Object.keys(e).length>0)&&(F([...I,{time:$,administeredBy:ea,medication:en,dose:es,unit:el,route:er,notes:em,drawnUpNotUsed:ex,brokenAmpoule:eN,discarded:ev,notPossible:eh}]),X({}),!0)},eV=e=>{ei(e),H(!1),ek("")},ez=e=>{ed(e),Y(!1)},eJ=e=>{eP(e),ep(e),K(!1)},eK=[{name:"Adenosine",code:"CPG EAS 14.2"},{name:"Adrenaline",code:"CPG EAS 14.3"},{name:"Amiodarone",code:"CPG EAS 14.4"},{name:"Aspirin",code:"CPG EAS 14.6"},{name:"Atropine",code:"CPG EAS 14.7"},{name:"Calcium Chloride",code:"CPG EAS 14.8"},{name:"Cefazolin",code:"CPG EAS 14.49"},{name:"Ceftriaxone",code:"CPG EAS 14.9"},{name:"Clopidogrel",code:"CPG EAS 14.10"},{name:"Droperidol",code:"CPG EAS 14.11"},{name:"Enoxaparin",code:"CPG EAS 14.12"},{name:"Fentanyl",code:"CPG EAS 14.13"},{name:"Glucagon",code:"CPG EAS 14.15"},{name:"Glucose Gel",code:"CPG EAS 14.16"},{name:"GTN (Glyceryl Trinitrate) IV",code:"CPG EAS 14.50"},{name:"GTN (Glyceryl Trinitrate) Spray",code:"CPG EAS 14.17"},{name:"Heparin",code:"CPG EAS 14.19"},{name:"Hydrocortisone",code:"CPG EAS 14.20"},{name:"Ibuprofen",code:"CPG EAS 14.21"},{name:"Ipratropium",code:"CPG EAS 14.22"},{name:"Ketamine",code:"CPG EAS 14.23"},{name:"Labetalol",code:"CPG EAS 14.24"},{name:"Levetiracetam",code:"CPG EAS 14.51"},{name:"Lignocaine 1%",code:"CPG EAS 14.25"},{name:"Loratadine",code:"CPG EAS 14.26"},{name:"Magnesium Sulphate",code:"CPG EAS 14.27"},{name:"Metaraminol",code:"CPG EAS 14.28"},{name:"Methoxyflurane",code:"CPG EAS 14.29"},{name:"Metoprolol Tartrate",code:"CPG EAS 14.52"},{name:"Midazolam",code:"CPG EAS 14.31"},{name:"Morphine",code:"CPG EAS 14.32"},{name:"Naloxone",code:"CPG EAS 14.33"},{name:"Olanzapine",code:"CPG EAS 14.34"},{name:"Ondansetron",code:"CPG EAS 14.35"},{name:"Oxytocin",code:"CPG EAS 14.36"},{name:"Paracetamol",code:"CPG EAS 14.37"},{name:"Prednisone and Prednisolone",code:"CPG EAS 14.38"},{name:"Rocuronium",code:"CPG EAS 14.40"},{name:"Ropivacaine 0.75%",code:"CPG EAS 14.41"},{name:"Salbutamol",code:"CPG EAS 14.42"},{name:"Sodium Bicarbonate 8.4%",code:"CPG EAS 14.43"},{name:"Suxamethonium",code:"CPG EAS 14.44"},{name:"Tenecteplase",code:"CPG EAS 14.45"},{name:"Ticagrelor",code:"CPG EAS 14.53"},{name:"Tramadol",code:"CPG EAS 14.46"},{name:"Tranexamic Acid",code:"CPG EAS 14.47"}].filter(e=>e.name.toLowerCase().includes(eg.toLowerCase())||e.code.toLowerCase().includes(eg.toLowerCase()));return(0,n.jsxs)("div",{className:"eprf-dashboard incident-page",children:[(0,n.jsxs)("div",{className:"eprf-nav",children:[(0,n.jsx)("button",{className:"nav-btn",onClick:eD,children:"Home"}),(0,n.jsx)("button",{className:"nav-btn",children:"Tools"}),(0,n.jsx)("button",{className:"nav-btn",onClick:()=>{let e=(0,d.ts)();e&&(0,m.GJ)(e.discordId)&&a.push("/admin")},children:"Admin Panel"}),(0,n.jsx)("button",{className:"nav-btn",onClick:()=>{a.push("/")},children:"Manage Crew"}),(0,n.jsxs)("div",{className:"page-counter",children:[(0,n.jsx)("span",{className:"patient-letter",children:N}),(0,n.jsx)("span",{className:"page-indicator",children:"1 of 1"})]})]}),(0,n.jsxs)("div",{className:"incident-layout",children:[(0,n.jsxs)("aside",{className:"sidebar",children:[(0,n.jsx)("button",{className:"sidebar-btn".concat(x.includes("incident")?" incomplete":""),onClick:()=>eB("incident"),children:"Incident Information"}),(0,n.jsx)("button",{className:"sidebar-btn".concat(x.includes("patient-info")?" incomplete":""),onClick:()=>eB("patient-info"),children:"Patient Information"}),(0,n.jsx)("button",{className:"sidebar-btn".concat(x.includes("primary-survey")?" incomplete":""),onClick:()=>eB("primary-survey"),children:"Primary Survey"}),(0,n.jsx)("button",{className:"sidebar-btn".concat(x.includes("vital-obs")?" incomplete":""),onClick:()=>eB("vital-obs"),children:"Vital Obs / Treat"}),(0,n.jsx)("button",{className:"sidebar-btn".concat(x.includes("hx-complaint")?" incomplete":""),onClick:()=>eB("hx-complaint"),children:"Hx Complaint"}),(0,n.jsx)("button",{className:"sidebar-btn".concat(x.includes("past-medical-history")?" incomplete":""),onClick:()=>eB("past-medical-history"),children:"Past Medical History"}),(0,n.jsx)("button",{className:"sidebar-btn".concat(x.includes("clinical-impression")?" incomplete":""),onClick:()=>eB("clinical-impression"),children:"Clinical Impression"}),(0,n.jsx)("button",{className:"sidebar-btn".concat(x.includes("disposition")?" incomplete":""),onClick:()=>eB("disposition"),children:"Disposition"}),(0,n.jsx)("button",{className:"sidebar-btn",onClick:()=>eB("media"),children:"Media"})]}),(0,n.jsx)("main",{className:"incident-content",children:_?(0,n.jsxs)("section",{className:"incident-section",children:[(0,n.jsx)("h2",{className:"section-title",children:"Medication"}),(0,n.jsxs)("div",{className:"medication-form",children:[(0,n.jsxs)("div",{className:"medication-row",children:[(0,n.jsxs)("div",{className:"medication-field",style:{flex:"0 0 300px"},children:[(0,n.jsx)("label",{className:"field-label required ".concat(Q.time?"validation-error-label":""),children:"Time"}),(0,n.jsxs)("div",{className:"input-with-btn",children:[(0,n.jsx)("input",{type:"text",value:$,onChange:e=>ee(e.target.value),onClick:()=>{let e=new Date;eE(e.getDate()),eG(e.getMonth()+1),eR(e.getFullYear()),eO(e.getHours()),eF(e.getMinutes()),W(!0)},className:"text-input ".concat(Q.time?"validation-error":""),readOnly:!0}),(0,n.jsx)("button",{className:"now-btn",onClick:()=>{let e=new Date;ee("".concat(String(e.getDate()).padStart(2,"0"),"/").concat(String(e.getMonth()+1).padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(String(e.getHours()).padStart(2,"0"),":").concat(String(e.getMinutes()).padStart(2,"0")))},children:"Now"})]})]}),(0,n.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,n.jsx)("label",{className:"field-label required ".concat(Q.administeredBy?"validation-error-label":""),children:"Administered by"}),(0,n.jsx)("input",{type:"text",value:ea,onChange:e=>et(e.target.value),className:"text-input ".concat(Q.administeredBy?"validation-error":""),placeholder:"roblox username"})]})]}),(0,n.jsx)("div",{className:"medication-row",children:(0,n.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,n.jsx)("label",{className:"field-label required ".concat(Q.medication?"validation-error-label":""),children:"Medication"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,n.jsx)("input",{type:"text",value:en,className:"text-input ".concat(Q.medication?"validation-error":""),readOnly:!0,style:{flex:1}}),(0,n.jsx)("button",{className:"search-btn",onClick:()=>{H(!0)},children:"Search"}),(0,n.jsx)("button",{className:"search-btn",onClick:()=>{ek(""),H(!0)},children:"List"})]})]})}),(0,n.jsxs)("div",{className:"medication-row",children:[(0,n.jsx)("div",{className:"medication-field",style:{flex:"0 0 80px"},children:(0,n.jsxs)("label",{className:"field-label",children:[(0,n.jsx)("input",{type:"checkbox",checked:!1,disabled:!0,style:{marginRight:"8px"}}),"PRN"]})}),(0,n.jsxs)("div",{className:"medication-field",style:{flex:"0 0 200px"},children:[(0,n.jsx)("label",{className:"field-label required ".concat(Q.dose?"validation-error-label":""),children:"Dose"}),(0,n.jsx)(h,{value:es,onChange:ec,className:"text-input ".concat(Q.dose?"validation-error":""),step:.1,min:0})]}),(0,n.jsxs)("div",{className:"medication-field",style:{flex:"0 0 200px"},children:[(0,n.jsx)("label",{className:"field-label required ".concat(Q.unit?"validation-error-label":""),children:"Unit"}),(0,n.jsx)("input",{type:"text",value:el,onChange:e=>eo(e.target.value),className:"text-input ".concat(Q.unit?"validation-error":"")})]}),(0,n.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,n.jsx)("label",{className:"field-label required ".concat(Q.route?"validation-error-label":""),children:"Route"}),(0,n.jsx)("input",{type:"text",value:er,className:"text-input clickable-input ".concat(Q.route?"validation-error":""),readOnly:!0,onClick:()=>{Y(!0)},style:{cursor:"pointer"}})]})]}),(0,n.jsxs)("div",{className:"medication-row",children:[(0,n.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,n.jsx)("label",{className:"field-label",children:"Notes"}),(0,n.jsx)("input",{type:"text",value:em,className:"text-input clickable-input",readOnly:!0,onClick:()=>{z(!0)},style:{cursor:"pointer"}})]}),(0,n.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,n.jsx)("label",{className:"field-label",children:"Reason for ATP Violation"}),(0,n.jsx)("input",{type:"text",className:"text-input grayed-disabled",disabled:!0,readOnly:!0})]})]}),(0,n.jsxs)("div",{className:"medication-row",children:[(0,n.jsx)("div",{className:"medication-field",children:(0,n.jsxs)("label",{className:"field-label",children:[(0,n.jsx)("input",{type:"checkbox",checked:ex,onChange:e=>eb(e.target.checked),style:{marginRight:"8px"}}),"Drawn up not used"]})}),(0,n.jsx)("div",{className:"medication-field",children:(0,n.jsxs)("label",{className:"field-label",children:[(0,n.jsx)("input",{type:"checkbox",checked:eN,onChange:e=>ej(e.target.checked),style:{marginRight:"8px"}}),"Broken ampoule"]})}),(0,n.jsx)("div",{className:"medication-field",children:(0,n.jsxs)("label",{className:"field-label",children:[(0,n.jsx)("input",{type:"checkbox",checked:ev,onChange:e=>eC(e.target.checked),style:{marginRight:"8px"}}),"Discarded"]})})]}),(0,n.jsx)("div",{className:"medication-row",children:(0,n.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,n.jsx)("label",{className:"field-label",children:"Not possible"}),(0,n.jsx)("input",{type:"text",value:ey,className:"text-input clickable-input",readOnly:!0,onClick:()=>{K(!0)},style:{cursor:"pointer"},placeholder:"Select reason"})]})})]})]}):(0,n.jsxs)("section",{className:"incident-section",children:[(0,n.jsx)("h2",{className:"section-title",children:"Medication"}),0===I.length?(0,n.jsx)("div",{className:"no-record-message",children:"No record found."}):(0,n.jsx)("div",{style:{marginTop:"20px"},children:I.map((e,a)=>(0,n.jsxs)("div",{style:{backgroundColor:"#d8e8f8",padding:"15px",marginBottom:"10px",borderRadius:"4px",border:"1px solid #a8c5e0"},children:[(0,n.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px",color:"#2c5282"},children:e.time||"No time recorded"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",fontSize:"14px"},children:[e.medication&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Med:"})," ",e.medication]}),e.dose&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Dose:"})," ",e.dose," ",e.unit]}),e.route&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Route:"})," ",e.route]}),e.administeredBy&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"By:"})," ",e.administeredBy]}),e.notes&&(0,n.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,n.jsx)("strong",{children:"Notes:"})," ",e.notes]})]})]},a))})]})})]}),_?(0,n.jsxs)("div",{className:"eprf-footer vitals-edit-footer",children:[(0,n.jsx)("div",{className:"footer-left",children:(0,n.jsx)("button",{className:"footer-btn blue",children:"Competency Tool"})}),(0,n.jsxs)("div",{className:"footer-right",children:[(0,n.jsx)("button",{className:"footer-btn gray",onClick:()=>{e_(),eU(),ei(""),B(!1)},children:"Cancel and discard changes"}),(0,n.jsx)("button",{className:"footer-btn blue",onClick:()=>{eY()&&(e_(),ee(""),et(""),ec(""),eo(""),ed(""),eu(""),ep(""),eb(!1),ej(!1),eC(!1),ef(""),eP(""))},children:"Save and enter the same medicine again"}),(0,n.jsx)("button",{className:"footer-btn blue",onClick:()=>{eY()&&(e_(),eU(),ei(""))},children:"Save and enter a different medicine"}),(0,n.jsx)("button",{className:"footer-btn blue",onClick:()=>{eY()&&(e_(),B(!1))},children:"Save and return to Vital Obs/Treat"})]})]}):(0,n.jsxs)("div",{className:"eprf-footer vitals-footer",children:[(0,n.jsxs)("div",{className:"footer-left",children:[(0,n.jsx)("button",{className:"footer-btn large-blue",onClick:()=>eB("vital-obs"),children:"New Vitals"}),(0,n.jsx)("button",{className:"footer-btn large-blue",onClick:()=>{B(!0)},children:"New Meds"}),(0,n.jsx)("button",{className:"footer-btn large-blue",onClick:()=>{let e=new URLSearchParams({id:u,fleetId:p});a.push("/interventions?".concat(e))},children:"New Intervention"})]}),(0,n.jsxs)("div",{className:"footer-center",children:[(0,n.jsx)("button",{className:"footer-btn green",onClick:()=>{k(!0)},children:"Transfer ePRF"}),(0,n.jsx)("button",{className:"footer-btn green",onClick:()=>{let e=(0,c.Zl)(u);b(e.incompleteSections),e.isValid?f(!0):(G(e.fieldErrors),P(!0))},children:"Submit ePRF"})]}),(0,n.jsxs)("div",{className:"footer-right",children:[(0,n.jsx)("button",{className:"footer-btn orange",onClick:()=>{_&&eL(),eB("vital-obs")},children:"< Previous"}),(0,n.jsx)("button",{className:"footer-btn orange",onClick:()=>{_&&eL()},children:"Next >"})]})]}),Z&&(0,n.jsx)("div",{className:"modal-overlay",onClick:()=>W(!1),children:(0,n.jsxs)("div",{className:"datetime-picker",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("div",{className:"picker-header",children:"Set Time"}),(0,n.jsxs)("div",{className:"picker-display",children:["Wed, December ",String(eA).padStart(2,"0"),", ",eT," ",String(eM).padStart(2,"0"),":",String(eI).padStart(2,"0")]}),(0,n.jsxs)("div",{className:"picker-controls",children:[(0,n.jsxs)("div",{className:"picker-column",children:[(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eE(Math.min(31,eA+1)),children:"+"}),(0,n.jsx)("div",{className:"picker-value highlight",children:String(eA).padStart(2,"0")}),(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eE(Math.max(1,eA-1)),children:"-"})]}),(0,n.jsxs)("div",{className:"picker-column",children:[(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eG(12===ew?1:ew+1),children:"+"}),(0,n.jsx)("div",{className:"picker-value",children:String(ew).padStart(2,"0")}),(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eG(1===ew?12:ew-1),children:"-"})]}),(0,n.jsxs)("div",{className:"picker-column",children:[(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eR(eT+1),children:"+"}),(0,n.jsx)("div",{className:"picker-value",children:eT}),(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eR(eT-1),children:"-"})]}),(0,n.jsxs)("div",{className:"picker-column",children:[(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eO((eM+1)%24),children:"+"}),(0,n.jsx)("div",{className:"picker-value highlight",children:String(eM).padStart(2,"0")}),(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eO((eM-1+24)%24),children:"-"})]}),(0,n.jsxs)("div",{className:"picker-column",children:[(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eF((eI+1)%60),children:"+"}),(0,n.jsx)("div",{className:"picker-value highlight",children:String(eI).padStart(2,"0")}),(0,n.jsx)("button",{className:"picker-btn",onClick:()=>eF((eI-1+60)%60),children:"-"})]})]}),(0,n.jsxs)("div",{className:"picker-footer",children:[(0,n.jsx)("button",{className:"picker-footer-btn cancel",onClick:()=>W(!1),children:"Cancel"}),(0,n.jsx)("button",{className:"picker-footer-btn ok",onClick:()=>{ee("".concat(String(eA).padStart(2,"0"),"/").concat(String(ew).padStart(2,"0"),"/").concat(eT," ").concat(String(eM).padStart(2,"0"),":").concat(String(eI).padStart(2,"0"))),W(!1)},children:"OK"})]})]})}),q&&(0,n.jsx)("div",{className:"modal-overlay",onClick:()=>H(!1),children:(0,n.jsxs)("div",{className:"medication-search-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("div",{className:"medication-search-header",children:"Search Medication"}),(0,n.jsxs)("div",{className:"medication-search-input-section",children:[(0,n.jsx)("label",{className:"medication-search-label",children:"Medication *"}),(0,n.jsx)("input",{type:"text",value:eg,onChange:e=>ek(e.target.value),className:"medication-search-input",placeholder:"Type to search...",autoFocus:!0}),(0,n.jsxs)("div",{className:"medication-search-buttons",children:[(0,n.jsx)("button",{className:"medication-search-btn reset",onClick:()=>ek(""),children:"Reset..."}),(0,n.jsx)("button",{className:"medication-search-btn search",children:"Search"})]})]}),(0,n.jsx)("div",{className:"medication-list-header",children:"Medication *"}),(0,n.jsx)("div",{className:"medication-list-container",children:eK.map((e,a)=>(0,n.jsxs)("div",{className:"medication-list-item",onClick:()=>eV(e.name),children:[(0,n.jsx)("div",{className:"medication-name",children:e.name}),(0,n.jsx)("div",{className:"medication-code",children:e.code})]},a))}),(0,n.jsxs)("div",{className:"medication-search-footer",children:[(0,n.jsx)("button",{className:"medication-search-footer-btn cancel",onClick:()=>H(!1),children:"Cancel"}),(0,n.jsx)("button",{className:"medication-search-footer-btn ok",onClick:()=>H(!1),children:"OK"})]})]})}),U&&(0,n.jsx)("div",{className:"modal-overlay",onClick:()=>Y(!1),children:(0,n.jsxs)("div",{className:"route-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("div",{className:"route-header",children:"Route"}),(0,n.jsx)("div",{className:"route-list",children:["Per oral","Nasal prongs","Nebuliser mask","Sublingual","Inhaled","Intravenous","Intramuscular"].map((e,a)=>(0,n.jsx)("div",{className:"route-item",onClick:()=>ez(e),children:e},a))}),(0,n.jsx)("div",{className:"route-footer",children:(0,n.jsx)("button",{className:"route-footer-btn cancel",onClick:()=>Y(!1),children:"Cancel"})})]})}),V&&(0,n.jsx)("div",{className:"modal-overlay",onClick:()=>z(!1),children:(0,n.jsxs)("div",{className:"vital-detail-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("div",{className:"vital-modal-header",children:"Notes"}),(0,n.jsx)("div",{className:"vital-modal-section",children:(0,n.jsx)("textarea",{value:eS,onChange:e=>ef(e.target.value),placeholder:"Enter notes...",style:{width:"100%",minHeight:"200px",padding:"12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px",resize:"vertical"}})}),(0,n.jsxs)("div",{className:"vital-modal-actions",children:[(0,n.jsx)("button",{className:"vital-modal-btn secondary",children:"Competency Tool"}),(0,n.jsx)("button",{className:"vital-modal-btn cancel",onClick:()=>z(!1),children:"Cancel"}),(0,n.jsx)("button",{className:"vital-modal-btn ok",onClick:()=>{eu(eS),z(!1)},children:"OK"})]})]})}),J&&(0,n.jsx)("div",{className:"modal-overlay",onClick:()=>K(!1),children:(0,n.jsxs)("div",{className:"not-possible-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("div",{className:"not-possible-header",children:"Not possible"}),(0,n.jsxs)("div",{className:"not-possible-options",children:[(0,n.jsx)("button",{className:"not-possible-option ".concat("Patient does not understand"===ey?"selected":""),onClick:()=>eJ("Patient does not understand"),children:"Patient does not understand"}),(0,n.jsx)("button",{className:"not-possible-option ".concat("Patient refused"===ey?"selected":""),onClick:()=>eJ("Patient refused"),children:"Patient refused"}),(0,n.jsx)("button",{className:"not-possible-option ".concat("Patient unconscious"===ey?"selected":""),onClick:()=>eJ("Patient unconscious"),children:"Patient unconscious"}),(0,n.jsx)("button",{className:"not-possible-option ".concat("Not indicated"===ey?"selected":""),onClick:()=>eJ("Not indicated"),children:"Not indicated"}),(0,n.jsx)("button",{className:"not-possible-option ".concat("Contraindicated"===ey?"selected":""),onClick:()=>eJ("Contraindicated"),children:"Contraindicated"}),(0,n.jsx)("button",{className:"not-possible-option ".concat("Equipment failure"===ey?"selected":""),onClick:()=>eJ("Equipment failure"),children:"Equipment failure"})]})]})}),(0,n.jsx)(o.ZP,{isOpen:v,onClose:()=>C(!1),onConfirm:eH,title:"Add New Patient",message:"Are you sure you want to add a new patient?\n\nThis will:\n• Save the current Patient ".concat(N," data\n• Create a new patient record (Patient ").concat(String.fromCharCode(N.charCodeAt(0)+1),")\n• Clear the form for the new patient"),confirmText:"Yes, Add Patient",cancelText:"Cancel",type:"info",isLoading:T}),(0,n.jsx)(o.ZP,{isOpen:S,onClose:()=>f(!1),onConfirm:eq,title:"Submit ePRF",message:"Are you sure you want to submit this ePRF?\n\nThis will:\n• Generate a PDF report for Patient ".concat(N,"\n• Save the record to the database\n• Download the PDF to your device"),confirmText:"Yes, Submit ePRF",cancelText:"Cancel",type:"success",isLoading:T}),(0,n.jsx)(o.Yj,{isOpen:y,onClose:()=>P(!1),errors:w,getSectionDisplayName:c.aY}),(0,n.jsx)(o.i_,{isOpen:A,onClose:()=>E(!1),title:M.title,message:M.message}),(0,n.jsx)(r.Z,{isOpen:g,onClose:()=>k(!1),onTransferComplete:e=>{let{transferAllPatients:a}=t(190);a(u,e.discordId,e.callsign),k(!1),O({title:"ePRF Transferred",message:"The ePRF has been transferred to ".concat(e.callsign,". You will be redirected to the dashboard.")}),E(!0),setTimeout(()=>{eD()},2e3)},incidentId:u,patientLetter:N})]})}}},function(e){e.O(0,[505,125,914,973,12,971,30,744],function(){return e(e.s=683)}),_N_E=e.O()}]);