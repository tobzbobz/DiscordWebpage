(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{5205:function(e,a,s){Promise.resolve().then(s.bind(s,7533))},7533:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return h},runtime:function(){return m}});var t=s(7437),l=s(9376),i=s(2265),n=s(3278),r=s(1923),c=s(8310),o=s(459),d=s(8029),u=s(1028);let m="edge";function h(){let e=(0,l.useSearchParams)(),a=(0,l.useRouter)(),m=(null==e?void 0:e.get("id"))||"",h=(null==e?void 0:e.get("fleetId"))||"",[x,p]=(0,i.useState)([]),[b,v]=(0,i.useState)("A"),[j,N]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!1),[y,C]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),[P,w]=(0,i.useState)(!1),[Y,A]=(0,i.useState)({}),[M,T]=(0,i.useState)(!1),[D,F]=(0,i.useState)({title:"",message:""}),[I,R]=(0,i.useState)(""),[U,q]=(0,i.useState)(!1),[E,O]=(0,i.useState)(""),[_,H]=(0,i.useState)(""),[L,z]=(0,i.useState)(""),[Z,W]=(0,i.useState)(""),[B,G]=(0,i.useState)(""),[J,K]=(0,i.useState)(""),[V,Q]=(0,i.useState)(""),[X,$]=(0,i.useState)(""),[ee,ea]=(0,i.useState)(""),[es,et]=(0,i.useState)(!1),[el,ei]=(0,i.useState)(""),[en,er]=(0,i.useState)(""),[ec,eo]=(0,i.useState)(""),[ed,eu]=(0,i.useState)(""),[em,eh]=(0,i.useState)(""),[ex,ep]=(0,i.useState)(""),[eb,ev]=(0,i.useState)(""),[ej,eN]=(0,i.useState)(""),[ef,eg]=(0,i.useState)(""),[ey,eC]=(0,i.useState)(1),[ek,eS]=(0,i.useState)(""),[eP,ew]=(0,i.useState)(""),[eY,eA]=(0,i.useState)(""),[eM,eT]=(0,i.useState)(""),[eD,eF]=(0,i.useState)(""),[eI,eR]=(0,i.useState)(""),[eU,eq]=(0,i.useState)(""),[eE,eO]=(0,i.useState)(!1),[e_,eH]=(0,i.useState)(3),[eL,ez]=(0,i.useState)(12),[eZ,eW]=(0,i.useState)(2025);(0,i.useEffect)(()=>{m&&v((0,r.Q2)(m))},[m]),(0,i.useEffect)(()=>{if(m){let e=localStorage.getItem("patient_info_".concat(m));if(e)try{let a=JSON.parse(e);a.robloxUsername&&R(a.robloxUsername),void 0!==a.patientNotIdentified&&q(a.patientNotIdentified),a.title&&O(a.title),a.firstName&&H(a.firstName),a.middleName&&z(a.middleName),a.surname&&W(a.surname),a.preferredName&&G(a.preferredName),a.sex&&K(a.sex),a.dob&&Q(a.dob),a.age&&$(a.age),a.ageType&&ea(a.ageType),void 0!==a.ageEstimated&&et(a.ageEstimated),a.ethnicity&&ei(a.ethnicity),a.iwi&&er(a.iwi),a.ptAddress&&eo(a.ptAddress),a.billingPostalAddress&&eu(a.billingPostalAddress),a.homePhone&&eh(a.homePhone),a.workPhone&&ep(a.workPhone),a.mobilePhone&&ev(a.mobilePhone),a.email&&eN(a.email),a.residentCitizen&&eg(a.residentCitizen),a.currentSmoker&&eS(a.currentSmoker),a.currentMentalHealthCrisis&&ew(a.currentMentalHealthCrisis),a.alcoholContribute&&eA(a.alcoholContribute),a.recreationalDrugs&&eT(a.recreationalDrugs),a.estimatedImpairment&&eF(a.estimatedImpairment),a.estimatedWeight&&eR(a.estimatedWeight),a.nextOfKin&&eq(a.nextOfKin)}catch(e){console.error("Failed to load saved patient info:",e)}}},[m]),(0,i.useEffect)(()=>{m&&localStorage.setItem("patient_info_".concat(m),JSON.stringify({robloxUsername:I,patientNotIdentified:U,title:E,firstName:_,middleName:L,surname:Z,preferredName:B,sex:J,dob:V,age:X,ageType:ee,ageEstimated:es,ethnicity:el,iwi:en,ptAddress:ec,billingPostalAddress:ed,homePhone:em,workPhone:ex,mobilePhone:eb,email:ej,residentCitizen:ef,currentSmoker:ek,currentMentalHealthCrisis:eP,alcoholContribute:eY,recreationalDrugs:eM,estimatedImpairment:eD,estimatedWeight:eI,nextOfKin:eU}))},[m,I,U,E,_,L,Z,B,J,V,X,ee,es,el,en,ec,ed,em,ex,eb,ej,ef,ek,eP,eY,eM,eD,eI,eU]);let eB=async()=>{T(!0);try{let e=await (0,r.Gf)(m,h);e.success?(g(!1),F({title:"ePRF Submitted Successfully!",message:"The ePRF for Patient ".concat(b," has been submitted.\n\nA PDF copy has been downloaded to your device and the record has been saved.")}),S(!0)):e.validationResult&&(g(!1),A(e.validationResult.fieldErrors),p(e.validationResult.incompleteSections),C(!0))}catch(e){console.error("Submit error:",e),alert("An error occurred while submitting. Please try again.")}finally{T(!1)}},eG=async()=>{T(!0);try{let e=await (0,r.mb)(m);e.success?(N(!1),v(e.newLetter),F({title:"Patient Added Successfully!",message:"Patient ".concat(b," has been saved.\n\nYou are now working on Patient ").concat(e.newLetter,".\n\nThe form has been cleared for the new patient.")}),S(!0),setTimeout(()=>{let e=new URLSearchParams({id:m,fleetId:h});a.push("/patient-info?".concat(e))},2e3)):alert(e.error||"Failed to add patient")}catch(e){console.error("Add patient error:",e),alert("An error occurred. Please try again.")}finally{T(!1)}},eJ=e=>x.includes("patient-info")&&("robloxUsername"===e&&!I||"firstName"===e&&!_||"surname"===e&&!Z||"sex"===e&&!J||"dob"===e&&!V||"age"===e&&!X||"ageType"===e&&!ee||"ptAddress"===e&&!ec),eK=()=>{let e=new URLSearchParams({fleetId:h});a.push("/dashboard?".concat(e))},eV=e=>{let s=new URLSearchParams({id:m,fleetId:h});"incident"===e?a.push("/incident?".concat(s)):"patient-info"===e?a.push("/patient-info?".concat(s)):"primary-survey"===e?a.push("/primary-survey?".concat(s)):"vital-obs"===e?a.push("/vital-obs?".concat(s)):"hx-complaint"===e?a.push("/hx-complaint?".concat(s)):"past-medical-history"===e?a.push("/past-medical-history?".concat(s)):"clinical-impression"===e?a.push("/clinical-impression?".concat(s)):"disposition"===e?a.push("/disposition?".concat(s)):"media"===e&&a.push("/media?".concat(s))};return(0,t.jsxs)("div",{className:"eprf-dashboard incident-page",children:[(0,t.jsxs)("div",{className:"eprf-nav",children:[(0,t.jsx)("button",{className:"nav-btn",onClick:eK,children:"Home"}),(0,t.jsx)("button",{className:"nav-btn",children:"Tools"}),(0,t.jsx)("button",{className:"nav-btn",onClick:()=>{let e=(0,d.ts)();e&&(0,u.GJ)(e.discordId)&&a.push("/admin")},children:"Admin Panel"}),(0,t.jsx)("button",{className:"nav-btn",onClick:()=>{a.push("/")},children:"Manage Crew"}),(0,t.jsxs)("div",{className:"page-counter",children:[(0,t.jsx)("span",{className:"patient-letter",children:b}),(0,t.jsxs)("span",{className:"page-indicator",children:[ey," of 2"]})]})]}),(0,t.jsxs)("div",{className:"incident-layout",children:[(0,t.jsxs)("aside",{className:"sidebar",children:[(0,t.jsx)("button",{className:"sidebar-btn".concat(x.includes("incident")?" incomplete":""),onClick:()=>eV("incident"),children:"Incident Information"}),(0,t.jsx)("button",{className:"sidebar-btn active".concat(x.includes("patient-info")?" incomplete":""),children:"Patient Information"}),(0,t.jsx)("button",{className:"sidebar-btn".concat(x.includes("primary-survey")?" incomplete":""),onClick:()=>eV("primary-survey"),children:"Primary Survey"}),(0,t.jsx)("button",{className:"sidebar-btn".concat(x.includes("vital-obs")?" incomplete":""),onClick:()=>eV("vital-obs"),children:"Vital Obs / Treat"}),(0,t.jsx)("button",{className:"sidebar-btn".concat(x.includes("hx-complaint")?" incomplete":""),onClick:()=>eV("hx-complaint"),children:"Hx Complaint"}),(0,t.jsx)("button",{className:"sidebar-btn".concat(x.includes("past-medical-history")?" incomplete":""),onClick:()=>eV("past-medical-history"),children:"Past Medical History"}),(0,t.jsx)("button",{className:"sidebar-btn".concat(x.includes("clinical-impression")?" incomplete":""),onClick:()=>eV("clinical-impression"),children:"Clinical Impression"}),(0,t.jsx)("button",{className:"sidebar-btn".concat(x.includes("disposition")?" incomplete":""),onClick:()=>eV("disposition"),children:"Disposition"}),(0,t.jsx)("button",{className:"sidebar-btn",onClick:()=>eV("media"),children:"Media"})]}),(0,t.jsx)("main",{className:"incident-content",children:(0,t.jsxs)("section",{className:"incident-section",children:[(0,t.jsx)("h2",{className:"section-title",children:"Patient Information"}),1===ey&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 200px"},children:[(0,t.jsx)("label",{className:"field-label required ".concat(eJ("robloxUsername")?"validation-error-label":""),children:"Roblox Username"}),(0,t.jsx)("input",{type:"text",className:"text-input ".concat(eJ("robloxUsername")?"validation-error":""),value:I,onChange:e=>R(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 150px"},children:[(0,t.jsx)("label",{className:"field-label",children:"Title"}),(0,t.jsxs)("select",{className:"text-input",value:E,onChange:e=>O(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"Mr",children:"Mr"}),(0,t.jsx)("option",{value:"Mrs",children:"Mrs"}),(0,t.jsx)("option",{value:"Ms",children:"Ms"}),(0,t.jsx)("option",{value:"Miss",children:"Miss"}),(0,t.jsx)("option",{value:"Dr",children:"Dr"}),(0,t.jsx)("option",{value:"Rev",children:"Rev"})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"1"},children:[(0,t.jsx)("label",{className:"field-label",style:{visibility:"hidden"},children:"Spacer"}),(0,t.jsxs)("label",{className:"patient-checkbox",children:[(0,t.jsx)("input",{type:"checkbox",checked:U,onChange:e=>q(e.target.checked)}),"Patient not fully identified"]})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label required ".concat(eJ("firstName")?"validation-error-label":""),children:"First Name"}),(0,t.jsx)("input",{type:"text",className:"text-input ".concat(eJ("firstName")?"validation-error":""),value:_,onChange:e=>H(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Middle Names"}),(0,t.jsx)("input",{type:"text",className:"text-input",value:L,onChange:e=>z(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label required ".concat(eJ("surname")?"validation-error-label":""),children:"Family Name"}),(0,t.jsx)("input",{type:"text",className:"text-input ".concat(eJ("surname")?"validation-error":""),value:Z,onChange:e=>W(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Preferred Name"}),(0,t.jsx)("input",{type:"text",className:"text-input",value:B,onChange:e=>G(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 200px"},children:[(0,t.jsx)("label",{className:"field-label required ".concat(eJ("sex")?"validation-error-label":""),children:"Sex"}),(0,t.jsxs)("select",{className:"text-input ".concat(eJ("sex")?"validation-error":""),value:J,onChange:e=>K(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"Male",children:"Male"}),(0,t.jsx)("option",{value:"Female",children:"Female"}),(0,t.jsx)("option",{value:"Indeterminate",children:"Indeterminate"}),(0,t.jsx)("option",{value:"Unknown",children:"Unknown"})]})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label required ".concat(eJ("dob")?"validation-error-label":""),children:"DoB"}),(0,t.jsx)("input",{type:"text",className:"text-input ".concat(eJ("dob")?"validation-error":""),value:V,onClick:()=>{let e=new Date;eH(e.getDate()),ez(e.getMonth()+1),eW(e.getFullYear()),eO(!0)},readOnly:!0})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 100px"},children:[(0,t.jsx)("label",{className:"field-label required ".concat(eJ("age")?"validation-error-label":""),children:"Age"}),(0,t.jsx)("input",{type:"text",className:"text-input ".concat(eJ("age")?"validation-error":""),value:X,onChange:e=>$(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 150px"},children:[(0,t.jsx)("label",{className:"field-label required ".concat(eJ("ageType")?"validation-error-label":""),children:"Age Type"}),(0,t.jsxs)("select",{className:"text-input ".concat(eJ("ageType")?"validation-error":""),value:ee,onChange:e=>ea(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"Days",children:"Day(s)"}),(0,t.jsx)("option",{value:"Months",children:"Month(s)"}),(0,t.jsx)("option",{value:"Years",children:"Year(s)"})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 80px"},children:[(0,t.jsx)("label",{className:"field-label",style:{visibility:"hidden"},children:"Spacer"}),(0,t.jsxs)("label",{className:"patient-checkbox",children:[(0,t.jsx)("input",{type:"checkbox",checked:es,onChange:e=>et(e.target.checked)}),"Est."]})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label required ".concat(eJ("ptAddress")?"validation-error-label":""),children:"Patient Address"}),(0,t.jsx)("textarea",{className:"text-input textarea-large ".concat(eJ("ptAddress")?"validation-error":""),rows:3,value:ec,onChange:e=>eo(e.target.value)})]}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"12px",alignSelf:"flex-end",marginBottom:"8px"},children:(0,t.jsx)("button",{className:"copy-btn-large",onClick:()=>{eu(ec)},children:"Copy >"})}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Billing or Postal Address"}),(0,t.jsx)("textarea",{className:"text-input textarea-large",rows:3,value:ed,onChange:e=>eu(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Home Phone"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",value:em,onChange:e=>eh(e.target.value),disabled:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Work Phone"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",value:ex,onChange:e=>ep(e.target.value),disabled:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Mobile Phone"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",value:eb,onChange:e=>ev(e.target.value),disabled:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Email"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",value:ej,onChange:e=>eN(e.target.value),disabled:!0})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 300px"},children:[(0,t.jsx)("label",{className:"field-label",children:"Ethnicity"}),(0,t.jsxs)("select",{className:"text-input grayed-disabled",value:el,onChange:e=>ei(e.target.value),disabled:!0,children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"European",children:"European"}),(0,t.jsx)("option",{value:"Maori",children:"Māori"}),(0,t.jsx)("option",{value:"Pacific",children:"Pacific"}),(0,t.jsx)("option",{value:"Asian",children:"Asian"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 300px"},children:[(0,t.jsx)("label",{className:"field-label",children:"Iwi"}),(0,t.jsx)("select",{className:"text-input grayed-disabled",value:en,onChange:e=>er(e.target.value),disabled:!0,children:(0,t.jsx)("option",{value:"",children:"---"})})]})]}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 400px"},children:[(0,t.jsx)("label",{className:"field-label",children:"NZ Resident or Citizen"}),(0,t.jsxs)("div",{className:"sex-options",children:[(0,t.jsxs)("label",{className:"sex-option grayed-disabled",children:[(0,t.jsx)("input",{type:"radio",name:"residentCitizen",value:"Yes",checked:"Yes"===ef,onChange:e=>eg(e.target.value),disabled:!0}),"Yes"]}),(0,t.jsxs)("label",{className:"sex-option grayed-disabled",children:[(0,t.jsx)("input",{type:"radio",name:"residentCitizen",value:"No",checked:"No"===ef,onChange:e=>eg(e.target.value),disabled:!0}),"No"]}),(0,t.jsxs)("label",{className:"sex-option grayed-disabled",children:[(0,t.jsx)("input",{type:"radio",name:"residentCitizen",value:"Unknown",checked:"Unknown"===ef,onChange:e=>eg(e.target.value),disabled:!0}),"Unknown"]})]})]})})]}),2===ey&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Current smoker?"}),(0,t.jsxs)("div",{className:"substance-options",children:[(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"currentSmoker",value:"Yes",checked:"Yes"===ek,onChange:e=>eS(e.target.value)}),"Yes"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"currentSmoker",value:"No",checked:"No"===ek,onChange:e=>eS(e.target.value)}),"No"]})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Current mental health crisis?"}),(0,t.jsxs)("div",{className:"substance-options",children:[(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"mentalHealthCrisis",value:"Yes",checked:"Yes"===eP,onChange:e=>ew(e.target.value)}),"Yes"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"mentalHealthCrisis",value:"No",checked:"No"===eP,onChange:e=>ew(e.target.value)}),"No"]})]})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Did alcohol contribute?"}),(0,t.jsxs)("div",{className:"substance-options",children:[(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"alcoholContribute",value:"Yes",checked:"Yes"===eY,onChange:e=>eA(e.target.value)}),"Yes"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"alcoholContribute",value:"No",checked:"No"===eY,onChange:e=>eA(e.target.value)}),"No"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"alcoholContribute",value:"Not Sure",checked:"Not Sure"===eY,onChange:e=>eA(e.target.value)}),"Not Sure"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"alcoholContribute",value:"3rd Party",checked:"3rd Party"===eY,onChange:e=>eA(e.target.value)}),"3rd Party"]})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Estimated impairment level"}),(0,t.jsxs)("select",{className:"text-input",value:eD,onChange:e=>eF(e.target.value),disabled:!("Yes"===ek||"Yes"===eY||"Yes"===eM),style:{opacity:"Yes"===ek||"Yes"===eY||"Yes"===eM?1:.5},children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"Uninhibited",children:"Uninhibited"}),(0,t.jsx)("option",{value:"Overly talkative",children:"Overly talkative"}),(0,t.jsx)("option",{value:"Slurring",children:"Slurring"}),(0,t.jsx)("option",{value:"Unintelligible words",children:"Unintelligible words"}),(0,t.jsx)("option",{value:"Unable to mobilise",children:"Unable to mobilise"})]})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Did patient take recreational drugs?"}),(0,t.jsxs)("div",{className:"substance-options",children:[(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"recreationalDrugs",value:"Yes",checked:"Yes"===eM,onChange:e=>eT(e.target.value)}),"Yes"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"recreationalDrugs",value:"No",checked:"No"===eM,onChange:e=>eT(e.target.value)}),"No"]})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Estimated weight (kg)"}),(0,t.jsx)("input",{type:"text",className:"text-input",value:eI,onChange:e=>eR(e.target.value)})]})]}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsxs)("div",{className:"form-field full-width",children:[(0,t.jsx)("label",{className:"field-label",children:"Next of Kin"}),(0,t.jsx)("input",{type:"text",className:"text-input",value:eU,onChange:e=>eq(e.target.value)})]})})]})]})})]}),eE&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>eO(!1),children:(0,t.jsxs)("div",{className:"datetime-picker date-only-picker",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"picker-header",children:"Set Date"}),(0,t.jsxs)("div",{className:"picker-display",children:["Wed, December ",String(e_).padStart(2,"0"),", ",eZ]}),(0,t.jsxs)("div",{className:"picker-controls",children:[(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eH(Math.min(31,e_+1)),children:"+"}),(0,t.jsx)("div",{className:"picker-value highlight",children:String(e_).padStart(2,"0")}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eH(Math.max(1,e_-1)),children:"-"})]}),(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>ez(12===eL?1:eL+1),children:"+"}),(0,t.jsx)("div",{className:"picker-value",children:String(eL).padStart(2,"0")}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>ez(1===eL?12:eL-1),children:"-"})]}),(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eW(eZ+1),children:"+"}),(0,t.jsx)("div",{className:"picker-value",children:eZ}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eW(Math.max(1900,eZ-1)),children:"-"})]})]}),(0,t.jsxs)("div",{className:"picker-actions",children:[(0,t.jsx)("button",{className:"picker-action-btn cancel",onClick:()=>eO(!1),children:"Clear"}),(0,t.jsx)("button",{className:"picker-action-btn ok",onClick:()=>{Q("".concat(String(e_).padStart(2,"0"),"/").concat(String(eL).padStart(2,"0"),"/").concat(eZ)),eO(!1)},children:"Set"})]})]})}),(0,t.jsxs)("div",{className:"eprf-footer incident-footer",children:[(0,t.jsxs)("div",{className:"footer-left",children:[(0,t.jsx)("button",{className:"footer-btn internet",children:"Internet"}),(0,t.jsx)("button",{className:"footer-btn server",children:"Server"}),(0,t.jsx)("button",{className:"footer-btn green",onClick:()=>{N(!0)},children:"Add Patient"}),(0,t.jsx)("button",{className:"footer-btn green",onClick:()=>{w(!0)},children:"Transfer ePRF"}),(0,t.jsx)("button",{className:"footer-btn green",onClick:()=>{let e=(0,n.Zl)(m);p(e.incompleteSections),e.isValid?g(!0):(A(e.fieldErrors),C(!0))},children:"Submit ePRF"})]}),(0,t.jsx)("div",{className:"footer-center",children:(0,t.jsxs)("span",{className:"page-counter",children:["Page ",ey," of 2"]})}),(0,t.jsxs)("div",{className:"footer-right",children:[(0,t.jsx)("button",{className:"footer-btn orange",onClick:()=>{2===ey?eC(1):eV("incident")},children:"< Previous"}),(0,t.jsx)("button",{className:"footer-btn orange",onClick:()=>{1===ey?eC(2):eV("primary-survey")},children:"Next >"})]})]}),(0,t.jsx)(c.ZP,{isOpen:j,onClose:()=>N(!1),onConfirm:eG,title:"Add New Patient",message:"Are you sure you want to add a new patient?\n\nThis will:\n• Save the current Patient ".concat(b," data\n• Create a new patient record (Patient ").concat(String.fromCharCode(b.charCodeAt(0)+1),")\n• Clear the form for the new patient"),confirmText:"Yes, Add Patient",cancelText:"Cancel",type:"info",isLoading:M}),(0,t.jsx)(c.ZP,{isOpen:f,onClose:()=>g(!1),onConfirm:eB,title:"Submit ePRF",message:"Are you sure you want to submit this ePRF?\n\nThis will:\n• Generate a PDF report for Patient ".concat(b,"\n• Save the record to the database\n• Download the PDF to your device"),confirmText:"Yes, Submit ePRF",cancelText:"Cancel",type:"success",isLoading:M}),(0,t.jsx)(c.Yj,{isOpen:y,onClose:()=>C(!1),errors:Y,getSectionDisplayName:n.aY}),(0,t.jsx)(c.i_,{isOpen:k,onClose:()=>S(!1),title:D.title,message:D.message}),(0,t.jsx)(o.Z,{isOpen:P,onClose:()=>w(!1),onTransferComplete:e=>{let{transferAllPatients:a}=s(190);a(m,e.discordId,e.callsign),w(!1),F({title:"ePRF Transferred",message:"The ePRF has been transferred to ".concat(e.callsign,". You will be redirected to the dashboard.")}),S(!0),setTimeout(()=>{eK()},2e3)},incidentId:m,patientLetter:b})]})}}},function(e){e.O(0,[505,125,914,973,12,971,30,744],function(){return e(e.s=5205)}),_N_E=e.O()}]);