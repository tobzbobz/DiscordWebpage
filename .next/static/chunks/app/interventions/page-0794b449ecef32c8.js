(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{1326:function(e,s,a){Promise.resolve().then(a.bind(a,4219))},4219:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return p},runtime:function(){return h}});var i=a(7437),t=a(9376),n=a(2265),l=a(3278),c=a(1923),r=a(8310),o=a(459),d=a(8029),u=a(1028);let h="edge";function m(e){let{value:s,onChange:a,className:t="",step:l=1,min:c,max:r,placeholder:o,style:d,disabled:u}=e,h=(0,n.useRef)(null),m=()=>{if(u)return;let e=parseFloat(s)||0,i=void 0!==r?Math.min(r,e+l):e+l;a(l<1?i.toFixed(1):i.toString())},p=()=>{if(u)return;let e=parseFloat(s)||0,i=void 0!==c?Math.max(c,e-l):e-l;a(l<1?i.toFixed(1):i.toString())};return(0,i.jsxs)("div",{className:"numeric-input-wrapper",style:d,children:[(0,i.jsx)("input",{ref:h,type:"number",value:s,onChange:e=>a(e.target.value),onKeyDown:e=>{u||("ArrowUp"===e.key?(e.preventDefault(),m()):"ArrowDown"===e.key&&(e.preventDefault(),p()))},className:t,placeholder:o,disabled:u,step:l,min:c,max:r}),!u&&(0,i.jsxs)("div",{className:"numeric-arrows",children:[(0,i.jsx)("button",{type:"button",className:"numeric-arrow-btn up",onClick:m,tabIndex:-1,children:"▲"}),(0,i.jsx)("button",{type:"button",className:"numeric-arrow-btn down",onClick:p,tabIndex:-1,children:"▼"})]})]})}function p(){let e=(0,t.useSearchParams)(),s=(0,t.useRouter)(),h=(null==e?void 0:e.get("id"))||"",p=(null==e?void 0:e.get("fleetId"))||"",[x,v]=(0,n.useState)([]),[j,b]=(0,n.useState)("A"),[N,g]=(0,n.useState)(!1),[f,S]=(0,n.useState)(!1),[y,k]=(0,n.useState)(!1),[C,O]=(0,n.useState)(!1),[w,P]=(0,n.useState)(!1),[R,T]=(0,n.useState)({}),[D,I]=(0,n.useState)(!1),[q,L]=(0,n.useState)({title:"",message:""});(0,n.useEffect)(()=>{h&&b((0,c.Q2)(h))},[h]);let[A,M]=(0,n.useState)(()=>{{let e=localStorage.getItem("interventions_".concat(h));return e?JSON.parse(e):[]}});(0,n.useEffect)(()=>{h&&localStorage.setItem("interventions_".concat(h),JSON.stringify(A))},[A,h]);let[E,F]=(0,n.useState)(()=>{{let e=localStorage.getItem("interventions_draft_".concat(h));return e?JSON.parse(e):null}});(0,n.useEffect)(()=>{E&&h&&(ep(E.time||""),ev(E.performedBy||""),eb(E.airway||""),eg(E.ventilation||""),eS(E.peep||""),ek(E.cpap||""),eO(E.rsi||""),eP(E.cpr||""),eT(E.cprCompressions||""),eI(E.cprVentilations||""),eL(E.cprContinuous||!1),eM(E.cprDiscontinued||""),eF(E.defibrillation||""),sF(E.defibrillationJoules||""),e_(E.cardioversion||""),eB(E.pacing||""),eJ(E.valsalva||""),eH(E.ivCannulation||""),eZ(E.ivSite||""),ez(E.ivAttempts||""),eX(E.ivSuccessful||""),e0(E.ioAccess||""),e2(E.ioSite||""),e4(E.ioAttempts||""),e6(E.ioSuccessful||""),e9(E.ioNotes||""),se(E.chestDecompression||""),sa(E.stomachDecompression||""),st(E.catheterTroubleshooting||""),sl(E.nerveBlock||""),sr(E.positioning||""),sd(E.positioningPosition||""),sh(E.positioningLegsElevated||""),sp(E.positioningOther||""),sv(E.splintDressingTag||""),sb(E.splintSelection||""),sg(E.splintOther||""),sS(E.nasalTamponade||""),sk(E.tourniquet||""),sO(E.tourniquetLocation||""),sP(E.tourniquetSuccessful||""),sT(E.limbReduction||""),sI(E.epleManoeuvre||""),sL(E.otherInterventionNotes||""),sM(E.airwayMethod||""),E.showNewIntervention&&_(!0))},[]);let[U,_]=(0,n.useState)(!1),[V,B]=(0,n.useState)({}),[Y,J]=(0,n.useState)(!1),[K,H]=(0,n.useState)(!1),[G,Z]=(0,n.useState)(!1),[W,z]=(0,n.useState)(!1),[Q,X]=(0,n.useState)(!1),[$,ee]=(0,n.useState)(!1),[es,ea]=(0,n.useState)(!1),[ei,et]=(0,n.useState)(!1),[en,el]=(0,n.useState)(!1),[ec,er]=(0,n.useState)(!1),[eo,ed]=(0,n.useState)(!1),[eu,eh]=(0,n.useState)(!1),[em,ep]=(0,n.useState)(""),[ex,ev]=(0,n.useState)(""),[ej,eb]=(0,n.useState)(""),[eN,eg]=(0,n.useState)(""),[ef,eS]=(0,n.useState)(""),[ey,ek]=(0,n.useState)(""),[eC,eO]=(0,n.useState)(""),[ew,eP]=(0,n.useState)(""),[eR,eT]=(0,n.useState)(""),[eD,eI]=(0,n.useState)(""),[eq,eL]=(0,n.useState)(!1),[eA,eM]=(0,n.useState)(""),[eE,eF]=(0,n.useState)(""),[eU,e_]=(0,n.useState)(""),[eV,eB]=(0,n.useState)(""),[eY,eJ]=(0,n.useState)(""),[eK,eH]=(0,n.useState)(""),[eG,eZ]=(0,n.useState)(""),[eW,ez]=(0,n.useState)(""),[eQ,eX]=(0,n.useState)(""),[e$,e0]=(0,n.useState)(""),[e1,e2]=(0,n.useState)(""),[e3,e4]=(0,n.useState)(""),[e5,e6]=(0,n.useState)(""),[e8,e9]=(0,n.useState)(""),[e7,se]=(0,n.useState)(""),[ss,sa]=(0,n.useState)(""),[si,st]=(0,n.useState)(""),[sn,sl]=(0,n.useState)(""),[sc,sr]=(0,n.useState)(""),[so,sd]=(0,n.useState)(""),[su,sh]=(0,n.useState)(""),[sm,sp]=(0,n.useState)(""),[sx,sv]=(0,n.useState)(""),[sj,sb]=(0,n.useState)(""),[sN,sg]=(0,n.useState)(""),[sf,sS]=(0,n.useState)(""),[sy,sk]=(0,n.useState)(""),[sC,sO]=(0,n.useState)(""),[sw,sP]=(0,n.useState)(""),[sR,sT]=(0,n.useState)(""),[sD,sI]=(0,n.useState)(""),[sq,sL]=(0,n.useState)(""),[sA,sM]=(0,n.useState)(""),[sE,sF]=(0,n.useState)(""),[sU,s_]=(0,n.useState)(1),[sV,sB]=(0,n.useState)(1),[sY,sJ]=(0,n.useState)(2025),[sK,sH]=(0,n.useState)(0),[sG,sZ]=(0,n.useState)(0),sW=()=>{let e=new URLSearchParams({fleetId:p});s.push("/dashboard?".concat(e))},sz=()=>{h&&localStorage.setItem("interventions_draft_".concat(h),JSON.stringify({showNewIntervention:U,time:em,performedBy:ex,airway:ej,ventilation:eN,peep:ef,cpap:ey,rsi:eC,cpr:ew,cprCompressions:eR,cprVentilations:eD,cprContinuous:eq,cprDiscontinued:eA,defibrillation:eE,defibrillationJoules:sE,cardioversion:eU,pacing:eV,valsalva:eY,ivCannulation:eK,ivSite:eG,ivAttempts:eW,ivSuccessful:eQ,ioAccess:e$,ioSite:e1,ioAttempts:e3,ioSuccessful:e5,ioNotes:e8,chestDecompression:e7,stomachDecompression:ss,catheterTroubleshooting:si,nerveBlock:sn,positioning:sc,positioningPosition:so,positioningLegsElevated:su,positioningOther:sm,splintDressingTag:sx,splintSelection:sj,splintOther:sN,nasalTamponade:sf,tourniquet:sy,tourniquetLocation:sC,tourniquetSuccessful:sw,limbReduction:sR,epleManoeuvre:sD,otherInterventionNotes:sq,airwayMethod:sA}))},sQ=()=>{h&&localStorage.removeItem("interventions_draft_".concat(h))},sX=e=>{U&&sz();let a=new URLSearchParams({id:h,fleetId:p});"incident"===e?s.push("/incident?".concat(a)):"patient-info"===e?s.push("/patient-info?".concat(a)):"primary-survey"===e?s.push("/primary-survey?".concat(a)):"vital-obs"===e?s.push("/vital-obs?".concat(a)):"medications"===e?s.push("/medications?".concat(a)):"hx-complaint"===e?s.push("/hx-complaint?".concat(a)):"past-medical-history"===e?s.push("/past-medical-history?".concat(a)):"clinical-impression"===e?s.push("/clinical-impression?".concat(a)):"disposition"===e?s.push("/disposition?".concat(a)):"media"===e&&s.push("/media?".concat(a))},s$=async()=>{I(!0);try{let e=await (0,c.Gf)(h,p);e.success?(S(!1),L({title:"ePRF Submitted Successfully!",message:"The ePRF for Patient ".concat(j," has been submitted.\n\nA PDF copy has been downloaded to your device and the record has been saved.")}),P(!0)):e.validationResult&&(S(!1),T(e.validationResult.fieldErrors),v(e.validationResult.incompleteSections),O(!0))}catch(e){console.error("Submit error:",e),alert("An error occurred while submitting. Please try again.")}finally{I(!1)}},s0=async()=>{I(!0);try{let e=await (0,c.mb)(h);e.success?(g(!1),b(e.newLetter),L({title:"Patient Added Successfully!",message:"Patient ".concat(j," has been saved.\n\nYou are now working on Patient ").concat(e.newLetter,".\n\nThe form has been cleared for the new patient.")}),P(!0),setTimeout(()=>{let e=new URLSearchParams({id:h,fleetId:p});s.push("/patient-info?".concat(e))},2e3)):alert(e.error||"Failed to add patient")}catch(e){console.error("Add patient error:",e),alert("An error occurred. Please try again.")}finally{I(!1)}},s1=()=>{ep(""),ev(""),eb(""),eg(""),eS(""),ek(""),eO(""),eP(""),eT(""),eI(""),eL(!1),eM(""),eF(""),sF(""),e_(""),eB(""),eJ(""),eH(""),eZ(""),ez(""),eX(""),e0(""),e2(""),e4(""),e6(""),e9(""),se(""),sa(""),st(""),sl(""),sr(""),sd(""),sh(""),sp(""),sv(""),sb(""),sg(""),sS(""),sk(""),sO(""),sP(""),sT(""),sI(""),sL(""),sM("")},s2=()=>{let e={};return em||(e.time=!0),ex||(e.performedBy=!0),B(e),!(Object.keys(e).length>0)&&(M([...A,{time:em,performedBy:ex,airway:ej,ventilation:eN,rsi:eC,cpr:ew,defibrillation:eE,cardioversion:eU,pacing:eV,valsalva:eY,ivCannulation:eK,ioAccess:e$,chestDecompression:e7,stomachDecompression:ss,catheterTroubleshooting:si,nerveBlock:sn,positioning:sc,splintDressingTag:sx,nasalTamponade:sf,tourniquet:sy,limbReduction:sR,epleManoeuvre:sD,otherInterventionNotes:sq}]),B({}),!0)},s3=e=>{sM(e),eb(e),J(!1)},s4=e=>{eO(e),H(!1)},s5=e=>{eF(e),sF(e),z(!1)},s6=e=>{sb(e),"Other"!==e&&(sv(e),et(!1))};return(0,i.jsxs)("div",{className:"eprf-dashboard incident-page",children:[(0,i.jsxs)("div",{className:"eprf-nav",children:[(0,i.jsx)("button",{className:"nav-btn",onClick:sW,children:"Home"}),(0,i.jsx)("button",{className:"nav-btn",children:"Tools"}),(0,i.jsx)("button",{className:"nav-btn",onClick:()=>{let e=(0,d.ts)();e&&(0,u.GJ)(e.discordId)&&s.push("/admin")},children:"Admin Panel"}),(0,i.jsx)("button",{className:"nav-btn",onClick:()=>{s.push("/")},children:"Manage Crew"}),(0,i.jsxs)("div",{className:"page-counter",children:[(0,i.jsx)("span",{className:"patient-letter",children:j}),(0,i.jsx)("span",{className:"page-indicator",children:"1 of 1"})]})]}),(0,i.jsxs)("div",{className:"incident-layout",children:[(0,i.jsxs)("aside",{className:"sidebar",children:[(0,i.jsx)("button",{className:"sidebar-btn".concat(x.includes("incident")?" incomplete":""),onClick:()=>sX("incident"),children:"Incident Information"}),(0,i.jsx)("button",{className:"sidebar-btn".concat(x.includes("patient-info")?" incomplete":""),onClick:()=>sX("patient-info"),children:"Patient Information"}),(0,i.jsx)("button",{className:"sidebar-btn".concat(x.includes("primary-survey")?" incomplete":""),onClick:()=>sX("primary-survey"),children:"Primary Survey"}),(0,i.jsx)("button",{className:"sidebar-btn".concat(x.includes("vital-obs")?" incomplete":""),onClick:()=>sX("vital-obs"),children:"Vital Obs / Treat"}),(0,i.jsx)("button",{className:"sidebar-btn".concat(x.includes("hx-complaint")?" incomplete":""),onClick:()=>sX("hx-complaint"),children:"Hx Complaint"}),(0,i.jsx)("button",{className:"sidebar-btn".concat(x.includes("past-medical-history")?" incomplete":""),onClick:()=>sX("past-medical-history"),children:"Past Medical History"}),(0,i.jsx)("button",{className:"sidebar-btn".concat(x.includes("clinical-impression")?" incomplete":""),onClick:()=>sX("clinical-impression"),children:"Clinical Impression"}),(0,i.jsx)("button",{className:"sidebar-btn".concat(x.includes("disposition")?" incomplete":""),onClick:()=>sX("disposition"),children:"Disposition"}),(0,i.jsx)("button",{className:"sidebar-btn",onClick:()=>sX("media"),children:"Media"})]}),(0,i.jsx)("main",{className:"incident-content",children:U?(0,i.jsxs)("section",{className:"incident-section",children:[(0,i.jsx)("h2",{className:"section-title",children:"Intervention(s)"}),(0,i.jsxs)("div",{className:"intervention-form",children:[(0,i.jsxs)("div",{className:"intervention-header-row",children:[(0,i.jsxs)("div",{className:"intervention-field",style:{flex:"0 0 300px"},children:[(0,i.jsx)("label",{className:"field-label required ".concat(V.time?"validation-error-label":""),children:"Time"}),(0,i.jsxs)("div",{className:"input-with-btn",children:[(0,i.jsx)("input",{type:"text",value:em,onChange:e=>ep(e.target.value),onClick:()=>{let e=new Date;s_(e.getDate()),sB(e.getMonth()+1),sJ(e.getFullYear()),sH(e.getHours()),sZ(e.getMinutes()),ed(!0)},className:"text-input ".concat(V.time?"validation-error":""),readOnly:!0}),(0,i.jsx)("button",{className:"now-btn",onClick:()=>{let e=new Date;ep("".concat(String(e.getDate()).padStart(2,"0"),"/").concat(String(e.getMonth()+1).padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(String(e.getHours()).padStart(2,"0"),":").concat(String(e.getMinutes()).padStart(2,"0")))},children:"Now"})]})]}),(0,i.jsxs)("div",{className:"intervention-field",style:{flex:1},children:[(0,i.jsx)("label",{className:"field-label required ".concat(V.performedBy?"validation-error-label":""),children:"Performed by"}),(0,i.jsx)("input",{type:"text",value:ex,onChange:e=>ev(e.target.value),className:"text-input ".concat(V.performedBy?"validation-error":""),placeholder:"roblox username"})]})]}),(0,i.jsxs)("div",{className:"intervention-category",children:[(0,i.jsx)("div",{className:"intervention-category-label",children:"Airway"}),(0,i.jsxs)("div",{className:"intervention-row",children:[(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Airway"}),(0,i.jsx)("input",{type:"text",value:ej,className:"text-input clickable-input",readOnly:!0,onClick:()=>{J(!0)},style:{cursor:"pointer"}})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Ventilation"}),(0,i.jsxs)("select",{value:eN,onChange:e=>eg(e.target.value),className:"text-input",children:[(0,i.jsx)("option",{value:""}),["Manual","Mechanical"].map((e,s)=>(0,i.jsx)("option",{value:e,children:e},s))]})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"PEEP (cmH₂0)"}),(0,i.jsx)("input",{type:"text",className:"text-input grayed-disabled",disabled:!0,readOnly:!0})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"CPAP (cmH₂O)"}),(0,i.jsx)("input",{type:"text",className:"text-input grayed-disabled",disabled:!0,readOnly:!0})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"RSI"}),(0,i.jsx)("input",{type:"text",value:eC,className:"text-input clickable-input",readOnly:!0,onClick:()=>{H(!0)},style:{cursor:"pointer"}})]})]})]}),(0,i.jsxs)("div",{className:"intervention-category",children:[(0,i.jsx)("div",{className:"intervention-category-label",children:"Cardiac"}),(0,i.jsxs)("div",{className:"intervention-row",children:[(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"CPR"}),(0,i.jsx)("input",{type:"text",value:ew,className:"text-input clickable-input",readOnly:!0,onClick:()=>{Z(!0)},style:{cursor:"pointer"}})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Defibrillation (Joules)"}),(0,i.jsx)("input",{type:"text",value:eE,className:"text-input clickable-input",readOnly:!0,onClick:()=>{z(!0)},style:{cursor:"pointer"}})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Cardioversion (Joules)"}),(0,i.jsx)("input",{type:"text",className:"text-input grayed-disabled",disabled:!0,readOnly:!0})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Pacing"}),(0,i.jsx)("input",{type:"text",className:"text-input grayed-disabled",disabled:!0,readOnly:!0})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Valsalva"}),(0,i.jsx)("input",{type:"text",className:"text-input grayed-disabled",disabled:!0,readOnly:!0})]})]})]}),(0,i.jsxs)("div",{className:"intervention-category",children:[(0,i.jsx)("div",{className:"intervention-category-label",children:"Invasive"}),(0,i.jsxs)("div",{className:"intervention-row",style:{marginBottom:"10px"},children:[(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"IV Cannulation"}),(0,i.jsx)("input",{type:"text",value:eK,readOnly:!0,onClick:()=>{X(!0)},className:"text-input",style:{cursor:"pointer"}})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"IO Access"}),(0,i.jsx)("input",{type:"text",value:e$,readOnly:!0,onClick:()=>{ee(!0)},className:"text-input",style:{cursor:"pointer"}})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Chest Decompression"}),(0,i.jsx)("input",{type:"text",value:e7,disabled:!0,readOnly:!0,className:"text-input grayed-disabled"})]})]}),(0,i.jsxs)("div",{className:"intervention-row",children:[(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Stomach Decompression"}),(0,i.jsx)("input",{type:"text",value:ss,disabled:!0,readOnly:!0,className:"text-input grayed-disabled"})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Catheter Troubleshooting"}),(0,i.jsx)("input",{type:"text",value:si,disabled:!0,readOnly:!0,className:"text-input grayed-disabled"})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Nerve Block"}),(0,i.jsx)("input",{type:"text",value:sn,disabled:!0,readOnly:!0,className:"text-input grayed-disabled"})]})]})]}),(0,i.jsxs)("div",{className:"intervention-category",children:[(0,i.jsx)("div",{className:"intervention-category-label",children:"Other"}),(0,i.jsxs)("div",{className:"intervention-row",style:{marginBottom:"10px"},children:[(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Positioning"}),(0,i.jsx)("input",{type:"text",value:sc,readOnly:!0,onClick:()=>{ea(!0)},className:"text-input",style:{cursor:"pointer"}})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Splint/Dressing/Tag"}),(0,i.jsx)("input",{type:"text",value:sx,readOnly:!0,onClick:()=>{et(!0)},className:"text-input",style:{cursor:"pointer"}})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Nasal Tamponade"}),(0,i.jsx)("input",{type:"text",value:sf,disabled:!0,readOnly:!0,className:"text-input grayed-disabled"})]})]}),(0,i.jsxs)("div",{className:"intervention-row",style:{marginBottom:"10px"},children:[(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Tourniquet"}),(0,i.jsx)("input",{type:"text",value:sy,readOnly:!0,onClick:()=>{el(!0)},className:"text-input",style:{cursor:"pointer"}})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Limb Reduction"}),(0,i.jsx)("input",{type:"text",value:sR,disabled:!0,readOnly:!0,className:"text-input grayed-disabled"})]}),(0,i.jsxs)("div",{className:"intervention-field",children:[(0,i.jsx)("label",{className:"field-label",children:"Eple Manoeuvre"}),(0,i.jsx)("input",{type:"text",value:sD,disabled:!0,readOnly:!0,className:"text-input grayed-disabled"})]})]}),(0,i.jsx)("div",{className:"intervention-row",children:(0,i.jsxs)("div",{className:"intervention-field",style:{flex:1},children:[(0,i.jsx)("label",{className:"field-label",children:"Other Intervention/Notes"}),(0,i.jsx)("input",{type:"text",value:sq,readOnly:!0,onClick:()=>{er(!0)},className:"text-input",style:{cursor:"pointer"}})]})})]})]})]}):(0,i.jsxs)("section",{className:"incident-section",children:[(0,i.jsx)("h2",{className:"section-title",children:"Intervention(s)"}),0===A.length?(0,i.jsx)("div",{className:"no-record-message",children:"No record found."}):(0,i.jsx)("div",{style:{marginTop:"20px"},children:A.map((e,s)=>(0,i.jsxs)("div",{style:{backgroundColor:"#d8e8f8",padding:"15px",marginBottom:"10px",borderRadius:"4px",border:"1px solid #a8c5e0"},children:[(0,i.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"8px",color:"#2c5282"},children:["Time: ",e.time||"No time recorded"," | Performed by: ",e.performedBy||"Not specified"]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",fontSize:"14px"},children:[e.airway&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Airway:"})," ",e.airway]}),e.ventilation&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Ventilation:"})," ",e.ventilation]}),e.rsi&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"RSI:"})," ",e.rsi]}),e.cpr&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"CPR:"})," ",e.cpr]}),e.defibrillation&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Defibrillation:"})," ",e.defibrillation]}),e.ivCannulation&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"IV Cannulation:"})," ",e.ivCannulation]}),e.ioAccess&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"IO Access:"})," ",e.ioAccess]}),e.positioning&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Positioning:"})," ",e.positioning]}),e.splintDressingTag&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Splint/Dressing/Tag:"})," ",e.splintDressingTag]}),e.tourniquet&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Tourniquet:"})," ",e.tourniquet]}),e.otherInterventionNotes&&(0,i.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,i.jsx)("strong",{children:"Other Notes:"})," ",e.otherInterventionNotes]})]})]},s))})]})})]}),U?(0,i.jsxs)("div",{className:"eprf-footer vitals-edit-footer",children:[(0,i.jsx)("div",{className:"footer-left"}),(0,i.jsxs)("div",{className:"footer-right",children:[(0,i.jsx)("button",{className:"footer-btn gray",onClick:()=>{sQ(),s1(),_(!1)},children:"Cancel and discard changes"}),(0,i.jsx)("button",{className:"footer-btn blue",onClick:()=>{s2()&&(sQ(),s1())},children:"Save and enter another intervention"}),(0,i.jsx)("button",{className:"footer-btn blue",onClick:()=>{if(s2()){sQ();let e=new URLSearchParams({id:h,fleetId:p});s.push("/vital-obs?".concat(e))}},children:"Save and return to Vital Obs/Treat"})]})]}):(0,i.jsxs)("div",{className:"eprf-footer vitals-footer",children:[(0,i.jsxs)("div",{className:"footer-left",children:[(0,i.jsx)("button",{className:"footer-btn large-blue",onClick:()=>sX("vital-obs"),children:"New Vitals"}),(0,i.jsx)("button",{className:"footer-btn large-blue",onClick:()=>sX("medications"),children:"New Meds"}),(0,i.jsx)("button",{className:"footer-btn large-blue",onClick:()=>{_(!0)},children:"New Intervention"})]}),(0,i.jsxs)("div",{className:"footer-center",children:[(0,i.jsx)("button",{className:"footer-btn green",onClick:()=>{k(!0)},children:"Transfer ePRF"}),(0,i.jsx)("button",{className:"footer-btn green",onClick:()=>{let e=(0,l.Zl)(h);v(e.incompleteSections),e.isValid?S(!0):(T(e.fieldErrors),O(!0))},children:"Submit ePRF"})]}),(0,i.jsxs)("div",{className:"footer-right",children:[(0,i.jsx)("button",{className:"footer-btn orange",onClick:()=>{U&&sz(),sX("vital-obs")},children:"< Previous"}),(0,i.jsx)("button",{className:"footer-btn orange",onClick:()=>{U&&sz()},children:"Next >"})]})]}),eo&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>ed(!1),children:(0,i.jsxs)("div",{className:"datetime-picker",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"picker-header",children:"Set Time"}),(0,i.jsxs)("div",{className:"picker-display",children:["Wed, December ",String(sU).padStart(2,"0"),", ",sY," ",String(sK).padStart(2,"0"),":",String(sG).padStart(2,"0")]}),(0,i.jsxs)("div",{className:"picker-controls",children:[(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>s_(Math.min(31,sU+1)),children:"+"}),(0,i.jsx)("div",{className:"picker-value highlight",children:String(sU).padStart(2,"0")}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>s_(Math.max(1,sU-1)),children:"-"})]}),(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sB(12===sV?1:sV+1),children:"+"}),(0,i.jsx)("div",{className:"picker-value",children:String(sV).padStart(2,"0")}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sB(1===sV?12:sV-1),children:"-"})]}),(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sJ(sY+1),children:"+"}),(0,i.jsx)("div",{className:"picker-value",children:sY}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sJ(sY-1),children:"-"})]}),(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sH((sK+1)%24),children:"+"}),(0,i.jsx)("div",{className:"picker-value highlight",children:String(sK).padStart(2,"0")}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sH((sK-1+24)%24),children:"-"})]}),(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sZ((sG+1)%60),children:"+"}),(0,i.jsx)("div",{className:"picker-value highlight",children:String(sG).padStart(2,"0")}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sZ((sG-1+60)%60),children:"-"})]})]}),(0,i.jsxs)("div",{className:"picker-footer",children:[(0,i.jsx)("button",{className:"picker-footer-btn cancel",onClick:()=>ed(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"picker-footer-btn ok",onClick:()=>{ep("".concat(String(sU).padStart(2,"0"),"/").concat(String(sV).padStart(2,"0"),"/").concat(sY," ").concat(String(sK).padStart(2,"0"),":").concat(String(sG).padStart(2,"0"))),ed(!1)},children:"OK"})]})]})}),Y&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>J(!1),children:(0,i.jsxs)("div",{className:"airway-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"airway-header",children:"Airway"}),(0,i.jsxs)("div",{className:"airway-content",children:[(0,i.jsx)("div",{className:"airway-method-label",children:"Method *"}),(0,i.jsx)("div",{className:"airway-methods-grid",children:["Manual Clear","OPA","Intubation","Other Device","Suction","NPA","Cricothyroidotomy","Jaw Thrust","LMA","Laryngoscopy"].map((e,s)=>(0,i.jsxs)("label",{className:"airway-method-option",children:[(0,i.jsx)("input",{type:"radio",name:"airwayMethod",checked:sA===e,onChange:()=>sM(e)}),(0,i.jsx)("span",{children:e})]},s))})]}),(0,i.jsxs)("div",{className:"airway-footer",children:[(0,i.jsx)("button",{className:"airway-footer-btn cancel",onClick:()=>J(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"airway-footer-btn ok",onClick:()=>s3(sA),children:"OK"})]})]})}),K&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>H(!1),children:(0,i.jsxs)("div",{className:"rsi-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"rsi-header",children:"RSI"}),(0,i.jsx)("div",{className:"rsi-content",children:["Successful","Unsuccessful"].map((e,s)=>(0,i.jsx)("div",{className:"rsi-option",onClick:()=>s4(e),children:e},s))}),(0,i.jsx)("div",{className:"rsi-footer",children:(0,i.jsx)("button",{className:"rsi-footer-btn cancel",onClick:()=>H(!1),children:"Cancel"})})]})}),G&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>Z(!1),children:(0,i.jsxs)("div",{className:"cpr-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"cpr-header",children:"CPR"}),(0,i.jsxs)("div",{className:"cpr-content",children:[(0,i.jsxs)("div",{className:"cpr-ratio-section",children:[(0,i.jsx)("div",{className:"cpr-ratio-label",children:"CPR Ratio:"}),(0,i.jsxs)("div",{className:"cpr-ratio-inputs",children:[(0,i.jsxs)("div",{className:"cpr-input-group",children:[(0,i.jsx)("label",{className:"cpr-input-label",children:"Compressions *"}),(0,i.jsx)(m,{value:eR,onChange:eT,className:"cpr-input green-input",disabled:eq,min:0,max:100})]}),(0,i.jsx)("div",{className:"cpr-ratio-divider",children:"/"}),(0,i.jsxs)("div",{className:"cpr-input-group",children:[(0,i.jsx)("label",{className:"cpr-input-label",children:"Ventilations *"}),(0,i.jsx)(m,{value:eD,onChange:eI,className:"cpr-input",disabled:eq,min:0,max:100})]}),(0,i.jsx)("div",{className:"cpr-or",children:"OR"}),(0,i.jsx)("div",{className:"cpr-continuous-group",children:(0,i.jsxs)("label",{className:"cpr-continuous-label",children:[(0,i.jsx)("input",{type:"checkbox",checked:eq,onChange:e=>eL(e.target.checked)}),(0,i.jsx)("span",{children:"Continuous Compressions"})]})})]})]}),(0,i.jsxs)("div",{className:"cpr-discontinued-section",children:[(0,i.jsx)("label",{className:"cpr-input-label",children:"Time CPR Discontinued"}),(0,i.jsxs)("div",{className:"input-with-btn",children:[(0,i.jsx)("input",{type:"text",value:eA,className:"cpr-input",readOnly:!0,onClick:()=>{let e=new Date;s_(e.getDate()),sB(e.getMonth()+1),sJ(e.getFullYear()),sH(e.getHours()),sZ(e.getMinutes()),eh(!0)}}),(0,i.jsx)("button",{className:"now-btn",onClick:()=>{let e=new Date;eM("".concat(String(e.getDate()).padStart(2,"0"),"/").concat(String(e.getMonth()+1).padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(String(e.getHours()).padStart(2,"0"),":").concat(String(e.getMinutes()).padStart(2,"0")))},children:"Now"})]})]})]}),(0,i.jsxs)("div",{className:"cpr-footer",children:[(0,i.jsx)("button",{className:"cpr-footer-btn cancel",onClick:()=>Z(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"cpr-footer-btn ok",onClick:()=>{eP(eq?"Continuous":"".concat(eR,":").concat(eD)),Z(!1)},children:"OK"})]})]})}),eu&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>eh(!1),children:(0,i.jsxs)("div",{className:"datetime-picker",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"picker-header",children:"Set Time"}),(0,i.jsxs)("div",{className:"picker-display",children:["Wed, December ",String(sU).padStart(2,"0"),", ",sY," ",String(sK).padStart(2,"0"),":",String(sG).padStart(2,"0")]}),(0,i.jsxs)("div",{className:"picker-controls",children:[(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>s_(Math.min(31,sU+1)),children:"+"}),(0,i.jsx)("div",{className:"picker-value highlight",children:String(sU).padStart(2,"0")}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>s_(Math.max(1,sU-1)),children:"-"})]}),(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sB(12===sV?1:sV+1),children:"+"}),(0,i.jsx)("div",{className:"picker-value",children:String(sV).padStart(2,"0")}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sB(1===sV?12:sV-1),children:"-"})]}),(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sJ(sY+1),children:"+"}),(0,i.jsx)("div",{className:"picker-value",children:sY}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sJ(sY-1),children:"-"})]}),(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sH((sK+1)%24),children:"+"}),(0,i.jsx)("div",{className:"picker-value highlight",children:String(sK).padStart(2,"0")}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sH((sK-1+24)%24),children:"-"})]}),(0,i.jsxs)("div",{className:"picker-column",children:[(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sZ((sG+1)%60),children:"+"}),(0,i.jsx)("div",{className:"picker-value highlight",children:String(sG).padStart(2,"0")}),(0,i.jsx)("button",{className:"picker-btn",onClick:()=>sZ((sG-1+60)%60),children:"-"})]})]}),(0,i.jsxs)("div",{className:"picker-footer",children:[(0,i.jsx)("button",{className:"picker-footer-btn cancel",onClick:()=>eh(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"picker-footer-btn ok",onClick:()=>{eM("".concat(String(sU).padStart(2,"0"),"/").concat(String(sV).padStart(2,"0"),"/").concat(sY," ").concat(String(sK).padStart(2,"0"),":").concat(String(sG).padStart(2,"0"))),eh(!1)},children:"OK"})]})]})}),W&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>z(!1),children:(0,i.jsxs)("div",{className:"defibrillation-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"defibrillation-header",children:"Defibrillation (Joules)"}),(0,i.jsxs)("div",{className:"defibrillation-content",children:[(0,i.jsx)("div",{className:"defibrillation-category",children:"AED"}),["25","50","100","150","200","360"].map((e,s)=>(0,i.jsx)("div",{className:"defibrillation-option",onClick:()=>s5(e),children:e},s))]}),(0,i.jsx)("div",{className:"defibrillation-footer",children:(0,i.jsx)("button",{className:"defibrillation-footer-btn cancel",onClick:()=>z(!1),children:"Cancel"})})]})}),Q&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>X(!1),children:(0,i.jsxs)("div",{className:"iv-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"iv-header",children:"IV Cannulation"}),(0,i.jsxs)("div",{className:"iv-content",children:[(0,i.jsxs)("div",{className:"iv-section",children:[(0,i.jsx)("label",{className:"iv-section-label",children:"Site"}),(0,i.jsxs)("div",{className:"iv-site-grid",children:[["Left hand","Right hand","Left forearm","Right forearm","Left ACF","Right ACF","Left EJV","Right EJV"].map((e,s)=>(0,i.jsxs)("label",{className:"iv-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ivSite",value:e,checked:eG===e,onChange:e=>eZ(e.target.value)}),(0,i.jsx)("span",{children:e})]},s)),(0,i.jsxs)("label",{className:"iv-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ivSite",value:"Other",checked:"Other"===eG,onChange:e=>eZ(e.target.value)}),(0,i.jsx)("span",{children:"Other"})]})]})]}),(0,i.jsxs)("div",{className:"iv-section grayed-section",children:[(0,i.jsx)("label",{className:"iv-section-label",children:"Gauge"}),(0,i.jsx)("div",{className:"iv-gauge-grid",children:["14","16","18","20","22","24"].map((e,s)=>(0,i.jsxs)("label",{className:"iv-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ivGauge",disabled:!0}),(0,i.jsx)("span",{children:e})]},s))})]}),(0,i.jsxs)("div",{className:"iv-section",children:[(0,i.jsx)("label",{className:"iv-section-label",children:"Number of attempts"}),(0,i.jsx)(m,{value:eW,onChange:ez,className:"iv-attempts-input",min:1,max:10})]}),(0,i.jsxs)("div",{className:"iv-section",children:[(0,i.jsx)("label",{className:"iv-section-label",children:"Success"}),(0,i.jsxs)("div",{className:"iv-success-grid",children:[(0,i.jsxs)("label",{className:"iv-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ivSuccess",value:"Successful",checked:"Successful"===eQ,onChange:e=>eX(e.target.value)}),(0,i.jsx)("span",{children:"Successful"})]}),(0,i.jsxs)("label",{className:"iv-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ivSuccess",value:"Unsuccessful",checked:"Unsuccessful"===eQ,onChange:e=>eX(e.target.value)}),(0,i.jsx)("span",{children:"Unsuccessful"})]})]})]})]}),(0,i.jsxs)("div",{className:"iv-footer",children:[(0,i.jsx)("button",{className:"iv-footer-btn cancel",onClick:()=>X(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"iv-footer-btn ok",onClick:()=>{let e=[];eG&&e.push(eG),eW&&e.push("".concat(eW," attempts")),eQ&&e.push(eQ),eH(e.join(", ")),X(!1)},children:"OK"})]})]})}),$&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>ee(!1),children:(0,i.jsxs)("div",{className:"io-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"io-header",children:"IO Access"}),(0,i.jsxs)("div",{className:"io-content",children:[(0,i.jsxs)("div",{className:"io-section",children:[(0,i.jsx)("label",{className:"io-section-label",children:"Site"}),(0,i.jsxs)("div",{className:"io-site-grid",children:[["Left tibial","Right tibial","Left humeral","Right humeral"].map((e,s)=>(0,i.jsxs)("label",{className:"io-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ioSite",value:e,checked:e1===e,onChange:e=>e2(e.target.value)}),(0,i.jsx)("span",{children:e})]},s)),(0,i.jsxs)("label",{className:"io-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ioSite",value:"Other",checked:"Other"===e1,onChange:e=>e2(e.target.value)}),(0,i.jsx)("span",{children:"Other"})]})]})]}),(0,i.jsxs)("div",{className:"io-section grayed-section",children:[(0,i.jsx)("label",{className:"io-section-label",children:"Gauge"}),(0,i.jsx)("div",{className:"io-gauge-grid",children:["Cook needle","EZIO Short","EZIO Adult","EZIO Long"].map((e,s)=>(0,i.jsxs)("label",{className:"io-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ioGauge",disabled:!0}),(0,i.jsx)("span",{children:e})]},s))})]}),(0,i.jsxs)("div",{className:"io-section",children:[(0,i.jsx)("label",{className:"io-section-label",children:"Number of attempts"}),(0,i.jsx)(m,{value:e3,onChange:e4,className:"io-attempts-input",min:1,max:10})]}),(0,i.jsxs)("div",{className:"io-section",children:[(0,i.jsx)("label",{className:"io-section-label",children:"Success"}),(0,i.jsxs)("div",{className:"io-success-grid",children:[(0,i.jsxs)("label",{className:"io-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ioSuccess",value:"Successful",checked:"Successful"===e5,onChange:e=>e6(e.target.value)}),(0,i.jsx)("span",{children:"Successful"})]}),(0,i.jsxs)("label",{className:"io-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"ioSuccess",value:"Unsuccessful",checked:"Unsuccessful"===e5,onChange:e=>e6(e.target.value)}),(0,i.jsx)("span",{children:"Unsuccessful"})]})]})]}),(0,i.jsxs)("div",{className:"io-section",children:[(0,i.jsx)("label",{className:"io-section-label",children:"Notes"}),(0,i.jsx)("textarea",{value:e8,onChange:e=>e9(e.target.value),className:"io-notes-input",placeholder:"Enter notes...",rows:3})]})]}),(0,i.jsxs)("div",{className:"io-footer",children:[(0,i.jsx)("button",{className:"io-footer-btn cancel",onClick:()=>ee(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"io-footer-btn ok",onClick:()=>{let e=[];e1&&e.push(e1),e3&&e.push("".concat(e3," attempts")),e5&&e.push(e5),e0(e.join(", ")),ee(!1)},children:"OK"})]})]})}),es&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>ea(!1),children:(0,i.jsxs)("div",{className:"positioning-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"positioning-header",children:"Positioning"}),(0,i.jsxs)("div",{className:"positioning-content",children:[(0,i.jsxs)("div",{className:"positioning-section",children:[(0,i.jsxs)("label",{className:"positioning-section-label",children:["Position",(0,i.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,i.jsxs)("div",{className:"positioning-position-grid",children:[["Recovery","Supine (lying flat)","Seated","Lateral (on side)","Semi-recumbent","Prone"].map((e,s)=>(0,i.jsxs)("label",{className:"positioning-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"position",value:e,checked:so===e,onChange:e=>sd(e.target.value)}),(0,i.jsx)("span",{children:e})]},s)),(0,i.jsxs)("label",{className:"positioning-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"position",value:"Other",checked:"Other"===so,onChange:e=>sd(e.target.value)}),(0,i.jsx)("span",{children:"Other"})]})]})]}),(0,i.jsxs)("div",{className:"positioning-section",children:[(0,i.jsx)("label",{className:"positioning-section-label",children:"Legs elevated?"}),(0,i.jsxs)("div",{className:"positioning-legs-grid",children:[(0,i.jsxs)("label",{className:"positioning-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"legsElevated",value:"Yes",checked:"Yes"===su,onChange:e=>sh(e.target.value)}),(0,i.jsx)("span",{children:"Yes"})]}),(0,i.jsxs)("label",{className:"positioning-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"legsElevated",value:"No",checked:"No"===su,onChange:e=>sh(e.target.value)}),(0,i.jsx)("span",{children:"No"})]})]})]}),"Other"===so&&(0,i.jsxs)("div",{className:"positioning-section",children:[(0,i.jsx)("label",{className:"positioning-section-label",children:"Other"}),(0,i.jsx)("input",{type:"text",value:sm,onChange:e=>sp(e.target.value),className:"positioning-other-input",placeholder:"Enter other position..."})]})]}),(0,i.jsxs)("div",{className:"positioning-footer",children:[(0,i.jsx)("button",{className:"positioning-footer-btn cancel",onClick:()=>ea(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"positioning-footer-btn ok",onClick:()=>{let e=[];so&&e.push(so),su&&e.push("Legs: ".concat(su)),sm&&e.push(sm),sr(e.join(", ")),ea(!1)},children:"OK"})]})]})}),ei&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>et(!1),children:(0,i.jsxs)("div",{className:"splint-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"splint-header",children:"Splint/Dressing/Tag"}),(0,i.jsxs)("div",{className:"splint-content",children:[["Dressing","Bandage","Cardboard Splint","Traction Splint","KED or Similar","Firm Cervical Collar","Cervical Lanyard"].map((e,s)=>(0,i.jsx)("div",{className:"splint-option ".concat(sj===e?"selected":""),onClick:()=>s6(e),children:e},s)),(0,i.jsx)("div",{className:"splint-option ".concat("Other"===sj?"selected":""),onClick:()=>s6("Other"),children:"Other"}),"Other"===sj&&(0,i.jsxs)("div",{className:"splint-other-section",children:[(0,i.jsx)("input",{type:"text",value:sN,onChange:e=>sg(e.target.value),className:"splint-other-input",placeholder:"Enter other..."}),(0,i.jsx)("button",{className:"splint-other-ok",onClick:()=>{"Other"===sj&&sN&&sv(sN),et(!1)},children:"OK"})]})]}),(0,i.jsx)("div",{className:"splint-footer",children:(0,i.jsx)("button",{className:"splint-footer-btn cancel",onClick:()=>et(!1),children:"Cancel"})})]})}),en&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>el(!1),children:(0,i.jsxs)("div",{className:"tourniquet-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"tourniquet-header",children:"Tourniquet"}),(0,i.jsxs)("div",{className:"tourniquet-content",children:[(0,i.jsxs)("div",{className:"tourniquet-section",children:[(0,i.jsxs)("label",{className:"tourniquet-section-label",children:["Tourniquet",(0,i.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,i.jsxs)("div",{className:"tourniquet-location-grid",children:[(0,i.jsxs)("label",{className:"tourniquet-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"tourniquetLocation",value:"Left arm",checked:"Left arm"===sC,onChange:e=>sO(e.target.value)}),(0,i.jsx)("span",{children:"Left arm"})]}),(0,i.jsxs)("label",{className:"tourniquet-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"tourniquetLocation",value:"Right arm",checked:"Right arm"===sC,onChange:e=>sO(e.target.value)}),(0,i.jsx)("span",{children:"Right arm"})]}),(0,i.jsxs)("label",{className:"tourniquet-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"tourniquetLocation",value:"Left leg",checked:"Left leg"===sC,onChange:e=>sO(e.target.value)}),(0,i.jsx)("span",{children:"Left leg"})]}),(0,i.jsxs)("label",{className:"tourniquet-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"tourniquetLocation",value:"Right leg",checked:"Right leg"===sC,onChange:e=>sO(e.target.value)}),(0,i.jsx)("span",{children:"Right leg"})]})]})]}),(0,i.jsxs)("div",{className:"tourniquet-section",children:[(0,i.jsxs)("label",{className:"tourniquet-section-label",children:["Tourniquet successful",(0,i.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,i.jsxs)("div",{className:"tourniquet-success-grid",children:[(0,i.jsxs)("label",{className:"tourniquet-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"tourniquetSuccessful",value:"Successful",checked:"Successful"===sw,onChange:e=>sP(e.target.value)}),(0,i.jsx)("span",{children:"Successful"})]}),(0,i.jsxs)("label",{className:"tourniquet-radio-label",children:[(0,i.jsx)("input",{type:"radio",name:"tourniquetSuccessful",value:"Unsuccessful",checked:"Unsuccessful"===sw,onChange:e=>sP(e.target.value)}),(0,i.jsx)("span",{children:"Unsuccessful"})]})]})]})]}),(0,i.jsxs)("div",{className:"tourniquet-footer",children:[(0,i.jsx)("button",{className:"tourniquet-footer-btn cancel",onClick:()=>el(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"tourniquet-footer-btn ok",onClick:()=>{let e=[];sC&&e.push(sC),sw&&e.push(sw),sk(e.join(", ")),el(!1)},children:"OK"})]})]})}),ec&&(0,i.jsx)("div",{className:"modal-overlay",onClick:()=>er(!1),children:(0,i.jsxs)("div",{className:"vital-detail-modal notes-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"vital-detail-header",children:"Other Intervention/Notes"}),(0,i.jsx)("div",{className:"vital-detail-content",children:(0,i.jsx)("textarea",{value:sq,onChange:e=>sL(e.target.value),className:"notes-textarea",placeholder:"Enter notes...",rows:10})}),(0,i.jsxs)("div",{className:"vital-detail-footer",children:[(0,i.jsx)("button",{className:"footer-btn gray",onClick:()=>er(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"footer-btn blue",onClick:()=>{er(!1)},children:"OK"})]})]})}),(0,i.jsx)(r.ZP,{isOpen:N,onClose:()=>g(!1),onConfirm:s0,title:"Add New Patient",message:"Are you sure you want to add a new patient?\n\nThis will:\n• Save the current Patient ".concat(j," data\n• Create a new patient record (Patient ").concat(String.fromCharCode(j.charCodeAt(0)+1),")\n• Clear the form for the new patient"),confirmText:"Yes, Add Patient",cancelText:"Cancel",type:"info",isLoading:D}),(0,i.jsx)(r.ZP,{isOpen:f,onClose:()=>S(!1),onConfirm:s$,title:"Submit ePRF",message:"Are you sure you want to submit this ePRF?\n\nThis will:\n• Generate a PDF report for Patient ".concat(j,"\n• Save the record to the database\n• Download the PDF to your device"),confirmText:"Yes, Submit ePRF",cancelText:"Cancel",type:"success",isLoading:D}),(0,i.jsx)(r.Yj,{isOpen:C,onClose:()=>O(!1),errors:R,getSectionDisplayName:l.aY}),(0,i.jsx)(r.i_,{isOpen:w,onClose:()=>P(!1),title:q.title,message:q.message}),(0,i.jsx)(o.Z,{isOpen:y,onClose:()=>k(!1),onTransferComplete:e=>{let{transferAllPatients:s}=a(190);s(h,e.discordId,e.callsign),k(!1),L({title:"ePRF Transferred",message:"The ePRF has been transferred to ".concat(e.callsign,". You will be redirected to the dashboard.")}),P(!0),setTimeout(()=>{sW()},2e3)},incidentId:h,patientLetter:j})]})}}},function(e){e.O(0,[505,125,914,973,12,971,30,744],function(){return e(e.s=1326)}),_N_E=e.O()}]);