(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3787:function(e,a,s){Promise.resolve().then(s.bind(s,9725))},9725:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return p},runtime:function(){return x}});var t=s(7437),i=s(29),d=s.n(i),n=s(9376),r=s(2265),o=s(8029),l=s(1028),c=s(3291),b=s(8310);let x="edge";function p(){let e=(0,n.useRouter)(),[a,s]=(0,r.useState)(null),[i,x]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!0),[u,j]=(0,r.useState)([]),[f,h]=(0,r.useState)([]),[g,k]=(0,r.useState)(""),[w,y]=(0,r.useState)("all"),[v,N]=(0,r.useState)(""),[z,_]=(0,r.useState)(!1),[C,D]=(0,r.useState)(!1),[I,S]=(0,r.useState)(null),[P,R]=(0,r.useState)(""),[A,F]=(0,r.useState)(!1),T=(0,r.useCallback)(async()=>{if(a&&(0,l.GJ)(a.discordId)){m(!0);try{let[e,s]=await Promise.all([(0,l.bW)(a.discordId,g||void 0,"all"!==w?w:void 0,v||void 0),(0,l.Ee)(a.discordId)]);j(e),h(s)}catch(e){console.error("Failed to load admin data:",e)}finally{m(!1)}}},[a,g,w,v]);(0,r.useEffect)(()=>{let e=(0,o.ts)();if(s(e),!e||!(0,l.GJ)(e.discordId)){x(!1),m(!1);return}x(!0),T()},[]),(0,r.useEffect)(()=>{i&&a&&T()},[g,w,v,i,a,T]);let E=e=>{S(e),_(!0)},U=async()=>{if(I&&a){F(!0);try{await (0,l.uK)(a.discordId,I.incident_id,I.patient_letter),await T()}catch(e){console.error("Delete failed:",e)}finally{F(!1),_(!1),S(null)}}},B=e=>{S(e),R(""),D(!0)},G=async()=>{if(!I||!a||!P)return;let e=f.find(e=>e.discord_id===P);if(e){F(!0);try{await (0,l.Gx)(a.discordId,I.incident_id,I.patient_letter,P,e.callsign),await T()}catch(e){console.error("Transfer failed:",e)}finally{F(!1),D(!1),S(null),R("")}}},L=a=>{e.push("/incident?id=".concat(encodeURIComponent(a.incident_id),"&fleetId=").concat(encodeURIComponent(a.fleet_id)))},M=a=>{e.push("/incident?id=".concat(encodeURIComponent(a.incident_id),"&fleetId=").concat(encodeURIComponent(a.fleet_id),"&viewOnly=true"))},O=async e=>{try{let a=await (0,l.wK)(e.incident_id,e.patient_letter),s={incidentId:e.incident_id,patientLetter:e.patient_letter,incident:a.incident||null,patientInfo:a.patientInfo||a.patient_info||null,primarySurvey:a.primarySurvey||a.primary_survey||null,hxComplaint:a.hxComplaint||a.hx_complaint||null,pastMedicalHistory:a.pastMedicalHistory||a.past_medical_history||null,clinicalImpression:a.clinicalImpression||a.clinical_impression||null,disposition:a.disposition||null,vitals:a.vitals||[],medications:a.medications||[],interventions:a.interventions||[]};(0,c.NI)(s)}catch(e){console.error("Download failed:",e),alert("Failed to download ePRF. Please try again.")}};return(u.reduce((e,a)=>(e[a.incident_id]||(e[a.incident_id]=[]),e[a.incident_id].push(a),e),{}),i)?(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 admin-panel",children:[(0,t.jsx)(d(),{id:"8e7b206d279e5498",children:".admin-panel.jsx-8e7b206d279e5498{min-height:100vh;background:#0d1b2a}.admin-header.jsx-8e7b206d279e5498{background:-webkit-linear-gradient(315deg,#dc3545 0%,#a71d2a 100%);background:-moz-linear-gradient(315deg,#dc3545 0%,#a71d2a 100%);background:-o-linear-gradient(315deg,#dc3545 0%,#a71d2a 100%);background:linear-gradient(135deg,#dc3545 0%,#a71d2a 100%);padding:20px 30px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.header-left.jsx-8e7b206d279e5498 h1.jsx-8e7b206d279e5498{color:white;font-size:24px;margin:0 0 5px 0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:10px}.header-left.jsx-8e7b206d279e5498 p.jsx-8e7b206d279e5498{color:rgba(255,255,255,.8);font-size:14px;margin:0}.admin-badge.jsx-8e7b206d279e5498{background:rgba(0,0,0,.3);padding:4px 10px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;font-weight:600}.header-right.jsx-8e7b206d279e5498{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px}.header-btn.jsx-8e7b206d279e5498{padding:10px 20px;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.btn-back.jsx-8e7b206d279e5498{background:rgba(255,255,255,.2);color:white;border:1px solid rgba(255,255,255,.3)}.btn-back.jsx-8e7b206d279e5498:hover{background:rgba(255,255,255,.3)}.admin-content.jsx-8e7b206d279e5498{padding:30px}.stats-row.jsx-8e7b206d279e5498{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.stat-card.jsx-8e7b206d279e5498{background:#1b2838;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;padding:20px;text-align:center;border:1px solid#2d4156}.stat-value.jsx-8e7b206d279e5498{font-size:36px;font-weight:700;color:white;margin-bottom:5px}.stat-label.jsx-8e7b206d279e5498{font-size:14px;color:#89a}.stat-card.total.jsx-8e7b206d279e5498 .stat-value.jsx-8e7b206d279e5498{color:#06c}.stat-card.incomplete.jsx-8e7b206d279e5498 .stat-value.jsx-8e7b206d279e5498{color:#ffc107}.stat-card.complete.jsx-8e7b206d279e5498 .stat-value.jsx-8e7b206d279e5498{color:#28a745}.stat-card.users.jsx-8e7b206d279e5498 .stat-value.jsx-8e7b206d279e5498{color:#17a2b8}.filter-bar.jsx-8e7b206d279e5498{background:#1b2838;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;padding:20px;margin-bottom:25px;border:1px solid#2d4156}.filter-row.jsx-8e7b206d279e5498{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:15px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.search-input.jsx-8e7b206d279e5498{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;min-width:250px;padding:10px 15px;border:1px solid#3d5166;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px;background:#0d1b2a;color:white}.search-input.jsx-8e7b206d279e5498::-webkit-input-placeholder{color:#678}.search-input.jsx-8e7b206d279e5498:-moz-placeholder{color:#678}.search-input.jsx-8e7b206d279e5498::-moz-placeholder{color:#678}.search-input.jsx-8e7b206d279e5498:-ms-input-placeholder{color:#678}.search-input.jsx-8e7b206d279e5498::-ms-input-placeholder{color:#678}.search-input.jsx-8e7b206d279e5498::placeholder{color:#678}.filter-select.jsx-8e7b206d279e5498{padding:10px 15px;border:1px solid#3d5166;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px;min-width:150px;background:#0d1b2a;color:white}.clear-btn.jsx-8e7b206d279e5498{padding:10px 15px;border:1px solid#3d5166;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;background:transparent;color:#89a;font-size:14px;cursor:pointer}.clear-btn.jsx-8e7b206d279e5498:hover{background:#2d4156;color:white}.records-table.jsx-8e7b206d279e5498{background:#1b2838;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;overflow:hidden;border:1px solid#2d4156}.table-header.jsx-8e7b206d279e5498{display:grid;grid-template-columns:2fr 80px 1fr 1fr 150px 200px;gap:15px;padding:15px 20px;background:#0d1b2a;border-bottom:1px solid#2d4156;font-weight:600;color:#89a;font-size:13px}.table-row.jsx-8e7b206d279e5498{display:grid;grid-template-columns:2fr 80px 1fr 1fr 150px 200px;gap:15px;padding:15px 20px;border-bottom:1px solid#2d4156;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:white;-webkit-transition:background.2s;-moz-transition:background.2s;-o-transition:background.2s;transition:background.2s}.table-row.jsx-8e7b206d279e5498:hover{background:#0d1b2a}.table-row.jsx-8e7b206d279e5498:last-child{border-bottom:none}.incident-id.jsx-8e7b206d279e5498{font-weight:600;color:#09f}.patient-letter.jsx-8e7b206d279e5498{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;background:#3d5166;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;font-weight:600}.status-badge.jsx-8e7b206d279e5498{padding:4px 10px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;font-weight:600;text-transform:uppercase}.status-badge.incomplete.jsx-8e7b206d279e5498{background:rgba(255,193,7,.2);color:#ffc107}.status-badge.complete.jsx-8e7b206d279e5498{background:rgba(40,167,69,.2);color:#28a745}.author-info.jsx-8e7b206d279e5498{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:2px}.author-callsign.jsx-8e7b206d279e5498{font-weight:500}.author-discord.jsx-8e7b206d279e5498{font-size:12px;color:#678}.date-info.jsx-8e7b206d279e5498{font-size:13px;color:#89a}.actions.jsx-8e7b206d279e5498{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.action-btn.jsx-8e7b206d279e5498{padding:6px 12px;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;font-weight:600;cursor:pointer;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.btn-view.jsx-8e7b206d279e5498{background:#6c757d;color:white}.btn-view.jsx-8e7b206d279e5498:hover{background:#5a6268}.btn-edit.jsx-8e7b206d279e5498{background:#06c;color:white}.btn-edit.jsx-8e7b206d279e5498:hover{background:#0052a3}.btn-download.jsx-8e7b206d279e5498{background:#28a745;color:white}.btn-download.jsx-8e7b206d279e5498:hover{background:#218838}.btn-transfer.jsx-8e7b206d279e5498{background:#17a2b8;color:white}.btn-transfer.jsx-8e7b206d279e5498:hover{background:#138496}.btn-delete.jsx-8e7b206d279e5498{background:#dc3545;color:white}.btn-delete.jsx-8e7b206d279e5498:hover{background:#c82333}.loading-state.jsx-8e7b206d279e5498{text-align:center;padding:60px 30px;color:#89a}.loading-spinner.jsx-8e7b206d279e5498{width:50px;height:50px;border:4px solid#2d4156;border-top-color:#06c;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite;margin:0 auto 20px}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.empty-state.jsx-8e7b206d279e5498{text-align:center;padding:60px 30px;color:#89a}.empty-icon.jsx-8e7b206d279e5498{font-size:60px;margin-bottom:20px}.transfer-modal.jsx-8e7b206d279e5498{background:#1b2838;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;max-width:500px;width:90%;-webkit-box-shadow:0 10px 40px rgba(0,0,0,.5);-moz-box-shadow:0 10px 40px rgba(0,0,0,.5);box-shadow:0 10px 40px rgba(0,0,0,.5);overflow:hidden}.transfer-modal-header.jsx-8e7b206d279e5498{background:#17a2b8;color:white;padding:20px 25px;font-size:18px;font-weight:600}.transfer-modal-body.jsx-8e7b206d279e5498{padding:25px}.transfer-info.jsx-8e7b206d279e5498{background:#0d1b2a;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:15px;margin-bottom:20px;color:#89a}.user-select.jsx-8e7b206d279e5498{width:100%;padding:12px 15px;border:1px solid#3d5166;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px;background:#0d1b2a;color:white;margin-bottom:20px}.transfer-modal-footer.jsx-8e7b206d279e5498{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;gap:12px;padding:20px 25px;border-top:1px solid#2d4156}.modal-btn.jsx-8e7b206d279e5498{padding:10px 24px;font-size:14px;font-weight:600;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;cursor:pointer}.modal-btn-cancel.jsx-8e7b206d279e5498{background:#3d5166;color:white}.modal-btn-cancel.jsx-8e7b206d279e5498:hover{background:#4d6176}.modal-btn-confirm.jsx-8e7b206d279e5498{background:#17a2b8;color:white}.modal-btn-confirm.jsx-8e7b206d279e5498:hover{background:#138496}.modal-btn-confirm.jsx-8e7b206d279e5498:disabled{opacity:.5;cursor:not-allowed}.modal-overlay.jsx-8e7b206d279e5498{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:1000}"}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 admin-header",children:[(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 header-left",children:[(0,t.jsxs)("h1",{className:"jsx-8e7b206d279e5498",children:["\uD83D\uDEE1️ Admin Panel",(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498 admin-badge",children:"ADMIN"})]}),(0,t.jsx)("p",{className:"jsx-8e7b206d279e5498",children:"Manage all ePRF records and users"})]}),(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 header-right",children:(0,t.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"jsx-8e7b206d279e5498 header-btn btn-back",children:"← Back to Dashboard"})})]}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 admin-content",children:[(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 stats-row",children:[(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 stat-card total",children:[(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 stat-value",children:u.length}),(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 stat-label",children:"Total Records"})]}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 stat-card incomplete",children:[(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 stat-value",children:u.filter(e=>"incomplete"===e.status).length}),(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 stat-label",children:"Incomplete"})]}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 stat-card complete",children:[(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 stat-value",children:u.filter(e=>"complete"===e.status).length}),(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 stat-label",children:"Complete"})]}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 stat-card users",children:[(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 stat-value",children:f.length}),(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 stat-label",children:"Total Users"})]})]}),(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 filter-bar",children:(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 filter-row",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search by incident ID, patient letter, or callsign...",value:g,onChange:e=>k(e.target.value),className:"jsx-8e7b206d279e5498 search-input"}),(0,t.jsxs)("select",{value:w,onChange:e=>y(e.target.value),className:"jsx-8e7b206d279e5498 filter-select",children:[(0,t.jsx)("option",{value:"all",className:"jsx-8e7b206d279e5498",children:"All Status"}),(0,t.jsx)("option",{value:"incomplete",className:"jsx-8e7b206d279e5498",children:"Incomplete"}),(0,t.jsx)("option",{value:"complete",className:"jsx-8e7b206d279e5498",children:"Complete"})]}),(0,t.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"jsx-8e7b206d279e5498 filter-select",children:[(0,t.jsx)("option",{value:"",className:"jsx-8e7b206d279e5498",children:"All Authors"}),f.map(e=>(0,t.jsx)("option",{value:e.discord_id,className:"jsx-8e7b206d279e5498",children:e.callsign||e.discord_username||e.discord_id},e.discord_id))]}),(0,t.jsx)("button",{onClick:()=>{k(""),y("all"),N("")},className:"jsx-8e7b206d279e5498 clear-btn",children:"Clear Filters"})]})}),p?(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 loading-state",children:[(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 loading-spinner"}),(0,t.jsx)("p",{className:"jsx-8e7b206d279e5498",children:"Loading records..."})]}):0===u.length?(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 empty-state",children:[(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 empty-icon",children:"\uD83D\uDCCB"}),(0,t.jsx)("h3",{className:"jsx-8e7b206d279e5498",children:"No Records Found"}),(0,t.jsx)("p",{className:"jsx-8e7b206d279e5498",children:"No ePRF records match your current filters."})]}):(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 records-table",children:[(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 table-header",children:[(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498",children:"Incident ID"}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498",children:"Patient"}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498",children:"Status"}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498",children:"Author"}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498",children:"Created"}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498",children:"Actions"})]}),u.map(e=>(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 table-row",children:[(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498 incident-id",children:e.incident_id}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498 patient-letter",children:e.patient_letter}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498",children:(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498 "+"status-badge ".concat(e.status),children:e.status})}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 author-info",children:[(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498 author-callsign",children:e.author_callsign}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498 author-discord",children:e.discord_username})]}),(0,t.jsx)("span",{className:"jsx-8e7b206d279e5498 date-info",children:new Date(e.created_at).toLocaleDateString("en-GB")}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 actions",children:["complete"===e.status?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>M(e),className:"jsx-8e7b206d279e5498 action-btn btn-view",children:"View"}),(0,t.jsx)("button",{onClick:()=>O(e),className:"jsx-8e7b206d279e5498 action-btn btn-download",children:"\uD83D\uDCE5"})]}):(0,t.jsx)("button",{onClick:()=>L(e),className:"jsx-8e7b206d279e5498 action-btn btn-edit",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>B(e),className:"jsx-8e7b206d279e5498 action-btn btn-transfer",children:"Transfer"}),(0,t.jsx)("button",{onClick:()=>E(e),className:"jsx-8e7b206d279e5498 action-btn btn-delete",children:"\uD83D\uDDD1️"})]})]},"".concat(e.incident_id,"-").concat(e.patient_letter)))]})]}),(0,t.jsx)(b.ZP,{isOpen:z,onClose:()=>_(!1),onConfirm:U,title:"Delete ePRF (Admin)",message:"Are you sure you want to permanently delete this ePRF?\n\nIncident: ".concat(null==I?void 0:I.incident_id,"\nPatient: ").concat(null==I?void 0:I.patient_letter,"\nStatus: ").concat(null==I?void 0:I.status,"\n\nThis action cannot be undone."),confirmText:"Delete Permanently",cancelText:"Cancel",type:"warning",isLoading:A}),C&&(0,t.jsx)("div",{onClick:()=>D(!1),className:"jsx-8e7b206d279e5498 modal-overlay",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-8e7b206d279e5498 transfer-modal",children:[(0,t.jsx)("div",{className:"jsx-8e7b206d279e5498 transfer-modal-header",children:"Transfer ePRF"}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 transfer-modal-body",children:[(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 transfer-info",children:[(0,t.jsx)("strong",{className:"jsx-8e7b206d279e5498",children:"Transferring:"})," ",null==I?void 0:I.incident_id," - Patient ",null==I?void 0:I.patient_letter,(0,t.jsx)("br",{className:"jsx-8e7b206d279e5498"}),(0,t.jsx)("strong",{className:"jsx-8e7b206d279e5498",children:"Current Author:"})," ",null==I?void 0:I.author_callsign]}),(0,t.jsx)("label",{style:{display:"block",marginBottom:"10px",color:"#8899aa"},className:"jsx-8e7b206d279e5498",children:"Select new author:"}),(0,t.jsxs)("select",{value:P,onChange:e=>R(e.target.value),className:"jsx-8e7b206d279e5498 user-select",children:[(0,t.jsx)("option",{value:"",className:"jsx-8e7b206d279e5498",children:"-- Select User --"}),f.filter(e=>e.discord_id!==(null==I?void 0:I.author_discord_id)).map(e=>(0,t.jsxs)("option",{value:e.discord_id,className:"jsx-8e7b206d279e5498",children:[e.callsign||e.discord_username," (",e.vehicle||"No vehicle",")"]},e.discord_id))]})]}),(0,t.jsxs)("div",{className:"jsx-8e7b206d279e5498 transfer-modal-footer",children:[(0,t.jsx)("button",{onClick:()=>D(!1),disabled:A,className:"jsx-8e7b206d279e5498 modal-btn modal-btn-cancel",children:"Cancel"}),(0,t.jsx)("button",{onClick:G,disabled:!P||A,className:"jsx-8e7b206d279e5498 modal-btn modal-btn-confirm",children:A?"Transferring...":"Transfer"})]})]})})]}):(0,t.jsxs)("div",{className:"jsx-fea5259fcb10d0e admin-unauthorized",children:[(0,t.jsx)(d(),{id:"fea5259fcb10d0e",children:".admin-unauthorized.jsx-fea5259fcb10d0e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:100vh;background:#1a3a5c;color:white;text-align:center;padding:20px}.unauthorized-icon.jsx-fea5259fcb10d0e{font-size:80px;margin-bottom:20px}.unauthorized-title.jsx-fea5259fcb10d0e{font-size:28px;margin-bottom:10px}.unauthorized-text.jsx-fea5259fcb10d0e{font-size:16px;opacity:.8;margin-bottom:30px}.back-btn.jsx-fea5259fcb10d0e{padding:12px 30px;background:#06c;color:white;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:16px;cursor:pointer}.back-btn.jsx-fea5259fcb10d0e:hover{background:#0052a3}"}),(0,t.jsx)("div",{className:"jsx-fea5259fcb10d0e unauthorized-icon",children:"\uD83D\uDD12"}),(0,t.jsx)("h1",{className:"jsx-fea5259fcb10d0e unauthorized-title",children:"Access Denied"}),(0,t.jsx)("p",{className:"jsx-fea5259fcb10d0e unauthorized-text",children:"You don't have permission to access the admin panel."}),(0,t.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"jsx-fea5259fcb10d0e back-btn",children:"Return to Dashboard"})]})}}},function(e){e.O(0,[505,125,914,973,971,30,744],function(){return e(e.s=3787)}),_N_E=e.O()}]);