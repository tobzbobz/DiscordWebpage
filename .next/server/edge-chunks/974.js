"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7585:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(926),r=i(9807),n=i.n(r),s=i(9220);function o({isOpen:e,onClose:t,onTransferComplete:i,incidentId:r,patientLetter:o,isLoading:l=!1}){let[d,c]=(0,s.useState)([]),[f,m]=(0,s.useState)(null),[p,u]=(0,s.useState)(!1),[b,x]=(0,s.useState)(!1);if(!e)return null;let g=e=>{m(e)},h=o?`Patient ${o} of ${r}`:`all patients of ${r}`;return(0,a.jsxs)("div",{onClick:t,className:"jsx-58b95ddaf6432387 modal-overlay",children:[(0,a.jsx)(n(),{id:"58b95ddaf6432387",children:".transfer-modal.jsx-58b95ddaf6432387{background:#fff;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;max-width:500px;width:90%;-webkit-box-shadow:0 10px 40px rgba(0,0,0,.3);-moz-box-shadow:0 10px 40px rgba(0,0,0,.3);box-shadow:0 10px 40px rgba(0,0,0,.3);overflow:hidden}.transfer-header.jsx-58b95ddaf6432387{background:#06c;color:white;padding:20px 25px;font-size:18px;font-weight:600}.transfer-body.jsx-58b95ddaf6432387{padding:25px}.transfer-info.jsx-58b95ddaf6432387{background:#f0f4f8;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:15px;margin-bottom:20px;font-size:14px;color:#444}.transfer-warning.jsx-58b95ddaf6432387{background:#fff3cd;border:1px solid#ffc107;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:15px;margin-bottom:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;gap:10px}.warning-icon.jsx-58b95ddaf6432387{font-size:20px}.warning-text.jsx-58b95ddaf6432387{font-size:13px;color:#856404}.users-list.jsx-58b95ddaf6432387{max-height:250px;overflow-y:auto;border:1px solid#e0e0e0;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.user-item.jsx-58b95ddaf6432387{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:15px;border-bottom:1px solid#e0e0e0;cursor:pointer;-webkit-transition:background.2s;-moz-transition:background.2s;-o-transition:background.2s;transition:background.2s}.user-item.jsx-58b95ddaf6432387:last-child{border-bottom:none}.user-item.jsx-58b95ddaf6432387:hover{background:#f5f5f5}.user-item.selected.jsx-58b95ddaf6432387{background:#e3f2fd;border-left:3px solid#06c}.user-radio.jsx-58b95ddaf6432387{width:20px;height:20px;margin-right:15px}.user-info.jsx-58b95ddaf6432387{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.user-callsign.jsx-58b95ddaf6432387{font-weight:600;font-size:15px;color:#1a3a5c}.user-vehicle.jsx-58b95ddaf6432387{font-size:13px;color:#666;margin-top:2px}.user-login-time.jsx-58b95ddaf6432387{font-size:12px;color:#999;margin-top:2px}.no-users.jsx-58b95ddaf6432387{padding:40px 20px;text-align:center;color:#666}.no-users-icon.jsx-58b95ddaf6432387{font-size:40px;margin-bottom:10px}.transfer-footer.jsx-58b95ddaf6432387{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;gap:12px;padding:20px 25px;border-top:1px solid#e0e0e0;background:#f8f9fa}.transfer-btn.jsx-58b95ddaf6432387{padding:10px 24px;font-size:14px;font-weight:600;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;cursor:pointer;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.transfer-btn.jsx-58b95ddaf6432387:disabled{opacity:.5;cursor:not-allowed}.transfer-btn-cancel.jsx-58b95ddaf6432387{background:#e0e0e0;color:#333}.transfer-btn-cancel.jsx-58b95ddaf6432387:hover:not(:disabled){background:#d0d0d0}.transfer-btn-confirm.jsx-58b95ddaf6432387{background:#dc3545;color:white}.transfer-btn-confirm.jsx-58b95ddaf6432387:hover:not(:disabled){background:#c82333}.confirmation-overlay.jsx-58b95ddaf6432387{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(255,255,255,.95);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:30px;text-align:center}.confirmation-icon.jsx-58b95ddaf6432387{font-size:50px;margin-bottom:20px}.confirmation-title.jsx-58b95ddaf6432387{font-size:20px;font-weight:600;color:#dc3545;margin-bottom:15px}.confirmation-message.jsx-58b95ddaf6432387{font-size:14px;color:#555;line-height:1.6;margin-bottom:25px;max-width:350px}.confirmation-buttons.jsx-58b95ddaf6432387{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:15px}"}),(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-58b95ddaf6432387 transfer-modal",children:[(0,a.jsx)("div",{className:"jsx-58b95ddaf6432387 transfer-header",children:"Transfer ePRF"}),(0,a.jsxs)("div",{style:{position:"relative"},className:"jsx-58b95ddaf6432387 transfer-body",children:[(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 transfer-info",children:[(0,a.jsx)("strong",{className:"jsx-58b95ddaf6432387",children:"Transferring:"})," ",h]}),(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 transfer-warning",children:[(0,a.jsx)("span",{className:"jsx-58b95ddaf6432387 warning-icon",children:"⚠️"}),(0,a.jsxs)("span",{className:"jsx-58b95ddaf6432387 warning-text",children:["This action is ",(0,a.jsx)("strong",{className:"jsx-58b95ddaf6432387",children:"irreversible"}),". The ePRF will be transferred to another user and they will become the author. You will no longer be able to edit this record."]})]}),b?(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 no-users",children:[(0,a.jsx)("div",{className:"jsx-58b95ddaf6432387 no-users-icon",children:"⏳"}),(0,a.jsx)("p",{className:"jsx-58b95ddaf6432387",children:"Loading users..."})]}):d.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{style:{marginBottom:"12px",fontSize:"14px",color:"#555"},className:"jsx-58b95ddaf6432387",children:"Select a user to transfer to:"}),(0,a.jsx)("div",{className:"jsx-58b95ddaf6432387 users-list",children:d.map(e=>(0,a.jsxs)("div",{onClick:()=>g(e),className:`jsx-58b95ddaf6432387 user-item ${f?.discordId===e.discordId?"selected":""}`,children:[(0,a.jsx)("input",{type:"radio",checked:f?.discordId===e.discordId,onChange:()=>g(e),className:"jsx-58b95ddaf6432387 user-radio"}),(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 user-info",children:[(0,a.jsx)("div",{className:"jsx-58b95ddaf6432387 user-callsign",children:e.callsign}),(0,a.jsx)("div",{className:"jsx-58b95ddaf6432387 user-vehicle",children:e.vehicle}),(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 user-login-time",children:["Logged in: ",new Date(e.loginTime).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})]},e.discordId))})]}):!b&&(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 no-users",children:[(0,a.jsx)("div",{className:"jsx-58b95ddaf6432387 no-users-icon",children:"\uD83D\uDC64"}),(0,a.jsx)("p",{className:"jsx-58b95ddaf6432387",children:"No other users are currently logged in."}),(0,a.jsx)("p",{style:{fontSize:"13px",marginTop:"5px"},className:"jsx-58b95ddaf6432387",children:"Ask another crew member to log in first."})]}),p&&f&&(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 confirmation-overlay",children:[(0,a.jsx)("div",{className:"jsx-58b95ddaf6432387 confirmation-icon",children:"\uD83D\uDD04"}),(0,a.jsx)("div",{className:"jsx-58b95ddaf6432387 confirmation-title",children:"Confirm Transfer"}),(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 confirmation-message",children:["You are about to transfer ",(0,a.jsx)("strong",{className:"jsx-58b95ddaf6432387",children:h})," to ",(0,a.jsx)("strong",{className:"jsx-58b95ddaf6432387",children:f.callsign}),".",(0,a.jsx)("br",{className:"jsx-58b95ddaf6432387"}),(0,a.jsx)("br",{className:"jsx-58b95ddaf6432387"}),"This cannot be undone. Are you sure?"]}),(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 confirmation-buttons",children:[(0,a.jsx)("button",{onClick:()=>u(!1),disabled:l,className:"jsx-58b95ddaf6432387 transfer-btn transfer-btn-cancel",children:"Go Back"}),(0,a.jsx)("button",{onClick:()=>{f&&i(f)},disabled:l,className:"jsx-58b95ddaf6432387 transfer-btn transfer-btn-confirm",children:l?"Transferring...":"Yes, Transfer"})]})]})]}),!p&&(0,a.jsxs)("div",{className:"jsx-58b95ddaf6432387 transfer-footer",children:[(0,a.jsx)("button",{onClick:t,disabled:l,className:"jsx-58b95ddaf6432387 transfer-btn transfer-btn-cancel",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{f&&u(!0)},disabled:!f||l,className:"jsx-58b95ddaf6432387 transfer-btn transfer-btn-confirm",children:"Transfer ePRF"})]})]})]})}i(3759),i(8718)},2392:(e,t,i)=>{i.r(t),i.d(t,{areAllPatientsComplete:()=>_,createEPRFRecord:()=>m,createEPRFRecordAsync:()=>f,deleteEPRFRecord:()=>h,deleteEPRFRecordAsync:()=>x,getAllEPRFRecords:()=>l,getBlockedSubmissions:()=>C,getCompleteEPRFs:()=>A,getEPRFHistory:()=>o,getEPRFHistoryAsync:()=>s,getEPRFRecord:()=>F,getIncompleteEPRFs:()=>N,groupEPRFsByIncident:()=>S,markEPRFComplete:()=>b,markEPRFCompleteAsync:()=>p,saveEPRFRecord:()=>c,saveEPRFRecordLocal:()=>d,searchEPRFs:()=>P,searchEPRFsAsync:()=>k,transferAllPatients:()=>I,transferAllPatientsAsync:()=>v,transferEPRF:()=>w,transferEPRFAsync:()=>y});var a=i(8718);let r="eprf_history";function n(e){return{id:`${e.incident_id}-${e.patient_letter}`,incidentId:e.incident_id,patientLetter:e.patient_letter,status:e.status,author:e.author_discord_id,authorCallsign:e.author_callsign,createdAt:e.created_at,updatedAt:e.updated_at,submittedAt:e.submitted_at,fleetId:e.fleet_id}}async function s(e){try{let t=(await a.Jf(e)).map(n),i=l().filter(t=>t.author!==e);return localStorage.setItem(r,JSON.stringify([...i,...t])),localStorage.setItem("eprf_cache_timestamp",Date.now().toString()),t}catch(t){return console.error("Failed to fetch from API, using cache:",t),o(e)}}function o(e){try{let t=localStorage.getItem(r);if(!t)return[];return JSON.parse(t).filter(t=>t.author===e)}catch{return[]}}function l(){try{let e=localStorage.getItem(r);return e?JSON.parse(e):[]}catch{return[]}}function d(e){let t=l(),i=t.findIndex(t=>t.incidentId===e.incidentId&&t.patientLetter===e.patientLetter);i>=0?t[i]={...t[i],...e,updatedAt:new Date().toISOString()}:t.push(e),localStorage.setItem(r,JSON.stringify(t))}async function c(e){d(e);try{await a.ie(e.incidentId,e.patientLetter,e.author,e.authorCallsign,e.fleetId)}catch(e){console.error("Failed to sync to API:",e)}}async function f(e,t,i,r,n){let s=new Date().toISOString(),o={id:`${e}-${t}`,incidentId:e,patientLetter:t,status:"incomplete",author:i,authorCallsign:r,createdAt:s,updatedAt:s,fleetId:n};d(o);try{await a.ie(e,t,i,r,n)}catch(e){console.error("Failed to save to API:",e)}return o}function m(e,t,i,r,n){let s=new Date().toISOString(),o={id:`${e}-${t}`,incidentId:e,patientLetter:t,status:"incomplete",author:i,authorCallsign:r,createdAt:s,updatedAt:s,fleetId:n};return d(o),a.ie(e,t,i,r,n).catch(e=>console.error("Failed to sync to API:",e)),o}async function p(e,t){u(e,t);try{await a.$h(e,t)}catch(e){console.error("Failed to mark complete via API:",e)}}function u(e,t){let i=l(),a=i.find(i=>i.incidentId===e&&i.patientLetter===t);a&&(a.status="complete",a.submittedAt=new Date().toISOString(),a.updatedAt=new Date().toISOString(),localStorage.setItem(r,JSON.stringify(i)))}function b(e,t){u(e,t),a.$h(e,t).catch(e=>console.error("Failed to sync to API:",e))}async function x(e,t){let i=g(e,t);try{return await a.HX(e,t),!0}catch(e){return console.error("Failed to delete via API:",e),i}}function g(e,t){let i=l(),a=i.find(i=>i.incidentId===e&&i.patientLetter===t);if(a&&"incomplete"===a.status){let a=i.filter(i=>!(i.incidentId===e&&i.patientLetter===t));return localStorage.setItem(r,JSON.stringify(a)),["incident","patient_info","primary_survey","hx_complaint","past_medical_history","clinical_impression","disposition","vitals","medications","interventions","media"].forEach(t=>{localStorage.removeItem(`${t}_${e}`)}),!0}return!1}function h(e,t){let i=g(e,t);return a.HX(e,t).catch(e=>console.error("Failed to sync delete to API:",e)),i}async function y(e,t,i,r){j(e,t,i,r);try{return await a.F3(e,t,i,r),!0}catch(e){return console.error("Failed to transfer via API:",e),!0}}function j(e,t,i,a){let n=l(),s=n.find(i=>i.incidentId===e&&i.patientLetter===t);return!!s&&(s.author=i,s.authorCallsign=a,s.updatedAt=new Date().toISOString(),localStorage.setItem(r,JSON.stringify(n)),!0)}function w(e,t,i,r){let n=j(e,t,i,r);return a.F3(e,t,i,r).catch(e=>console.error("Failed to sync transfer to API:",e)),n}async function v(e,t,i){let a=l().filter(t=>t.incidentId===e);if(0===a.length)return!1;for(let r of a)await y(e,r.patientLetter,t,i);return!0}function I(e,t,i){let a=l().filter(t=>t.incidentId===e);return 0!==a.length&&(a.forEach(a=>{w(e,a.patientLetter,t,i)}),!0)}async function k(e,t,i){try{return(await a.qx(e,t,i)).map(n)}catch(a){return console.error("Failed to search via API, using local cache:",a),P(e,t||"",{status:i})}}function S(e){let t={};return e.forEach(e=>{t[e.incidentId]||(t[e.incidentId]=[]),t[e.incidentId].push(e)}),Object.entries(t).map(([e,t])=>({incidentId:e,patients:t.sort((e,t)=>e.patientLetter.localeCompare(t.patientLetter)),allComplete:t.every(e=>"complete"===e.status),createdAt:t[0]?.createdAt||"",fleetId:t[0]?.fleetId||""})).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}function _(e){let t=l().filter(t=>t.incidentId===e);return t.length>0&&t.every(e=>"complete"===e.status)}function N(e){return o(e).filter(e=>"incomplete"===e.status)}function A(e){return o(e).filter(e=>"complete"===e.status)}function P(e,t,i){let a=o(e);if(i?.status&&"all"!==i.status&&(a=a.filter(e=>e.status===i.status)),i?.dateFrom){let e=new Date(i.dateFrom).getTime();a=a.filter(t=>new Date(t.createdAt).getTime()>=e)}if(i?.dateTo){let e=new Date(i.dateTo).getTime()+864e5;a=a.filter(t=>new Date(t.createdAt).getTime()<=e)}if(t.trim()){let e=t.toLowerCase();a=a.filter(t=>t.incidentId.toLowerCase().includes(e)||t.patientLetter.toLowerCase().includes(e)||t.authorCallsign.toLowerCase().includes(e))}return a}function F(e,t){return l().find(i=>i.incidentId===e&&i.patientLetter===t)||null}function C(e){return S(o(e)).filter(e=>e.patients.length>1&&!e.allComplete&&e.patients.some(e=>"complete"===e.status))}},9572:(e,t,i)=>{i.d(t,{Gf:()=>d,mb:()=>l});var a=i(6360),r=i(3846);function n(e){try{return localStorage.getItem(`patient_letter_${e}`)||"A"}catch{return"A"}}function s(e,t){let i=function(e){try{let t=localStorage.getItem(`saved_patients_${e}`);return t?JSON.parse(t):[]}catch{return[]}}(e);i.includes(t)||(i.push(t),localStorage.setItem(`saved_patients_${e}`,JSON.stringify(i)))}function o(e,t){["patient_info","primary_survey","hx_complaint","past_medical_history","clinical_impression","disposition","vitals","medications","interventions"].forEach(i=>{let a=`${i}_${e}`,r=`${i}_${e}_${t}`,n=localStorage.getItem(a);n&&localStorage.setItem(r,n)})}async function l(e){try{let t=n(e);o(e,t),s(e,t);let i=function(e){let t=e.charCodeAt(0);return t>=90?"Z":String.fromCharCode(t+1)}(t);return localStorage.setItem(`patient_letter_${e}`,i),["patient_info","primary_survey","hx_complaint","past_medical_history","clinical_impression","disposition","vitals","medications","interventions"].forEach(t=>{localStorage.removeItem(`${t}_${e}`)}),["vitals_draft","medications_draft","interventions_draft"].forEach(t=>{localStorage.removeItem(`${t}_${e}`)}),{success:!0,newLetter:i}}catch(e){return console.error("Error adding patient:",e),{success:!1,newLetter:"",error:"Failed to add patient"}}}async function d(e,t){try{let i=(0,a.Zl)(e);if(!i.isValid)return{success:!1,validationResult:i,error:"Please complete all required fields before submitting"};let l=n(e),d=(0,r.kv)(e,l);(0,r.NI)(d);try{(await fetch("/api/eprf/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({incidentId:e,fleetId:t,patientLetter:l,data:d,submittedAt:new Date().toISOString()})})).ok||console.warn("Database save failed, but PDF was downloaded")}catch(e){console.warn("Database save failed, but PDF was downloaded:",e)}return o(e,l),s(e,l),{success:!0}}catch(e){return console.error("Error submitting ePRF:",e),{success:!1,error:"Failed to submit ePRF"}}}},3759:(e,t,i)=>{i.d(t,{Cn:()=>n,ts:()=>r});function a(){try{let e=localStorage.getItem("logged_in_users");if(!e)return[];let t=JSON.parse(e),i=new Date().getTime();return t.filter(e=>{let t=new Date(e.loginTime).getTime();return i-t<864e5})}catch{return[]}}function r(){try{let e=localStorage.getItem("current_user");return e?JSON.parse(e):null}catch{return null}}function n(){let e=r();return e?a().filter(t=>t.discordId!==e.discordId):a()}},6360:(e,t,i)=>{i.d(t,{Zl:()=>n,aY:()=>s});let a={incident:"incident","patient-info":"patient_info","primary-survey":"primary_survey","hx-complaint":"hx_complaint","past-medical-history":"past_medical_history","clinical-impression":"clinical_impression",disposition:"disposition"},r={incident:{fields:["caseType","dateTimeOfCall","incidentLocation","locationType"],labels:{caseType:"Case Type",dateTimeOfCall:"Date/Time of Call",incidentLocation:"Incident Location",locationType:"Location Type"}},"patient-info":{fields:["robloxUsername","firstName","surname","sex","dob","age","ageType","ptAddress"],labels:{robloxUsername:"Roblox Username",firstName:"First Name",surname:"Family Name (surname)",sex:"Sex",dob:"Date of Birth",age:"Age",ageType:"Age Type",ptAddress:"Patient Address"}},"primary-survey":{fields:["clinicalStatus","responsiveness","airway","breathing","circulation","bloodLoss"],labels:{clinicalStatus:"Clinical Status at Scene",responsiveness:"Responsiveness",airway:"Airway",breathing:"Breathing",circulation:"Circulation",bloodLoss:"Blood Loss"}},"hx-complaint":{fields:["complaints","dateOfOnset"],labels:{complaints:"Presenting Complaint",dateOfOnset:"Date of Onset"}},"past-medical-history":{fields:["pastMedicalHistory","medications","allergies","lastOralIntake"],labels:{pastMedicalHistory:"Past Medical History",medications:"Medications",allergies:"Allergies",lastOralIntake:"Last Oral Intake"}},"clinical-impression":{fields:["primaryClinicalImpression"],labels:{primaryClinicalImpression:"Primary Clinical Impression"}},disposition:{fields:["disposition","finalPatientStatus","copyToGP"],labels:{disposition:"Disposition",finalPatientStatus:"Final Patient Status",copyToGP:"Copy to GP?"}}};function n(e){let t=[],i={};for(let n of Object.keys(r)){let s=function(e,t){let i=[],n=r[e];if(!n)return i;try{let r=function(e,t){let i=a[e]||e.replace(/-/g,"_");return`${i}_${t}`}(e,t),s=localStorage.getItem(r);if(!s)return n.fields.map(e=>n.labels[e]);let o=JSON.parse(s);for(let e of n.fields){let t=o[e];Array.isArray(t)?0===t.length&&i.push(n.labels[e]):t&&("string"!=typeof t||""!==t.trim())||i.push(n.labels[e])}}catch(t){console.error(`Error validating ${e}:`,t)}return i}(n,e);s.length>0&&(t.push(n),i[n]=s)}try{let a=localStorage.getItem(`vitals_${e}`);if(a){let e=JSON.parse(a);if(Array.isArray(e)&&e.length>0)for(let a of e)a.time&&""!==a.time.trim()||(t.includes("vital-obs")||t.push("vital-obs"),i["vital-obs"]||(i["vital-obs"]=[]),i["vital-obs"].includes("Vitals entry missing Time")||i["vital-obs"].push("Vitals entry missing Time"))}}catch(e){console.error("Error validating vitals:",e)}try{let a=localStorage.getItem(`medications_${e}`);if(a){let e=JSON.parse(a);if(Array.isArray(e)&&e.length>0)for(let a of e){let e=[];a.time||e.push("Time"),a.administeredBy||e.push("Administered by"),a.medication||e.push("Medication"),a.dose||e.push("Dose"),a.unit||e.push("Unit"),a.route||e.push("Route"),e.length>0&&(t.includes("medications")||t.push("medications"),i.medications||(i.medications=[]),i.medications.push(`Medication entry missing: ${e.join(", ")}`))}}}catch(e){console.error("Error validating medications:",e)}try{let a=localStorage.getItem(`interventions_${e}`);if(a){let e=JSON.parse(a);if(Array.isArray(e)&&e.length>0)for(let a of e){let e=[];a.time||e.push("Time"),a.performedBy||e.push("Performed by"),e.length>0&&(t.includes("interventions")||t.push("interventions"),i.interventions||(i.interventions=[]),i.interventions.push(`Intervention entry missing: ${e.join(", ")}`))}}}catch(e){console.error("Error validating interventions:",e)}return{isValid:0===t.length,incompleteSections:t,fieldErrors:i}}function s(e){return({incident:"Incident Information","patient-info":"Patient Information","primary-survey":"Primary Survey","vital-obs":"Vital Obs / Treat","hx-complaint":"Hx Complaint","past-medical-history":"Past Medical History","clinical-impression":"Clinical Impression",disposition:"Disposition",media:"Media",medications:"Medications",interventions:"Interventions"})[e]||e}}}]);
//# sourceMappingURL=974.js.map