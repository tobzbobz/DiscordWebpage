{"version":3,"file":"app/disposition/page.js","mappings":"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","sources":["webpack://_N_E/external commonjs \"node:async_hooks\"","webpack://_N_E/external commonjs \"node:buffer\"","webpack://_N_E/./app/disposition/page.tsx?a904","webpack://_N_E/|ssr?581a","webpack://_N_E/?d8e8","webpack://_N_E/./app/disposition/page.tsx"],"sourcesContent":["module.exports = require(\"node:async_hooks\");","module.exports = require(\"node:buffer\");","\"TURBOPACK { transition: next-ssr }\";\nimport { AppPageRouteModule } from \"next/dist/server/future/route-modules/app-page/module.compiled\";\nimport { RouteKind } from \"next/dist/server/future/route-kind\";\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'disposition',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\disposition\\\\page.tsx\"), \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\disposition\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\layout.tsx\"), \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\layout.tsx\"],\n'not-found': [() => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/not-found-error\"), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\disposition\\\\page.tsx\"];\nexport { tree, pages };\nexport { default as GlobalError } from \"next/dist/client/components/error-boundary\";\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nexport const originalPathname = \"/disposition/page\";\nexport const __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\nexport * from \"next/dist/server/app-render/entry-base\";\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n    definition: {\n        kind: RouteKind.APP_PAGE,\n        page: \"/disposition/page\",\n        pathname: \"/disposition\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map","var _self___RSC_MANIFEST;\nimport \"next/dist/server/web/globals\";\nimport { adapter } from \"next/dist/server/web/adapter\";\nimport { getRender } from \"next/dist/build/webpack/loaders/next-edge-ssr-loader/render\";\nimport { IncrementalCache } from \"next/dist/server/lib/incremental-cache\";\nimport { renderToHTMLOrFlight as renderToHTML } from \"next/dist/server/app-render/app-render\";\nimport * as pageMod from \"next-app-loader?name=app%2Fdisposition%2Fpage&page=%2Fdisposition%2Fpage&pagePath=private-next-app-dir%2Fdisposition%2Fpage.tsx&appDir=C%3A%5CUsers%5CToby%5CDownloads%5Cnode-v24.11.1-win-x64%5Capp123%5Capp&appPaths=%2Fdisposition%2Fpage&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!private-next-app-dir/disposition/page.tsx?__next_edge_ssr_entry__\";\nimport { PAGE_TYPES } from \"next/dist/lib/page-types\";\nimport { setReferenceManifestsSingleton } from \"next/dist/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/server/app-render/action-utils\";\nconst incrementalCacheHandler = null\nconst Document = null;\nconst appMod = null;\nconst errorMod = null;\nconst error500Mod = null;\nconst sriEnabled = false\nconst isServerComponent = true\nconst dev = false\nconst serverActions = undefined\nconst nextConfig = {\"env\":{},\"webpack\":null,\"eslint\":{\"ignoreDuringBuilds\":false},\"typescript\":{\"ignoreBuildErrors\":false,\"tsconfigPath\":\"tsconfig.json\"},\"distDir\":\".next\",\"cleanDistDir\":true,\"assetPrefix\":\"\",\"cacheMaxMemorySize\":52428800,\"configOrigin\":\"next.config.js\",\"useFileSystemPublicRoutes\":true,\"generateEtags\":true,\"pageExtensions\":[\"tsx\",\"ts\",\"jsx\",\"js\"],\"poweredByHeader\":true,\"compress\":true,\"analyticsId\":\"\",\"images\":{\"deviceSizes\":[640,750,828,1080,1200,1920,2048,3840],\"imageSizes\":[16,32,48,64,96,128,256,384],\"path\":\"/_next/image\",\"loader\":\"default\",\"loaderFile\":\"\",\"domains\":[],\"disableStaticImages\":false,\"minimumCacheTTL\":60,\"formats\":[\"image/webp\"],\"dangerouslyAllowSVG\":false,\"contentSecurityPolicy\":\"script-src 'none'; frame-src 'none'; sandbox;\",\"contentDispositionType\":\"inline\",\"remotePatterns\":[],\"unoptimized\":false},\"devIndicators\":{\"buildActivity\":true,\"buildActivityPosition\":\"bottom-right\"},\"onDemandEntries\":{\"maxInactiveAge\":60000,\"pagesBufferLength\":5},\"amp\":{\"canonicalBase\":\"\"},\"basePath\":\"\",\"sassOptions\":{},\"trailingSlash\":false,\"i18n\":null,\"productionBrowserSourceMaps\":false,\"optimizeFonts\":true,\"excludeDefaultMomentLocales\":true,\"serverRuntimeConfig\":{},\"publicRuntimeConfig\":{},\"reactProductionProfiling\":false,\"reactStrictMode\":null,\"httpAgentOptions\":{\"keepAlive\":true},\"outputFileTracing\":true,\"staticPageGenerationTimeout\":60,\"swcMinify\":true,\"modularizeImports\":{\"@mui/icons-material\":{\"transform\":\"@mui/icons-material/{{member}}\"},\"lodash\":{\"transform\":\"lodash/{{member}}\"}},\"experimental\":{\"multiZoneDraftMode\":false,\"prerenderEarlyExit\":false,\"serverMinification\":true,\"serverSourceMaps\":false,\"linkNoTouchStart\":false,\"caseSensitiveRoutes\":false,\"clientRouterFilter\":true,\"clientRouterFilterRedirects\":false,\"fetchCacheKeyPrefix\":\"\",\"middlewarePrefetch\":\"flexible\",\"optimisticClientCache\":true,\"manualClientBasePath\":false,\"cpus\":11,\"memoryBasedWorkersCount\":false,\"isrFlushToDisk\":true,\"workerThreads\":false,\"optimizeCss\":false,\"nextScriptWorkers\":false,\"scrollRestoration\":false,\"externalDir\":false,\"disableOptimizedLoading\":false,\"gzipSize\":true,\"craCompat\":false,\"esmExternals\":true,\"fullySpecified\":false,\"outputFileTracingRoot\":\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\",\"swcTraceProfiling\":false,\"forceSwcTransforms\":false,\"largePageDataBytes\":128000,\"adjustFontFallbacks\":false,\"adjustFontFallbacksWithSizeAdjust\":false,\"typedRoutes\":false,\"instrumentationHook\":false,\"bundlePagesExternals\":false,\"parallelServerCompiles\":false,\"parallelServerBuildTraces\":false,\"ppr\":false,\"missingSuspenseWithCSRBailout\":true,\"optimizeServerReact\":true,\"useEarlyImport\":false,\"staleTimes\":{\"dynamic\":30,\"static\":300},\"optimizePackageImports\":[\"lucide-react\",\"date-fns\",\"lodash-es\",\"ramda\",\"antd\",\"react-bootstrap\",\"ahooks\",\"@ant-design/icons\",\"@headlessui/react\",\"@headlessui-float/react\",\"@heroicons/react/20/solid\",\"@heroicons/react/24/solid\",\"@heroicons/react/24/outline\",\"@visx/visx\",\"@tremor/react\",\"rxjs\",\"@mui/material\",\"@mui/icons-material\",\"recharts\",\"react-use\",\"@material-ui/core\",\"@material-ui/icons\",\"@tabler/icons-react\",\"mui-core\",\"react-icons/ai\",\"react-icons/bi\",\"react-icons/bs\",\"react-icons/cg\",\"react-icons/ci\",\"react-icons/di\",\"react-icons/fa\",\"react-icons/fa6\",\"react-icons/fc\",\"react-icons/fi\",\"react-icons/gi\",\"react-icons/go\",\"react-icons/gr\",\"react-icons/hi\",\"react-icons/hi2\",\"react-icons/im\",\"react-icons/io\",\"react-icons/io5\",\"react-icons/lia\",\"react-icons/lib\",\"react-icons/lu\",\"react-icons/md\",\"react-icons/pi\",\"react-icons/ri\",\"react-icons/rx\",\"react-icons/si\",\"react-icons/sl\",\"react-icons/tb\",\"react-icons/tfi\",\"react-icons/ti\",\"react-icons/vsc\",\"react-icons/wi\"]},\"configFile\":\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\next.config.js\",\"configFileName\":\"next.config.js\"}\nconst maybeJSONParse = (str)=>str ? JSON.parse(str) : undefined;\nconst buildManifest = self.__BUILD_MANIFEST;\nconst reactLoadableManifest = maybeJSONParse(self.__REACT_LOADABLE_MANIFEST);\nconst rscManifest = (_self___RSC_MANIFEST = self.__RSC_MANIFEST) == null ? void 0 : _self___RSC_MANIFEST[\"/disposition/page\"];\nconst rscServerManifest = maybeJSONParse(self.__RSC_SERVER_MANIFEST);\nconst subresourceIntegrityManifest = sriEnabled ? maybeJSONParse(self.__SUBRESOURCE_INTEGRITY_MANIFEST) : undefined;\nconst nextFontManifest = maybeJSONParse(self.__NEXT_FONT_MANIFEST);\nconst interceptionRouteRewrites = maybeJSONParse(self.__INTERCEPTION_ROUTE_REWRITE_MANIFEST) ?? [];\nif (rscManifest && rscServerManifest) {\n    setReferenceManifestsSingleton({\n        clientReferenceManifest: rscManifest,\n        serverActionsManifest: rscServerManifest,\n        serverModuleMap: createServerModuleMap({\n            serverActionsManifest: rscServerManifest,\n            pageName: \"/disposition/page\"\n        })\n    });\n}\nconst render = getRender({\n    pagesType: PAGE_TYPES.APP,\n    dev,\n    page: \"/disposition/page\",\n    appMod,\n    pageMod,\n    errorMod,\n    error500Mod,\n    Document,\n    buildManifest,\n    renderToHTML,\n    reactLoadableManifest,\n    clientReferenceManifest: isServerComponent ? rscManifest : null,\n    serverActionsManifest: isServerComponent ? rscServerManifest : null,\n    serverActions: isServerComponent ? serverActions : undefined,\n    subresourceIntegrityManifest,\n    config: nextConfig,\n    buildId: process.env.__NEXT_BUILD_ID,\n    nextFontManifest,\n    incrementalCacheHandler,\n    interceptionRouteRewrites\n});\nexport const ComponentMod = pageMod;\nexport default function nHandler(opts) {\n    return adapter({\n        ...opts,\n        IncrementalCache,\n        handler: render\n    });\n}\n\n//# sourceMappingURL=edge-ssr-app.js.map","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\disposition\\\\page.tsx\");\n","\"use client\"\r\n\r\nimport { useSearchParams, useRouter } from 'next/navigation'\r\nimport { useState, useEffect } from 'react'\r\nimport { validateAllSections, getSectionDisplayName } from '../utils/validation'\r\nimport { handleAddPatient as addPatientService, handleSubmitEPRF as submitEPRFService, getCurrentPatientLetter } from '../utils/eprfService'\r\nimport ConfirmationModal, { ValidationErrorModal, SuccessModal } from '../components/ConfirmationModal'\r\nimport TransferModal from '../components/TransferModal'\r\nimport { getCurrentUser } from '../utils/userService'\r\nimport { isAdmin } from '../utils/apiClient'\r\n\r\nexport const runtime = 'edge'\r\n\r\nexport default function DispositionPage() {\r\n  const searchParams = useSearchParams()\r\n  const router = useRouter()\r\n  const incidentId = searchParams?.get('id') || ''\r\n  const fleetId = searchParams?.get('fleetId') || ''\r\n\r\n  const [incompleteSections, setIncompleteSections] = useState<string[]>([])\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const totalPages = 2\r\n  const [patientLetter, setPatientLetter] = useState('A')\r\n\r\n  // Modal states\r\n  const [showAddPatientModal, setShowAddPatientModal] = useState(false)\r\n  const [showSubmitModal, setShowSubmitModal] = useState(false)\r\n  const [showTransferModal, setShowTransferModal] = useState(false)\r\n  const [showValidationErrorModal, setShowValidationErrorModal] = useState(false)\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false)\r\n  const [validationErrors, setValidationErrors] = useState<{[section: string]: string[]}>({})\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [successMessage, setSuccessMessage] = useState({ title: '', message: '' })\r\n\r\n  const [formData, setFormData] = useState({\r\n    disposition: '',\r\n    noTreatmentReason: 'Transport not indicated',\r\n    noTransportReason: '',\r\n    finalPatientStatus: '',\r\n    dispositionNotes: '',\r\n    referralPathway: '',\r\n    acsAccessCode: '',\r\n    reasonForDelay: '',\r\n    // Page 2\r\n    nonTransportAdvice: '',\r\n    copyToGP: '',\r\n    noteToGP: '',\r\n    flagForAudit: false,\r\n    auditReason: ''\r\n  })\r\n\r\n  // Load patient letter on mount\r\n  useEffect(() => {\r\n    if (incidentId) {\r\n      setPatientLetter(getCurrentPatientLetter(incidentId))\r\n    }\r\n  }, [incidentId])\r\n\r\n  // Load saved data on mount\r\n  useEffect(() => {\r\n    if (incidentId) {\r\n      const saved = localStorage.getItem(`disposition_${incidentId}`)\r\n      if (saved) {\r\n        try {\r\n          const parsed = JSON.parse(saved)\r\n          setFormData(prev => ({ ...prev, ...parsed }))\r\n        } catch (e) {\r\n          console.error('Failed to parse saved data:', e)\r\n        }\r\n      }\r\n    }\r\n  }, [incidentId])\r\n\r\n  // Save data whenever it changes\r\n  useEffect(() => {\r\n    if (incidentId) {\r\n      localStorage.setItem(`disposition_${incidentId}`, JSON.stringify(formData))\r\n    }\r\n  }, [formData, incidentId])\r\n\r\n  const noTreatmentReasons = [\r\n    'Transport not indicated',\r\n    'Patient declined transport',\r\n    'Patient absconded',\r\n    'Patient deceased'\r\n  ]\r\n\r\n  const handleLogout = () => {\r\n    router.push('/')\r\n  }\r\n\r\n  const handleHome = () => {\r\n    const params = new URLSearchParams({ fleetId })\r\n    router.push(`/dashboard?${params}`)\r\n  }\r\n\r\n  const handleAdminPanel = () => {\r\n    const user = getCurrentUser()\r\n    if (user && isAdmin(user.discordId)) {\r\n      router.push('/admin')\r\n    }\r\n  }\r\n\r\n  const handleTransferClick = () => {\r\n    setShowTransferModal(true)\r\n  }\r\n\r\n  const handleTransferComplete = (targetUser: any) => {\r\n    const { transferAllPatients } = require('../utils/eprfHistoryService')\r\n    transferAllPatients(incidentId, targetUser.discordId, targetUser.callsign)\r\n    \r\n    setShowTransferModal(false)\r\n    setSuccessMessage({\r\n      title: 'ePRF Transferred',\r\n      message: `The ePRF has been transferred to ${targetUser.callsign}. You will be redirected to the dashboard.`\r\n    })\r\n    setShowSuccessModal(true)\r\n    setTimeout(() => {\r\n      handleHome()\r\n    }, 2000)\r\n  }\r\n\r\n  const navigateTo = (section: string) => {\r\n    const params = new URLSearchParams({ id: incidentId, fleetId })\r\n    if (section === 'incident') router.push(`/incident?${params}`)\r\n    else if (section === 'patient-info') router.push(`/patient-info?${params}`)\r\n    else if (section === 'primary-survey') router.push(`/primary-survey?${params}`)\r\n    else if (section === 'vital-obs') router.push(`/vital-obs?${params}`)\r\n    else if (section === 'hx-complaint') router.push(`/hx-complaint?${params}`)\r\n    else if (section === 'past-medical-history') router.push(`/past-medical-history?${params}`)\r\n    else if (section === 'clinical-impression') router.push(`/clinical-impression?${params}`)\r\n    else if (section === 'disposition') router.push(`/disposition?${params}`)\r\n    else if (section === 'media') router.push(`/media?${params}`)\r\n  }\r\n\r\n  const handlePrevious = () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(currentPage - 1)\r\n    } else {\r\n      navigateTo('clinical-impression')\r\n    }\r\n  }\r\n\r\n  const handleNext = () => {\r\n    if (currentPage < totalPages) {\r\n      setCurrentPage(currentPage + 1)\r\n    } else {\r\n      navigateTo('media')\r\n    }\r\n  }\r\n\r\n  const handleSubmitEPRF = () => {\r\n    const result = validateAllSections(incidentId)\r\n    setIncompleteSections(result.incompleteSections)\r\n    \r\n    if (result.isValid) {\r\n      // Show confirmation modal\r\n      setShowSubmitModal(true)\r\n    } else {\r\n      // Show validation error modal\r\n      setValidationErrors(result.fieldErrors)\r\n      setShowValidationErrorModal(true)\r\n    }\r\n  }\r\n\r\n  const confirmSubmitEPRF = async () => {\r\n    setIsSubmitting(true)\r\n    try {\r\n      const result = await submitEPRFService(incidentId, fleetId)\r\n      \r\n      if (result.success) {\r\n        setShowSubmitModal(false)\r\n        setSuccessMessage({\r\n          title: 'ePRF Submitted Successfully!',\r\n          message: `The ePRF for Patient ${patientLetter} has been submitted.\\n\\nA PDF copy has been downloaded to your device and the record has been saved.`\r\n        })\r\n        setShowSuccessModal(true)\r\n      } else if (result.validationResult) {\r\n        setShowSubmitModal(false)\r\n        setValidationErrors(result.validationResult.fieldErrors)\r\n        setIncompleteSections(result.validationResult.incompleteSections)\r\n        setShowValidationErrorModal(true)\r\n      }\r\n    } catch (error) {\r\n      console.error('Submit error:', error)\r\n      alert('An error occurred while submitting. Please try again.')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleAddPatientClick = () => {\r\n    setShowAddPatientModal(true)\r\n  }\r\n\r\n  const confirmAddPatient = async () => {\r\n    setIsSubmitting(true)\r\n    try {\r\n      const result = await addPatientService(incidentId)\r\n      \r\n      if (result.success) {\r\n        setShowAddPatientModal(false)\r\n        setPatientLetter(result.newLetter)\r\n        setSuccessMessage({\r\n          title: 'Patient Added Successfully!',\r\n          message: `Patient ${patientLetter} has been saved.\\n\\nYou are now working on Patient ${result.newLetter}.\\n\\nThe form has been cleared for the new patient.`\r\n        })\r\n        setShowSuccessModal(true)\r\n        \r\n        // Navigate to patient info for the new patient\r\n        setTimeout(() => {\r\n          const params = new URLSearchParams({ id: incidentId, fleetId })\r\n          router.push(`/patient-info?${params}`)\r\n        }, 2000)\r\n      } else {\r\n        alert(result.error || 'Failed to add patient')\r\n      }\r\n    } catch (error) {\r\n      console.error('Add patient error:', error)\r\n      alert('An error occurred. Please try again.')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const hasFieldError = (field: string) => {\r\n    return incompleteSections.includes('disposition') && (\r\n      (field === 'disposition' && !formData.disposition) ||\r\n      (field === 'finalPatientStatus' && !formData.finalPatientStatus) ||\r\n      (field === 'copyToGP' && !formData.copyToGP)\r\n    )\r\n  }\r\n\r\n  const handleRadioChange = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  const handleInputChange = (field: string, value: string | boolean) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  // Check if non-transport was selected (any option other than Transport)\r\n  const isNonTransport = formData.disposition !== '' && formData.disposition !== 'Transport'\r\n\r\n  return (\r\n    <div className=\"eprf-dashboard incident-page\">\r\n      <style jsx>{`\r\n        .disposition-section {\r\n          padding: 20px;\r\n        }\r\n\r\n        .disposition-title {\r\n          font-size: 16px;\r\n          font-weight: bold;\r\n          color: #1a3a5c;\r\n          margin-bottom: 15px;\r\n        }\r\n\r\n        .disposition-title.required::after {\r\n          content: '*';\r\n          color: #cc0000;\r\n          margin-left: 2px;\r\n        }\r\n\r\n        .disposition-options {\r\n          display: flex;\r\n          gap: 60px;\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .disposition-option {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          cursor: pointer;\r\n          font-size: 15px;\r\n          color: #1a3a5c;\r\n        }\r\n\r\n        .disposition-option input[type=\"radio\"] {\r\n          width: 20px;\r\n          height: 20px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .reason-row {\r\n          display: flex;\r\n          gap: 40px;\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .reason-field {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 8px;\r\n        }\r\n\r\n        .reason-label {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: #1a3a5c;\r\n        }\r\n\r\n        .reason-select {\r\n          padding: 8px 12px;\r\n          font-size: 14px;\r\n          border: 1px solid #7a9cc0;\r\n          border-radius: 3px;\r\n          background: white;\r\n          min-width: 200px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .reason-select:focus {\r\n          outline: none;\r\n          border-color: #5a8ab8;\r\n        }\r\n\r\n        .status-section {\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .status-title {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: #1a3a5c;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .status-title.required::after {\r\n          content: '*';\r\n          color: #cc0000;\r\n          margin-left: 2px;\r\n        }\r\n\r\n        .status-options {\r\n          display: flex;\r\n          gap: 50px;\r\n        }\r\n\r\n        .status-option {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          cursor: pointer;\r\n          font-size: 15px;\r\n          color: #1a3a5c;\r\n        }\r\n\r\n        .status-option input[type=\"radio\"] {\r\n          width: 20px;\r\n          height: 20px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .notes-section {\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .notes-label {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: #1a3a5c;\r\n          margin-bottom: 8px;\r\n          display: block;\r\n        }\r\n\r\n        .notes-textarea {\r\n          width: 100%;\r\n          min-height: 80px;\r\n          padding: 10px 12px;\r\n          font-size: 14px;\r\n          border: 1px solid #7a9cc0;\r\n          border-radius: 3px;\r\n          background: white;\r\n          resize: vertical;\r\n          font-family: inherit;\r\n        }\r\n\r\n        .notes-textarea:focus {\r\n          outline: none;\r\n          border-color: #5a8ab8;\r\n        }\r\n\r\n        .pathway-row {\r\n          display: flex;\r\n          gap: 30px;\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .pathway-field {\r\n          flex: 1;\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 8px;\r\n        }\r\n\r\n        .pathway-label {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: #1a3a5c;\r\n        }\r\n\r\n        .pathway-input {\r\n          padding: 8px 12px;\r\n          font-size: 14px;\r\n          border: 1px solid #7a9cc0;\r\n          border-radius: 3px;\r\n          background: #d0d8e0;\r\n          color: #666;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .pathway-input.grayed {\r\n          background: #c8d0d8;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .delay-section {\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .delay-label {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: #1a3a5c;\r\n          margin-bottom: 8px;\r\n          display: block;\r\n        }\r\n\r\n        .delay-input {\r\n          width: 100%;\r\n          padding: 10px 12px;\r\n          font-size: 14px;\r\n          border: 1px solid #7a9cc0;\r\n          border-radius: 3px;\r\n          background: white;\r\n          font-family: inherit;\r\n        }\r\n\r\n        .delay-input:focus {\r\n          outline: none;\r\n          border-color: #5a8ab8;\r\n        }\r\n\r\n        /* Page 2 styles */\r\n        .page2-section {\r\n          padding: 20px;\r\n        }\r\n\r\n        .non-transport-section {\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .section-label {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: #1a3a5c;\r\n          background: #6a7ba2;\r\n          color: white;\r\n          padding: 2px 8px;\r\n          display: inline-block;\r\n          margin-bottom: 8px;\r\n        }\r\n\r\n        .large-textarea {\r\n          width: 100%;\r\n          min-height: 100px;\r\n          padding: 10px 12px;\r\n          font-size: 14px;\r\n          border: 1px solid #7a9cc0;\r\n          border-radius: 3px;\r\n          background: white;\r\n          resize: vertical;\r\n          font-family: inherit;\r\n        }\r\n\r\n        .large-textarea:focus {\r\n          outline: none;\r\n          border-color: #5a8ab8;\r\n        }\r\n\r\n        .large-textarea.grayed {\r\n          background: #c8d0d8;\r\n          color: #666;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .gp-section {\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .gp-row {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          gap: 40px;\r\n          margin-bottom: 15px;\r\n        }\r\n\r\n        .gp-options {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 5px;\r\n        }\r\n\r\n        .gp-title {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: white;\r\n          background: #6a7ba2;\r\n          padding: 2px 8px;\r\n          display: inline-block;\r\n          margin-bottom: 8px;\r\n        }\r\n\r\n        .gp-title.required::after {\r\n          content: '*';\r\n          color: #cc0000;\r\n          margin-left: 2px;\r\n        }\r\n\r\n        .gp-option {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          cursor: pointer;\r\n          font-size: 15px;\r\n          color: #1a3a5c;\r\n        }\r\n\r\n        .gp-option input[type=\"radio\"] {\r\n          width: 18px;\r\n          height: 18px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .gp-textarea-area {\r\n          flex: 1;\r\n        }\r\n\r\n        .note-to-gp-section {\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .note-to-gp-label {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: white;\r\n          background: #6a7ba2;\r\n          padding: 2px 8px;\r\n          display: inline-block;\r\n          margin-bottom: 8px;\r\n        }\r\n\r\n        .note-to-gp-input {\r\n          width: 100%;\r\n          padding: 10px 12px;\r\n          font-size: 14px;\r\n          border: 1px solid #7a9cc0;\r\n          border-radius: 3px;\r\n          background: white;\r\n          font-family: inherit;\r\n        }\r\n\r\n        .note-to-gp-input:focus {\r\n          outline: none;\r\n          border-color: #5a8ab8;\r\n        }\r\n\r\n        .audit-section {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          gap: 40px;\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .audit-checkbox-area {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          padding-top: 25px;\r\n        }\r\n\r\n        .audit-checkbox {\r\n          width: 20px;\r\n          height: 20px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .audit-label {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: white;\r\n          background: #6a7ba2;\r\n          padding: 2px 8px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .audit-reason-area {\r\n          flex: 1;\r\n        }\r\n\r\n        .reason-title {\r\n          font-size: 15px;\r\n          font-weight: bold;\r\n          color: white;\r\n          background: #6a7ba2;\r\n          padding: 2px 8px;\r\n          display: inline-block;\r\n          margin-bottom: 8px;\r\n        }\r\n\r\n        .reason-input {\r\n          width: 100%;\r\n          padding: 10px 12px;\r\n          font-size: 14px;\r\n          border: 1px solid #7a9cc0;\r\n          border-radius: 3px;\r\n          background: white;\r\n          font-family: inherit;\r\n        }\r\n\r\n        .reason-input:focus {\r\n          outline: none;\r\n          border-color: #5a8ab8;\r\n        }\r\n\r\n        .reason-input.grayed {\r\n          background: #c8d0d8;\r\n          color: #666;\r\n          cursor: not-allowed;\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"eprf-nav\">\r\n        <button className=\"nav-btn\" onClick={handleHome}>Home</button>\r\n        <button className=\"nav-btn\">Tools</button>\r\n        <button className=\"nav-btn\" onClick={handleAdminPanel}>Admin Panel</button>\r\n        <button className=\"nav-btn\" onClick={handleLogout}>Manage Crew</button>\r\n        <div className=\"page-counter\">\r\n          <span className=\"patient-letter\">{patientLetter}</span>\r\n          <span className=\"page-indicator\">{currentPage} of {totalPages}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"incident-layout\">\r\n        <aside className=\"sidebar\">\r\n          <button className={`sidebar-btn${incompleteSections.includes('incident') ? ' incomplete' : ''}`} onClick={() => navigateTo('incident')}>Incident Information</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('patient-info') ? ' incomplete' : ''}`} onClick={() => navigateTo('patient-info')}>Patient Information</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('primary-survey') ? ' incomplete' : ''}`} onClick={() => navigateTo('primary-survey')}>Primary Survey</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('vital-obs') ? ' incomplete' : ''}`} onClick={() => navigateTo('vital-obs')}>Vital Obs / Treat</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('hx-complaint') ? ' incomplete' : ''}`} onClick={() => navigateTo('hx-complaint')}>Hx Complaint</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('past-medical-history') ? ' incomplete' : ''}`} onClick={() => navigateTo('past-medical-history')}>Past Medical History</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('clinical-impression') ? ' incomplete' : ''}`} onClick={() => navigateTo('clinical-impression')}>Clinical Impression</button>\r\n          <button className={`sidebar-btn active${incompleteSections.includes('disposition') ? ' incomplete' : ''}`}>Disposition</button>\r\n          <button className=\"sidebar-btn\" onClick={() => navigateTo('media')}>Media</button>\r\n        </aside>\r\n\r\n        <main className=\"incident-content\">\r\n          {currentPage === 1 && (\r\n          <section className=\"incident-section disposition-section\">\r\n            {/* Disposition */}\r\n            <div className={`disposition-title required ${hasFieldError('disposition') ? 'validation-error-label' : ''}`}>Disposition</div>\r\n            <div className={`disposition-options ${hasFieldError('disposition') ? 'validation-error-radio' : ''}`}>\r\n              <label className=\"disposition-option\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"disposition\"\r\n                  value=\"Transport\"\r\n                  checked={formData.disposition === 'Transport'}\r\n                  onChange={(e) => handleRadioChange('disposition', e.target.value)}\r\n                />\r\n                Transport\r\n              </label>\r\n              <label className=\"disposition-option\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"disposition\"\r\n                  value=\"Treat or Assist only\"\r\n                  checked={formData.disposition === 'Treat or Assist only'}\r\n                  onChange={(e) => handleRadioChange('disposition', e.target.value)}\r\n                />\r\n                Treat or Assist only\r\n              </label>\r\n              <label className=\"disposition-option\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"disposition\"\r\n                  value=\"Treat and Refer\"\r\n                  checked={formData.disposition === 'Treat and Refer'}\r\n                  onChange={(e) => handleRadioChange('disposition', e.target.value)}\r\n                />\r\n                Treat and Refer\r\n              </label>\r\n              <label className=\"disposition-option\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"disposition\"\r\n                  value=\"No treatment\"\r\n                  checked={formData.disposition === 'No treatment'}\r\n                  onChange={(e) => handleRadioChange('disposition', e.target.value)}\r\n                />\r\n                No treatment\r\n              </label>\r\n            </div>\r\n\r\n            {/* No Treatment Reason and No Transport Reason */}\r\n            <div className=\"reason-row\">\r\n              <div className=\"reason-field\">\r\n                <label className=\"reason-label\">No Treatment Reason</label>\r\n                <select\r\n                  className=\"reason-select\"\r\n                  value={formData.noTreatmentReason}\r\n                  onChange={(e) => handleInputChange('noTreatmentReason', e.target.value)}\r\n                >\r\n                  {noTreatmentReasons.map((reason) => (\r\n                    <option key={reason} value={reason}>{reason}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"reason-field\">\r\n                <label className=\"reason-label\">No Transport Reason</label>\r\n                <select\r\n                  className=\"reason-select\"\r\n                  value={formData.noTransportReason}\r\n                  onChange={(e) => handleInputChange('noTransportReason', e.target.value)}\r\n                >\r\n                  <option value=\"\"></option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Final Patient Status */}\r\n            <div className=\"status-section\">\r\n              <div className={`status-title required ${hasFieldError('finalPatientStatus') ? 'validation-error-label' : ''}`}>Final Patient Status</div>\r\n              <div className={`status-options ${hasFieldError('finalPatientStatus') ? 'validation-error-radio' : ''}`}>\r\n                <label className=\"status-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"finalPatientStatus\"\r\n                    value=\"0\"\r\n                    checked={formData.finalPatientStatus === '0'}\r\n                    onChange={(e) => handleRadioChange('finalPatientStatus', e.target.value)}\r\n                  />\r\n                  0\r\n                </label>\r\n                <label className=\"status-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"finalPatientStatus\"\r\n                    value=\"1\"\r\n                    checked={formData.finalPatientStatus === '1'}\r\n                    onChange={(e) => handleRadioChange('finalPatientStatus', e.target.value)}\r\n                  />\r\n                  1\r\n                </label>\r\n                <label className=\"status-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"finalPatientStatus\"\r\n                    value=\"2\"\r\n                    checked={formData.finalPatientStatus === '2'}\r\n                    onChange={(e) => handleRadioChange('finalPatientStatus', e.target.value)}\r\n                  />\r\n                  2\r\n                </label>\r\n                <label className=\"status-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"finalPatientStatus\"\r\n                    value=\"3\"\r\n                    checked={formData.finalPatientStatus === '3'}\r\n                    onChange={(e) => handleRadioChange('finalPatientStatus', e.target.value)}\r\n                  />\r\n                  3\r\n                </label>\r\n                <label className=\"status-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"finalPatientStatus\"\r\n                    value=\"4\"\r\n                    checked={formData.finalPatientStatus === '4'}\r\n                    onChange={(e) => handleRadioChange('finalPatientStatus', e.target.value)}\r\n                  />\r\n                  4\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Disposition Notes */}\r\n            <div className=\"notes-section\">\r\n              <label className=\"notes-label\">Disposition Notes</label>\r\n              <textarea\r\n                className=\"notes-textarea\"\r\n                value={formData.dispositionNotes}\r\n                onChange={(e) => handleInputChange('dispositionNotes', e.target.value)}\r\n                placeholder=\"\"\r\n              />\r\n            </div>\r\n\r\n            {/* Referral Pathway and ACS access code */}\r\n            <div className=\"pathway-row\">\r\n              <div className=\"pathway-field\">\r\n                <label className=\"pathway-label\">Referral Pathway</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"pathway-input grayed\"\r\n                  value={formData.referralPathway}\r\n                  disabled\r\n                  readOnly\r\n                />\r\n              </div>\r\n\r\n              <div className=\"pathway-field\">\r\n                <label className=\"pathway-label\">ACS access code</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"pathway-input grayed\"\r\n                  value={formData.acsAccessCode}\r\n                  disabled\r\n                  readOnly\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Reason for delay at scene */}\r\n            <div className=\"delay-section\">\r\n              <label className=\"delay-label\">Reason for delay at scene</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"delay-input\"\r\n                value={formData.reasonForDelay}\r\n                onChange={(e) => handleInputChange('reasonForDelay', e.target.value)}\r\n                placeholder=\"\"\r\n              />\r\n            </div>\r\n          </section>\r\n          )}\r\n\r\n          {currentPage === 2 && (\r\n          <section className=\"incident-section page2-section\">\r\n            {/* Non Transport Advice */}\r\n            <div className=\"non-transport-section\">\r\n              <label className=\"section-label\">Non Transport Advice</label>\r\n              <textarea\r\n                className={`large-textarea ${!isNonTransport ? 'grayed' : ''}`}\r\n                value={formData.nonTransportAdvice}\r\n                onChange={(e) => handleInputChange('nonTransportAdvice', e.target.value)}\r\n                disabled={!isNonTransport}\r\n                placeholder=\"\"\r\n              />\r\n            </div>\r\n\r\n            {/* Copy to GP */}\r\n            <div className=\"gp-section\">\r\n              <div className=\"gp-row\">\r\n                <div className={`gp-options ${hasFieldError('copyToGP') ? 'validation-error-radio' : ''}`}>\r\n                  <span className={`gp-title required ${hasFieldError('copyToGP') ? 'validation-error-label' : ''}`}>Copy to GP?</span>\r\n                  <label className=\"gp-option\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"copyToGP\"\r\n                      value=\"Not this time\"\r\n                      checked={formData.copyToGP === 'Not this time'}\r\n                      onChange={(e) => handleRadioChange('copyToGP', e.target.value)}\r\n                    />\r\n                    Not this time\r\n                  </label>\r\n                  <label className=\"gp-option\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"copyToGP\"\r\n                      value=\"Yes\"\r\n                      checked={formData.copyToGP === 'Yes'}\r\n                      onChange={(e) => handleRadioChange('copyToGP', e.target.value)}\r\n                    />\r\n                    Yes\r\n                  </label>\r\n                </div>\r\n                <div className=\"gp-textarea-area\">\r\n                  {/* Empty space matching screenshot layout */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Note to GP */}\r\n            <div className=\"note-to-gp-section\">\r\n              <label className=\"note-to-gp-label\">Note to GP</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"note-to-gp-input\"\r\n                value={formData.noteToGP}\r\n                onChange={(e) => handleInputChange('noteToGP', e.target.value)}\r\n                placeholder=\"\"\r\n              />\r\n            </div>\r\n\r\n            {/* Flag for Audit and Reason */}\r\n            <div className=\"audit-section\">\r\n              <div className=\"audit-checkbox-area\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"audit-checkbox\"\r\n                  id=\"flagForAudit\"\r\n                  checked={formData.flagForAudit}\r\n                  onChange={(e) => handleInputChange('flagForAudit', e.target.checked)}\r\n                />\r\n                <label className=\"audit-label\" htmlFor=\"flagForAudit\">Flag for Audit</label>\r\n              </div>\r\n              <div className=\"audit-reason-area\">\r\n                <label className=\"reason-title\">Reason</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className={`reason-input ${!formData.flagForAudit ? 'grayed' : ''}`}\r\n                  value={formData.auditReason}\r\n                  onChange={(e) => handleInputChange('auditReason', e.target.value)}\r\n                  disabled={!formData.flagForAudit}\r\n                  placeholder=\"\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </section>\r\n          )}\r\n        </main>\r\n      </div>\r\n\r\n      <div className=\"eprf-footer incident-footer\">\r\n        <div className=\"footer-left\">\r\n          <button className=\"footer-btn internet\">Internet</button>\r\n          <button className=\"footer-btn server\">Server</button>\r\n          <button className=\"footer-btn discovery\" onClick={handleAddPatientClick}>Add Patient</button>\r\n          <button className=\"footer-btn green\" onClick={handleTransferClick}>Transfer ePRF</button>\r\n          <button className=\"footer-btn green\" onClick={handleSubmitEPRF}>Submit ePRF</button>\r\n        </div>\r\n        <div className=\"footer-right\">\r\n          <button className=\"footer-btn orange\" onClick={handlePrevious}>{\"< Previous\"}</button>\r\n          <button className=\"footer-btn orange\" onClick={handleNext}>{\"Next >\"}</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Patient Confirmation Modal */}\r\n      <ConfirmationModal\r\n        isOpen={showAddPatientModal}\r\n        onClose={() => setShowAddPatientModal(false)}\r\n        onConfirm={confirmAddPatient}\r\n        title=\"Add New Patient\"\r\n        message={`Are you sure you want to add a new patient?\\n\\nThis will:\\n Save the current Patient ${patientLetter} data\\n Create a new patient record (Patient ${String.fromCharCode(patientLetter.charCodeAt(0) + 1)})\\n Clear the form for the new patient`}\r\n        confirmText=\"Yes, Add Patient\"\r\n        cancelText=\"Cancel\"\r\n        type=\"info\"\r\n        isLoading={isSubmitting}\r\n      />\r\n\r\n      {/* Submit ePRF Confirmation Modal */}\r\n      <ConfirmationModal\r\n        isOpen={showSubmitModal}\r\n        onClose={() => setShowSubmitModal(false)}\r\n        onConfirm={confirmSubmitEPRF}\r\n        title=\"Submit ePRF\"\r\n        message={`Are you sure you want to submit this ePRF?\\n\\nThis will:\\n Generate a PDF report for Patient ${patientLetter}\\n Save the record to the database\\n Download the PDF to your device`}\r\n        confirmText=\"Yes, Submit ePRF\"\r\n        cancelText=\"Cancel\"\r\n        type=\"success\"\r\n        isLoading={isSubmitting}\r\n      />\r\n\r\n      {/* Validation Error Modal */}\r\n      <ValidationErrorModal\r\n        isOpen={showValidationErrorModal}\r\n        onClose={() => setShowValidationErrorModal(false)}\r\n        errors={validationErrors}\r\n        getSectionDisplayName={getSectionDisplayName}\r\n      />\r\n\r\n      {/* Success Modal */}\r\n      <SuccessModal\r\n        isOpen={showSuccessModal}\r\n        onClose={() => setShowSuccessModal(false)}\r\n        title={successMessage.title}\r\n        message={successMessage.message}\r\n      />\r\n\r\n      <TransferModal\r\n        isOpen={showTransferModal}\r\n        onClose={() => setShowTransferModal(false)}\r\n        onTransferComplete={handleTransferComplete}\r\n        incidentId={incidentId}\r\n        patientLetter={patientLetter}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":["module","exports","require","_self___RSC_MANIFEST","tree","children","page","Promise","resolve","then","__webpack_require__","bind","pages","originalPathname","__next_app__","loadChunk","routeModule","module_compiled","AppPageRouteModule","definition","kind","route_kind","x","APP_PAGE","pathname","bundlePath","filename","appPaths","userland","loaderTree","maybeJSONParse","str","JSON","parse","undefined","buildManifest","self","__BUILD_MANIFEST","reactLoadableManifest","__REACT_LOADABLE_MANIFEST","rscManifest","__RSC_MANIFEST","rscServerManifest","__RSC_SERVER_MANIFEST","nextFontManifest","__NEXT_FONT_MANIFEST","interceptionRouteRewrites","__INTERCEPTION_ROUTE_REWRITE_MANIFEST","encryption_utils","Mo","clientReferenceManifest","serverActionsManifest","serverModuleMap","action_utils","w","pageName","page_stringifiedConfig_eyJlbnYiOnt9LCJ3ZWJwYWNrIjpudWxsLCJlc2xpbnQiOnsiaWdub3JlRHVyaW5nQnVpbGRzIjpmYWxzZX0sInR5cGVzY3JpcHQiOnsiaWdub3JlQnVpbGRFcnJvcnMiOmZhbHNlLCJ0c2NvbmZpZ1BhdGgiOiJ0c2NvbmZpZy5qc29uIn0sImRpc3REaXIiOiIubmV4dCIsImNsZWFuRGlzdERpciI6dHJ1ZSwiYXNzZXRQcmVmaXgiOiIiLCJjYWNoZU1heE1lbW9yeVNpemUiOjUyNDI4ODAwLCJjb25maWdPcmlnaW4iOiJuZXh0LmNvbmZpZy5qcyIsInVzZUZpbGVTeXN0ZW1QdWJsaWNSb3V0ZXMiOnRydWUsImdlbmVyYXRlRXRhZ3MiOnRydWUsInBhZ2VFeHRlbnNpb25zIjpbInRzeCIsInRzIiwianN4IiwianMiXSwicG93ZXJlZEJ5SGVhZGVyIjp0cnVlLCJjb21wcmVzcyI6dHJ1ZSwiYW5hbHl0aWNzSWQiOiIiLCJpbWFnZXMiOnsiZGV2aWNlU2l6ZXMiOls2NDAsNzUwLDgyOCwxMDgwLDEyMDAsMTkyMCwyMDQ4LDM4NDBdLCJpbWFnZVNpemVzIjpbMTYsMzIsNDgsNjQsOTYsMTI4LDI1NiwzODRdLCJwYXRoIjoiL19uZXh0L2ltYWdlIiwibG9hZGVyIjoiZGVmYXVsdCIsImxvYWRlckZpbGUiOiIiLCJkb21haW5zIjpbXSwiZGlzYWJsZVN0YXRpY0ltYWdlcyI6ZmFsc2UsIm1pbmltdW1DYWNoZVRUTCI6NjAsImZvcm1hdHMiOlsiaW1hZ2Uvd2VicCJdLCJkYW5nZXJvdXNseUFsbG93U1ZHIjpmYWxzZSwiY29udGVudFNlY3VyaXR5UG9saWN5Ijoic2NyaXB0LXNyYyAnbm9uZSc7IGZyYW1lLXNyYyAnbm9uZSc7IHNhbmRib3g7IiwiY29udGVudERpc3Bvc2l0aW9uVHlwZSI6ImlubGluZSIsInJlbW90ZVBhdHRlcm5zIjpbXSwidW5vcHRpbWl6ZWQiOmZhbHNlfSwiZGV2SW5kaWNhdG9ycyI6eyJidWlsZEFjdGl2aXR5Ijp0cnVlLCJidWlsZEFjdGl2aXR5UG9zaXRpb24iOiJib3R0b20tcmlnaHQifSwib25EZW1hbmRFbnRyaWVzIjp7Im1heEluYWN0aXZlQWdlIjo2MDAwMCwicGFnZXNCdWZmZXJMZW5ndGgiOjV9LCJhbXAiOnsiY2Fub25pY2FsQmFzZSI6IiJ9LCJiYXNlUGF0aCI6IiIsInNhc3NPcHRpb25zIjp7fSwidHJhaWxpbmdTbGFzaCI6ZmFsc2UsImkxOG4iOm51bGwsInByb2R1Y3Rpb25Ccm93c2VyU291cmNlTWFwcyI6ZmFsc2UsIm9wdGltaXplRm9udHMiOnRydWUsImV4Y2x1ZGVEZWZhdWx0TW9tZW50TG9jYWxlcyI6dHJ1ZSwic2VydmVyUnVudGltZUNvbmZpZyI6e30sInB1YmxpY1J1bnRpbWVDb25maWciOnt9LCJyZWFjdFByb2R1Y3Rpb25Qcm9maWxpbmciOmZhbHNlLCJyZWFjdFN0cmljdE1vZGUiOm51bGwsImh0dHBBZ2VudE9wdGlvbnMiOnsia2VlcEFsaXZlIjp0cnVlfSwib3V0cHV0RmlsZVRyYWNpbmciOnRydWUsInN0YXRpY1BhZ2VHZW5lcmF0aW9uVGltZW91dCI6NjAsInN3Y01pbmlmeSI6dHJ1ZSwibW9kdWxhcml6ZUltcG9ydHMiOnsiQG11aS9pY29ucy1tYXRlcmlhbCI6eyJ0cmFuc2Zvcm0iOiJAbXVpL2ljb25zLW1hdGVyaWFsL3t7bWVtYmVyfX0ifSwibG9kYXNoIjp7InRyYW5zZm9ybSI6ImxvZGFzaC97e21lbWJlcn19In19LCJleHBlcmltZW50YWwiOnsibXVsdGlab25lRHJhZnRNb2RlIjpmYWxzZSwicHJlcmVuZGVyRWFybHlFeGl0IjpmYWxzZSwic2VydmVyTWluaWZpY2F0aW9uIjp0cnVlLCJzZXJ2ZXJTb3VyY2VNYXBzIjpmYWxzZSwibGlua05vVG91Y2hTdGFydCI6ZmFsc2UsImNhc2VTZW5zaXRpdmVSb3V0ZXMiOmZhbHNlLCJjbGllbnRSb3V0ZXJGaWx0ZXIiOnRydWUsImNsaWVudFJvdXRlckZpbHRlclJlZGlyZWN0cyI6ZmFsc2UsImZldGNoQ2FjaGVLZXlQcmVmaXgiOiIiLCJtaWRkbGV3YXJlUHJlZmV0Y2giOiJmbGV4aWJsZSIsIm9wdGltaXN0aWNDbGllbnRDYWNoZSI6dHJ1ZSwibWFudWFsQ2xpZW50QmFzZVBhdGgiOmZhbHNlLCJjcHVzIjoxMSwibWVtb3J5QmFzZWRXb3JrZXJzQ291bnQiOmZhbHNlLCJpc3JGbHVzaFRvRGlzayI6dHJ1ZSwid29ya2VyVGhyZWFkcyI6ZmFsc2UsIm9wdGltaXplQ3NzIjpmYWxzZSwibmV4dFNjcmlwdFdvcmtlcnMiOmZhbHNlLCJzY3JvbGxSZXN0b3JhdGlvbiI6ZmFsc2UsImV4dGVybmFsRGlyIjpmYWxzZSwiZGlzYWJsZU9wdGltaXplZExvYWRpbmciOmZhbHNlLCJnemlwU2l6ZSI6dHJ1ZSwiY3JhQ29tcGF0IjpmYWxzZSwiZXNtRXh0ZXJuYWxzIjp0cnVlLCJmdWxseVNwZWNpZmllZCI6ZmFsc2UsIm91dHB1dEZpbGVUcmFjaW5nUm9vdCI6IkM6XFxVc2Vyc1xcVG9ieVxcRG93bmxvYWRzXFxub2RlLXYyNC4xMS4xLXdpbi14NjRcXGFwcDEyMyIsInN3Y1RyYWNlUHJvZmlsaW5nIjpmYWxzZSwiZm9yY2VTd2NUcmFuc2Zvcm1zIjpmYWxzZSwibGFyZ2VQYWdlRGF0YUJ5dGVzIjoxMjgwMDAsImFkanVzdEZvbnRGYWxsYmFja3MiOmZhbHNlLCJhZGp1c3RGb250RmFsbGJhY2tzV2l0aFNpemVBZGp1c3QiOmZhbHNlLCJ0eXBlZFJvdXRlcyI6ZmFsc2UsImluc3RydW1lbnRhdGlvbkhvb2siOmZhbHNlLCJidW5kbGVQYWdlc0V4dGVybmFscyI6ZmFsc2UsInBhcmFsbGVsU2VydmVyQ29tcGlsZXMiOmZhbHNlLCJwYXJhbGxlbFNlcnZlckJ1aWxkVHJhY2VzIjpmYWxzZSwicHByIjpmYWxzZSwibWlzc2luZ1N1c3BlbnNlV2l0aENTUkJhaWxvdXQiOnRydWUsIm9wdGltaXplU2VydmVyUmVhY3QiOnRydWUsInVzZUVhcmx5SW1wb3J0IjpmYWxzZSwic3RhbGVUaW1lcyI6eyJkeW5hbWljIjozMCwic3RhdGljIjozMDB9LCJvcHRpbWl6ZVBhY2thZ2VJbXBvcnRzIjpbImx1Y2lkZS1yZWFjdCIsImRhdGUtZm5zIiwibG9kYXNoLWVzIiwicmFtZGEiLCJhbnRkIiwicmVhY3QtYm9vdHN0cmFwIiwiYWhvb2tzIiwiQGFudC1kZXNpZ24vaWNvbnMiLCJAaGVhZGxlc3N1aS9yZWFjdCIsIkBoZWFkbGVzc3VpLWZsb2F0L3JlYWN0IiwiQGhlcm9pY29ucy9yZWFjdC8yMC9zb2xpZCIsIkBoZXJvaWNvbnMvcmVhY3QvMjQvc29saWQiLCJAaGVyb2ljb25zL3JlYWN0LzI0L291dGxpbmUiLCJAdmlzeC92aXN4IiwiQHRyZW1vci9yZWFjdCIsInJ4anMiLCJAbXVpL21hdGVyaWFsIiwiQG11aS9pY29ucy1tYXRlcmlhbCIsInJlY2hhcnRzIiwicmVhY3QtdXNlIiwiQG1hdGVyaWFsLXVpL2NvcmUiLCJAbWF0ZXJpYWwtdWkvaWNvbnMiLCJAdGFibGVyL2ljb25zLXJlYWN0IiwibXVpLWNvcmUiLCJyZWFjdC1pY29ucy9haSIsInJlYWN0LWljb25zL2JpIiwicmVhY3QtaWNvbnMvYnMiLCJyZWFjdC1pY29ucy9jZyIsInJlYWN0LWljb25zL2NpIiwicmVhY3QtaWNvbnMvZGkiLCJyZWFjdC1pY29ucy9mYSIsInJlYWN0LWljb25zL2ZhNiIsInJlYWN0LWljb25zL2ZjIiwicmVhY3QtaWNvbnMvZmkiLCJyZWFjdC1pY29ucy9naSIsInJlYWN0LWljb25zL2dvIiwicmVhY3QtaWNvbnMvZ3IiLCJyZWFjdC1pY29ucy9oaSIsInJlYWN0LWljb25zL2hpMiIsInJlYWN0LWljb25zL2ltIiwicmVhY3QtaWNvbnMvaW8iLCJyZWFjdC1pY29ucy9pbzUiLCJyZWFjdC1pY29ucy9saWEiLCJyZWFjdC1pY29ucy9saWIiLCJyZWFjdC1pY29ucy9sdSIsInJlYWN0LWljb25zL21kIiwicmVhY3QtaWNvbnMvcGkiLCJyZWFjdC1pY29ucy9yaSIsInJlYWN0LWljb25zL3J4IiwicmVhY3QtaWNvbnMvc2kiLCJyZWFjdC1pY29ucy9zbCIsInJlYWN0LWljb25zL3RiIiwicmVhY3QtaWNvbnMvdGZpIiwicmVhY3QtaWNvbnMvdGkiLCJyZWFjdC1pY29ucy92c2MiLCJyZWFjdC1pY29ucy93aSJdfSwiY29uZmlnRmlsZSI6IkM6XFxVc2Vyc1xcVG9ieVxcRG93bmxvYWRzXFxub2RlLXYyNC4xMS4xLXdpbi14NjRcXGFwcDEyM1xcbmV4dC5jb25maWcuanMiLCJjb25maWdGaWxlTmFtZSI6Im5leHQuY29uZmlnLmpzIn0_pagesType_app_appDirLoader_bmV4dC1hcHAtbG9hZGVyP25hbWU9YXBwJTJGZGlzcG9zaXRpb24lMkZwYWdlJnBhZ2U9JTJGZGlzcG9zaXRpb24lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGZGlzcG9zaXRpb24lMkZwYWdlLnRzeCZhcHBEaXI9QyUzQSU1Q1VzZXJzJTVDVG9ieSU1Q0Rvd25sb2FkcyU1Q25vZGUtdjI0LjExLjEtd2luLXg2NCU1Q2FwcDEyMyU1Q2FwcCZhcHBQYXRocz0lMkZkaXNwb3NpdGlvbiUyRnBhZ2UmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0Qh_sriEnabled_false_middlewareConfig_e30_render","render","d","pagesType","page_types","s","APP","dev","appMod","pageMod","page_next_edge_ssr_entry_namespaceObject","errorMod","error500Mod","Document","renderToHTML","app_render","f","serverActions","subresourceIntegrityManifest","config","buildId","process","env","__NEXT_BUILD_ID","incrementalCacheHandler","ComponentMod","nHandler","opts","adapter","C","IncrementalCache","incremental_cache","k","handler","runtime","DispositionPage","searchParams","useSearchParams","router","useRouter","incidentId","get","fleetId","incompleteSections","setIncompleteSections","useState","currentPage","setCurrentPage","patientLetter","setPatientLetter","showAddPatientModal","setShowAddPatientModal","showSubmitModal","setShowSubmitModal","showTransferModal","setShowTransferModal","showValidationErrorModal","setShowValidationErrorModal","showSuccessModal","setShowSuccessModal","validationErrors","setValidationErrors","isSubmitting","setIsSubmitting","successMessage","setSuccessMessage","title","message","formData","setFormData","disposition","noTreatmentReason","noTransportReason","finalPatientStatus","dispositionNotes","referralPathway","acsAccessCode","reasonForDelay","nonTransportAdvice","copyToGP","noteToGP","flagForAudit","auditReason","handleHome","params","URLSearchParams","push","navigateTo","id","section","confirmSubmitEPRF","result","submitEPRFService","success","validationResult","fieldErrors","error","console","alert","confirmAddPatient","addPatientService","newLetter","setTimeout","hasFieldError","includes","field","handleRadioChange","value","prev","handleInputChange","isNonTransport","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","jsx","button","onClick","user","getCurrentUser","isAdmin","discordId","span","aside","main","label","input","type","name","checked","onChange","e","target","select","noTreatmentReasons","map","option","reason","textarea","placeholder","disabled","readOnly","htmlFor","validateAllSections","isValid","ConfirmationModal","isOpen","onClose","onConfirm","String","fromCharCode","charCodeAt","confirmText","cancelText","isLoading","ValidationErrorModal","errors","getSectionDisplayName","SuccessModal","TransferModal","onTransferComplete","transferAllPatients","targetUser","callsign"],"sourceRoot":""}