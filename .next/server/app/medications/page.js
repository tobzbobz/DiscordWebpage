(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[795],{2067:e=>{"use strict";e.exports=require("node:async_hooks")},6195:e=>{"use strict";e.exports=require("node:buffer")},7661:(e,a,i)=>{"use strict";i.r(a),i.d(a,{ComponentMod:()=>w,default:()=>T});var t,s={};i.r(s),i.d(s,{AppRouter:()=>u.WY,ClientPageRoot:()=>u.b1,GlobalError:()=>m.ZP,LayoutRouter:()=>u.yO,NotFoundBoundary:()=>u.O4,Postpone:()=>u.hQ,RenderFromTemplateContext:()=>u.b5,__next_app__:()=>b,actionAsyncStorage:()=>u.Wz,createDynamicallyTrackedSearchParams:()=>u.rL,createUntrackedSearchParams:()=>u.S5,decodeAction:()=>u.Hs,decodeFormState:()=>u.dH,decodeReply:()=>u.kf,originalPathname:()=>x,pages:()=>h,patchFetch:()=>u.XH,preconnect:()=>u.$P,preloadFont:()=>u.C5,preloadStyle:()=>u.oH,renderToReadableStream:()=>u.aW,requestAsyncStorage:()=>u.Fg,routeModule:()=>v,serverHooks:()=>u.GP,staticGenerationAsyncStorage:()=>u.AT,taintObjectReference:()=>u.nr,tree:()=>p}),i(7206);var n=i(9319),l=i(5989),o=i(1902),r=i(2042),c=i(4630),d=i(4828),m=i(5505),u=i(6453);let p=["",{children:["medications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,8210)),"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\medications\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,7665)),"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.bind(i,2520)),"next/dist/client/components/not-found-error"]}],h=["C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\medications\\page.tsx"],x="/medications/page",b={require:i,loadChunk:()=>Promise.resolve()},v=new c.AppPageRouteModule({definition:{kind:d.x.APP_PAGE,page:"/medications/page",pathname:"/medications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}});var N=i(9094),g=i(5787),f=i(527);let j=e=>e?JSON.parse(e):void 0,S=self.__BUILD_MANIFEST,C=j(self.__REACT_LOADABLE_MANIFEST),y=null==(t=self.__RSC_MANIFEST)?void 0:t["/medications/page"],k=j(self.__RSC_SERVER_MANIFEST),P=j(self.__NEXT_FONT_MANIFEST),A=j(self.__INTERCEPTION_ROUTE_REWRITE_MANIFEST)??[];y&&k&&(0,g.Mo)({clientReferenceManifest:y,serverActionsManifest:k,serverModuleMap:(0,f.w)({serverActionsManifest:k,pageName:"/medications/page"})});let E=(0,l.d)({pagesType:N.s.APP,dev:!1,page:"/medications/page",appMod:null,pageMod:s,errorMod:null,error500Mod:null,Document:null,buildManifest:S,renderToHTML:r.f,reactLoadableManifest:C,clientReferenceManifest:y,serverActionsManifest:k,serverActions:void 0,subresourceIntegrityManifest:void 0,config:{env:{},webpack:null,eslint:{ignoreDuringBuilds:!1},typescript:{ignoreBuildErrors:!1,tsconfigPath:"tsconfig.json"},distDir:".next",cleanDistDir:!0,assetPrefix:"",cacheMaxMemorySize:52428800,configOrigin:"next.config.js",useFileSystemPublicRoutes:!0,generateEtags:!0,pageExtensions:["tsx","ts","jsx","js"],poweredByHeader:!0,compress:!0,analyticsId:"",images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1},devIndicators:{buildActivity:!0,buildActivityPosition:"bottom-right"},onDemandEntries:{maxInactiveAge:6e4,pagesBufferLength:5},amp:{canonicalBase:""},basePath:"",sassOptions:{},trailingSlash:!1,i18n:null,productionBrowserSourceMaps:!1,optimizeFonts:!0,excludeDefaultMomentLocales:!0,serverRuntimeConfig:{},publicRuntimeConfig:{},reactProductionProfiling:!1,reactStrictMode:null,httpAgentOptions:{keepAlive:!0},outputFileTracing:!0,staticPageGenerationTimeout:60,swcMinify:!0,modularizeImports:{"@mui/icons-material":{transform:"@mui/icons-material/{{member}}"},lodash:{transform:"lodash/{{member}}"}},experimental:{multiZoneDraftMode:!1,prerenderEarlyExit:!1,serverMinification:!0,serverSourceMaps:!1,linkNoTouchStart:!1,caseSensitiveRoutes:!1,clientRouterFilter:!0,clientRouterFilterRedirects:!1,fetchCacheKeyPrefix:"",middlewarePrefetch:"flexible",optimisticClientCache:!0,manualClientBasePath:!1,cpus:11,memoryBasedWorkersCount:!1,isrFlushToDisk:!0,workerThreads:!1,optimizeCss:!1,nextScriptWorkers:!1,scrollRestoration:!1,externalDir:!1,disableOptimizedLoading:!1,gzipSize:!0,craCompat:!1,esmExternals:!0,fullySpecified:!1,outputFileTracingRoot:"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123",swcTraceProfiling:!1,forceSwcTransforms:!1,largePageDataBytes:128e3,adjustFontFallbacks:!1,adjustFontFallbacksWithSizeAdjust:!1,typedRoutes:!1,instrumentationHook:!1,bundlePagesExternals:!1,parallelServerCompiles:!1,parallelServerBuildTraces:!1,ppr:!1,missingSuspenseWithCSRBailout:!0,optimizeServerReact:!0,useEarlyImport:!1,staleTimes:{dynamic:30,static:300},optimizePackageImports:["lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"]},configFile:"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\next.config.js",configFileName:"next.config.js"},buildId:process.env.__NEXT_BUILD_ID,nextFontManifest:P,incrementalCacheHandler:null,interceptionRouteRewrites:A}),w=s;function T(e){return(0,n.C)({...e,IncrementalCache:o.k,handler:E})}},1078:(e,a,i)=>{Promise.resolve().then(i.bind(i,6242))},6242:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>h,runtime:()=>u});var t=i(926),s=i(4947),n=i(9220),l=i(6360),o=i(9572),r=i(596),c=i(7585),d=i(3759),m=i(8718);let u="edge";function p({value:e,onChange:a,className:i="",step:s=1,min:l,max:o,placeholder:r,style:c,disabled:d}){let m=(0,n.useRef)(null),u=()=>{let i=parseFloat(e)||0,t=void 0!==o?Math.min(o,i+s):i+s;a(s<1?t.toFixed(1):t.toString())},p=()=>{let i=parseFloat(e)||0,t=void 0!==l?Math.max(l,i-s):i-s;a(s<1?t.toFixed(1):t.toString())};return(0,t.jsxs)("div",{className:"numeric-input-wrapper",style:c,children:[(0,t.jsx)("input",{ref:m,type:"number",value:e,onChange:e=>a(e.target.value),onKeyDown:e=>{"ArrowUp"===e.key?(e.preventDefault(),u()):"ArrowDown"===e.key&&(e.preventDefault(),p())},className:i,placeholder:r,disabled:d,step:s,min:l,max:o}),!d&&(0,t.jsxs)("div",{className:"numeric-arrows",children:[(0,t.jsx)("button",{type:"button",className:"numeric-arrow-btn up",onClick:u,tabIndex:-1,children:"▲"}),(0,t.jsx)("button",{type:"button",className:"numeric-arrow-btn down",onClick:p,tabIndex:-1,children:"▼"})]})]})}function h(){let e=(0,s.lr)(),a=(0,s.tv)(),u=e?.get("id")||"",h=e?.get("fleetId")||"",[x,b]=(0,n.useState)([]),[v,N]=(0,n.useState)("A"),[g,f]=(0,n.useState)(!1),[j,S]=(0,n.useState)(!1),[C,y]=(0,n.useState)(!1),[k,P]=(0,n.useState)(!1),[A,E]=(0,n.useState)(!1),[w,T]=(0,n.useState)({}),[R,G]=(0,n.useState)(!1),[$,M]=(0,n.useState)({title:"",message:""}),[_,F]=(0,n.useState)(()=>[]),[D,I]=(0,n.useState)(()=>null),[O,L]=(0,n.useState)(!1),[B,z]=(0,n.useState)(!1),[H,U]=(0,n.useState)(!1),[q,W]=(0,n.useState)(!1),[Y,V]=(0,n.useState)(!1),[K,Z]=(0,n.useState)(!1),[J,X]=(0,n.useState)({}),[Q,ee]=(0,n.useState)(""),[ea,ei]=(0,n.useState)(""),[et,es]=(0,n.useState)(""),[en,el]=(0,n.useState)(""),[eo,er]=(0,n.useState)(""),[ec,ed]=(0,n.useState)(""),[em,eu]=(0,n.useState)(""),[ep,eh]=(0,n.useState)(""),[ex,eb]=(0,n.useState)(!1),[ev,eN]=(0,n.useState)(!1),[eg,ef]=(0,n.useState)(!1),[ej,eS]=(0,n.useState)(""),[eC,ey]=(0,n.useState)(""),[ek,eP]=(0,n.useState)(""),[eA,eE]=(0,n.useState)(1),[ew,eT]=(0,n.useState)(1),[eR,eG]=(0,n.useState)(2025),[e$,eM]=(0,n.useState)(0),[e_,eF]=(0,n.useState)(0),eD=()=>{let e=new URLSearchParams({fleetId:h});a.push(`/dashboard?${e}`)},eI=()=>{u&&localStorage.setItem(`meds_draft_${u}`,JSON.stringify({showNewMedication:O,time:Q,administeredBy:ea,medication:et,dose:en,unit:eo,route:ec,notes:em,notPossible:ep,drawnUpNotUsed:ex,brokenAmpoule:ev,discarded:eg,notesValue:ej,notPossibleReason:ek}))},eO=()=>{u&&localStorage.removeItem(`meds_draft_${u}`)},eL=e=>{O&&eI();let i=new URLSearchParams({id:u,fleetId:h});"incident"===e?a.push(`/incident?${i}`):"patient-info"===e?a.push(`/patient-info?${i}`):"primary-survey"===e?a.push(`/primary-survey?${i}`):"vital-obs"===e?a.push(`/vital-obs?${i}`):"hx-complaint"===e?a.push(`/hx-complaint?${i}`):"past-medical-history"===e?a.push(`/past-medical-history?${i}`):"clinical-impression"===e?a.push(`/clinical-impression?${i}`):"disposition"===e?a.push(`/disposition?${i}`):"media"===e&&a.push(`/media?${i}`)},eB=async()=>{G(!0);try{let e=await (0,o.Gf)(u,h);e.success?(S(!1),M({title:"ePRF Submitted Successfully!",message:`The ePRF for Patient ${v} has been submitted.

A PDF copy has been downloaded to your device and the record has been saved.`}),E(!0)):e.validationResult&&(S(!1),T(e.validationResult.fieldErrors),b(e.validationResult.incompleteSections),P(!0))}catch(e){console.error("Submit error:",e),alert("An error occurred while submitting. Please try again.")}finally{G(!1)}},ez=async()=>{G(!0);try{let e=await (0,o.mb)(u);e.success?(f(!1),N(e.newLetter),M({title:"Patient Added Successfully!",message:`Patient ${v} has been saved.

You are now working on Patient ${e.newLetter}.

The form has been cleared for the new patient.`}),E(!0),setTimeout(()=>{let e=new URLSearchParams({id:u,fleetId:h});a.push(`/patient-info?${e}`)},2e3)):alert(e.error||"Failed to add patient")}catch(e){console.error("Add patient error:",e),alert("An error occurred. Please try again.")}finally{G(!1)}},eH=()=>{ee(""),ei(""),el(""),er(""),ed(""),eu(""),eh(""),eb(!1),eN(!1),ef(!1),eS(""),eP("")},eU=()=>{let e={};return Q||(e.time=!0),ea||(e.administeredBy=!0),et||(e.medication=!0),en||(e.dose=!0),eo||(e.unit=!0),ec||(e.route=!0),X(e),!(Object.keys(e).length>0)&&(F([..._,{time:Q,administeredBy:ea,medication:et,dose:en,unit:eo,route:ec,notes:em,drawnUpNotUsed:ex,brokenAmpoule:ev,discarded:eg,notPossible:ep}]),X({}),!0)},eq=e=>{es(e),z(!1),ey("")},eW=e=>{ed(e),U(!1)},eY=e=>{eP(e),eh(e),V(!1)},eV=[{name:"Adenosine",code:"CPG EAS 14.2"},{name:"Adrenaline",code:"CPG EAS 14.3"},{name:"Amiodarone",code:"CPG EAS 14.4"},{name:"Aspirin",code:"CPG EAS 14.6"},{name:"Atropine",code:"CPG EAS 14.7"},{name:"Calcium Chloride",code:"CPG EAS 14.8"},{name:"Cefazolin",code:"CPG EAS 14.49"},{name:"Ceftriaxone",code:"CPG EAS 14.9"},{name:"Clopidogrel",code:"CPG EAS 14.10"},{name:"Droperidol",code:"CPG EAS 14.11"},{name:"Enoxaparin",code:"CPG EAS 14.12"},{name:"Fentanyl",code:"CPG EAS 14.13"},{name:"Glucagon",code:"CPG EAS 14.15"},{name:"Glucose Gel",code:"CPG EAS 14.16"},{name:"GTN (Glyceryl Trinitrate) IV",code:"CPG EAS 14.50"},{name:"GTN (Glyceryl Trinitrate) Spray",code:"CPG EAS 14.17"},{name:"Heparin",code:"CPG EAS 14.19"},{name:"Hydrocortisone",code:"CPG EAS 14.20"},{name:"Ibuprofen",code:"CPG EAS 14.21"},{name:"Ipratropium",code:"CPG EAS 14.22"},{name:"Ketamine",code:"CPG EAS 14.23"},{name:"Labetalol",code:"CPG EAS 14.24"},{name:"Levetiracetam",code:"CPG EAS 14.51"},{name:"Lignocaine 1%",code:"CPG EAS 14.25"},{name:"Loratadine",code:"CPG EAS 14.26"},{name:"Magnesium Sulphate",code:"CPG EAS 14.27"},{name:"Metaraminol",code:"CPG EAS 14.28"},{name:"Methoxyflurane",code:"CPG EAS 14.29"},{name:"Metoprolol Tartrate",code:"CPG EAS 14.52"},{name:"Midazolam",code:"CPG EAS 14.31"},{name:"Morphine",code:"CPG EAS 14.32"},{name:"Naloxone",code:"CPG EAS 14.33"},{name:"Olanzapine",code:"CPG EAS 14.34"},{name:"Ondansetron",code:"CPG EAS 14.35"},{name:"Oxytocin",code:"CPG EAS 14.36"},{name:"Paracetamol",code:"CPG EAS 14.37"},{name:"Prednisone and Prednisolone",code:"CPG EAS 14.38"},{name:"Rocuronium",code:"CPG EAS 14.40"},{name:"Ropivacaine 0.75%",code:"CPG EAS 14.41"},{name:"Salbutamol",code:"CPG EAS 14.42"},{name:"Sodium Bicarbonate 8.4%",code:"CPG EAS 14.43"},{name:"Suxamethonium",code:"CPG EAS 14.44"},{name:"Tenecteplase",code:"CPG EAS 14.45"},{name:"Ticagrelor",code:"CPG EAS 14.53"},{name:"Tramadol",code:"CPG EAS 14.46"},{name:"Tranexamic Acid",code:"CPG EAS 14.47"}].filter(e=>e.name.toLowerCase().includes(eC.toLowerCase())||e.code.toLowerCase().includes(eC.toLowerCase()));return(0,t.jsxs)("div",{className:"eprf-dashboard incident-page",children:[(0,t.jsxs)("div",{className:"eprf-nav",children:[(0,t.jsx)("button",{className:"nav-btn",onClick:eD,children:"Home"}),(0,t.jsx)("button",{className:"nav-btn",children:"Tools"}),(0,t.jsx)("button",{className:"nav-btn",onClick:()=>{let e=(0,d.ts)();e&&(0,m.GJ)(e.discordId)&&a.push("/admin")},children:"Admin Panel"}),(0,t.jsx)("button",{className:"nav-btn",onClick:()=>{a.push("/")},children:"Manage Crew"}),(0,t.jsxs)("div",{className:"page-counter",children:[(0,t.jsx)("span",{className:"patient-letter",children:v}),(0,t.jsx)("span",{className:"page-indicator",children:"1 of 1"})]})]}),(0,t.jsxs)("div",{className:"incident-layout",children:[(0,t.jsxs)("aside",{className:"sidebar",children:[(0,t.jsx)("button",{className:`sidebar-btn${x.includes("incident")?" incomplete":""}`,onClick:()=>eL("incident"),children:"Incident Information"}),(0,t.jsx)("button",{className:`sidebar-btn${x.includes("patient-info")?" incomplete":""}`,onClick:()=>eL("patient-info"),children:"Patient Information"}),(0,t.jsx)("button",{className:`sidebar-btn${x.includes("primary-survey")?" incomplete":""}`,onClick:()=>eL("primary-survey"),children:"Primary Survey"}),(0,t.jsx)("button",{className:`sidebar-btn${x.includes("vital-obs")?" incomplete":""}`,onClick:()=>eL("vital-obs"),children:"Vital Obs / Treat"}),(0,t.jsx)("button",{className:`sidebar-btn${x.includes("hx-complaint")?" incomplete":""}`,onClick:()=>eL("hx-complaint"),children:"Hx Complaint"}),(0,t.jsx)("button",{className:`sidebar-btn${x.includes("past-medical-history")?" incomplete":""}`,onClick:()=>eL("past-medical-history"),children:"Past Medical History"}),(0,t.jsx)("button",{className:`sidebar-btn${x.includes("clinical-impression")?" incomplete":""}`,onClick:()=>eL("clinical-impression"),children:"Clinical Impression"}),(0,t.jsx)("button",{className:`sidebar-btn${x.includes("disposition")?" incomplete":""}`,onClick:()=>eL("disposition"),children:"Disposition"}),(0,t.jsx)("button",{className:"sidebar-btn",onClick:()=>eL("media"),children:"Media"})]}),(0,t.jsx)("main",{className:"incident-content",children:O?(0,t.jsxs)("section",{className:"incident-section",children:[(0,t.jsx)("h2",{className:"section-title",children:"Medication"}),(0,t.jsxs)("div",{className:"medication-form",children:[(0,t.jsxs)("div",{className:"medication-row",children:[(0,t.jsxs)("div",{className:"medication-field",style:{flex:"0 0 300px"},children:[(0,t.jsx)("label",{className:`field-label required ${J.time?"validation-error-label":""}`,children:"Time"}),(0,t.jsxs)("div",{className:"input-with-btn",children:[(0,t.jsx)("input",{type:"text",value:Q,onChange:e=>ee(e.target.value),onClick:()=>{let e=new Date;eE(e.getDate()),eT(e.getMonth()+1),eG(e.getFullYear()),eM(e.getHours()),eF(e.getMinutes()),Z(!0)},className:`text-input ${J.time?"validation-error":""}`,readOnly:!0}),(0,t.jsx)("button",{className:"now-btn",onClick:()=>{let e=new Date;ee(`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`)},children:"Now"})]})]}),(0,t.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,t.jsx)("label",{className:`field-label required ${J.administeredBy?"validation-error-label":""}`,children:"Administered by"}),(0,t.jsx)("input",{type:"text",value:ea,onChange:e=>ei(e.target.value),className:`text-input ${J.administeredBy?"validation-error":""}`,placeholder:"roblox username"})]})]}),(0,t.jsx)("div",{className:"medication-row",children:(0,t.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,t.jsx)("label",{className:`field-label required ${J.medication?"validation-error-label":""}`,children:"Medication"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,t.jsx)("input",{type:"text",value:et,className:`text-input ${J.medication?"validation-error":""}`,readOnly:!0,style:{flex:1}}),(0,t.jsx)("button",{className:"search-btn",onClick:()=>{z(!0)},children:"Search"}),(0,t.jsx)("button",{className:"search-btn",onClick:()=>{ey(""),z(!0)},children:"List"})]})]})}),(0,t.jsxs)("div",{className:"medication-row",children:[(0,t.jsx)("div",{className:"medication-field",style:{flex:"0 0 80px"},children:(0,t.jsxs)("label",{className:"field-label",children:[(0,t.jsx)("input",{type:"checkbox",checked:!1,disabled:!0,style:{marginRight:"8px"}}),"PRN"]})}),(0,t.jsxs)("div",{className:"medication-field",style:{flex:"0 0 200px"},children:[(0,t.jsx)("label",{className:`field-label required ${J.dose?"validation-error-label":""}`,children:"Dose"}),(0,t.jsx)(p,{value:en,onChange:el,className:`text-input ${J.dose?"validation-error":""}`,step:.1,min:0})]}),(0,t.jsxs)("div",{className:"medication-field",style:{flex:"0 0 200px"},children:[(0,t.jsx)("label",{className:`field-label required ${J.unit?"validation-error-label":""}`,children:"Unit"}),(0,t.jsx)("input",{type:"text",value:eo,onChange:e=>er(e.target.value),className:`text-input ${J.unit?"validation-error":""}`})]}),(0,t.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,t.jsx)("label",{className:`field-label required ${J.route?"validation-error-label":""}`,children:"Route"}),(0,t.jsx)("input",{type:"text",value:ec,className:`text-input clickable-input ${J.route?"validation-error":""}`,readOnly:!0,onClick:()=>{U(!0)},style:{cursor:"pointer"}})]})]}),(0,t.jsxs)("div",{className:"medication-row",children:[(0,t.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Notes"}),(0,t.jsx)("input",{type:"text",value:em,className:"text-input clickable-input",readOnly:!0,onClick:()=>{W(!0)},style:{cursor:"pointer"}})]}),(0,t.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Reason for ATP Violation"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",disabled:!0,readOnly:!0})]})]}),(0,t.jsxs)("div",{className:"medication-row",children:[(0,t.jsx)("div",{className:"medication-field",children:(0,t.jsxs)("label",{className:"field-label",children:[(0,t.jsx)("input",{type:"checkbox",checked:ex,onChange:e=>eb(e.target.checked),style:{marginRight:"8px"}}),"Drawn up not used"]})}),(0,t.jsx)("div",{className:"medication-field",children:(0,t.jsxs)("label",{className:"field-label",children:[(0,t.jsx)("input",{type:"checkbox",checked:ev,onChange:e=>eN(e.target.checked),style:{marginRight:"8px"}}),"Broken ampoule"]})}),(0,t.jsx)("div",{className:"medication-field",children:(0,t.jsxs)("label",{className:"field-label",children:[(0,t.jsx)("input",{type:"checkbox",checked:eg,onChange:e=>ef(e.target.checked),style:{marginRight:"8px"}}),"Discarded"]})})]}),(0,t.jsx)("div",{className:"medication-row",children:(0,t.jsxs)("div",{className:"medication-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Not possible"}),(0,t.jsx)("input",{type:"text",value:ek,className:"text-input clickable-input",readOnly:!0,onClick:()=>{V(!0)},style:{cursor:"pointer"},placeholder:"Select reason"})]})})]})]}):(0,t.jsxs)("section",{className:"incident-section",children:[(0,t.jsx)("h2",{className:"section-title",children:"Medication"}),0===_.length?(0,t.jsx)("div",{className:"no-record-message",children:"No record found."}):(0,t.jsx)("div",{style:{marginTop:"20px"},children:_.map((e,a)=>(0,t.jsxs)("div",{style:{backgroundColor:"#d8e8f8",padding:"15px",marginBottom:"10px",borderRadius:"4px",border:"1px solid #a8c5e0"},children:[(0,t.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px",color:"#2c5282"},children:e.time||"No time recorded"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",fontSize:"14px"},children:[e.medication&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Med:"})," ",e.medication]}),e.dose&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Dose:"})," ",e.dose," ",e.unit]}),e.route&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Route:"})," ",e.route]}),e.administeredBy&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"By:"})," ",e.administeredBy]}),e.notes&&(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("strong",{children:"Notes:"})," ",e.notes]})]})]},a))})]})})]}),O?(0,t.jsxs)("div",{className:"eprf-footer vitals-edit-footer",children:[(0,t.jsx)("div",{className:"footer-left",children:(0,t.jsx)("button",{className:"footer-btn blue",children:"Competency Tool"})}),(0,t.jsxs)("div",{className:"footer-right",children:[(0,t.jsx)("button",{className:"footer-btn gray",onClick:()=>{eO(),eH(),es(""),L(!1)},children:"Cancel and discard changes"}),(0,t.jsx)("button",{className:"footer-btn blue",onClick:()=>{eU()&&(eO(),ee(""),ei(""),el(""),er(""),ed(""),eu(""),eh(""),eb(!1),eN(!1),ef(!1),eS(""),eP(""))},children:"Save and enter the same medicine again"}),(0,t.jsx)("button",{className:"footer-btn blue",onClick:()=>{eU()&&(eO(),eH(),es(""))},children:"Save and enter a different medicine"}),(0,t.jsx)("button",{className:"footer-btn blue",onClick:()=>{eU()&&(eO(),L(!1))},children:"Save and return to Vital Obs/Treat"})]})]}):(0,t.jsxs)("div",{className:"eprf-footer vitals-footer",children:[(0,t.jsxs)("div",{className:"footer-left",children:[(0,t.jsx)("button",{className:"footer-btn large-blue",onClick:()=>eL("vital-obs"),children:"New Vitals"}),(0,t.jsx)("button",{className:"footer-btn large-blue",onClick:()=>{L(!0)},children:"New Meds"}),(0,t.jsx)("button",{className:"footer-btn large-blue",onClick:()=>{let e=new URLSearchParams({id:u,fleetId:h});a.push(`/interventions?${e}`)},children:"New Intervention"})]}),(0,t.jsxs)("div",{className:"footer-center",children:[(0,t.jsx)("button",{className:"footer-btn green",onClick:()=>{y(!0)},children:"Transfer ePRF"}),(0,t.jsx)("button",{className:"footer-btn green",onClick:()=>{let e=(0,l.Zl)(u);b(e.incompleteSections),e.isValid?S(!0):(T(e.fieldErrors),P(!0))},children:"Submit ePRF"})]}),(0,t.jsxs)("div",{className:"footer-right",children:[(0,t.jsx)("button",{className:"footer-btn orange",onClick:()=>{O&&eI(),eL("vital-obs")},children:"< Previous"}),(0,t.jsx)("button",{className:"footer-btn orange",onClick:()=>{O&&eI()},children:"Next >"})]})]}),K&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>Z(!1),children:(0,t.jsxs)("div",{className:"datetime-picker",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"picker-header",children:"Set Time"}),(0,t.jsxs)("div",{className:"picker-display",children:["Wed, December ",String(eA).padStart(2,"0"),", ",eR," ",String(e$).padStart(2,"0"),":",String(e_).padStart(2,"0")]}),(0,t.jsxs)("div",{className:"picker-controls",children:[(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eE(Math.min(31,eA+1)),children:"+"}),(0,t.jsx)("div",{className:"picker-value highlight",children:String(eA).padStart(2,"0")}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eE(Math.max(1,eA-1)),children:"-"})]}),(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eT(12===ew?1:ew+1),children:"+"}),(0,t.jsx)("div",{className:"picker-value",children:String(ew).padStart(2,"0")}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eT(1===ew?12:ew-1),children:"-"})]}),(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eG(eR+1),children:"+"}),(0,t.jsx)("div",{className:"picker-value",children:eR}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eG(eR-1),children:"-"})]}),(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eM((e$+1)%24),children:"+"}),(0,t.jsx)("div",{className:"picker-value highlight",children:String(e$).padStart(2,"0")}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eM((e$-1+24)%24),children:"-"})]}),(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eF((e_+1)%60),children:"+"}),(0,t.jsx)("div",{className:"picker-value highlight",children:String(e_).padStart(2,"0")}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eF((e_-1+60)%60),children:"-"})]})]}),(0,t.jsxs)("div",{className:"picker-footer",children:[(0,t.jsx)("button",{className:"picker-footer-btn cancel",onClick:()=>Z(!1),children:"Cancel"}),(0,t.jsx)("button",{className:"picker-footer-btn ok",onClick:()=>{ee(`${String(eA).padStart(2,"0")}/${String(ew).padStart(2,"0")}/${eR} ${String(e$).padStart(2,"0")}:${String(e_).padStart(2,"0")}`),Z(!1)},children:"OK"})]})]})}),B&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>z(!1),children:(0,t.jsxs)("div",{className:"medication-search-modal",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"medication-search-header",children:"Search Medication"}),(0,t.jsxs)("div",{className:"medication-search-input-section",children:[(0,t.jsx)("label",{className:"medication-search-label",children:"Medication *"}),(0,t.jsx)("input",{type:"text",value:eC,onChange:e=>ey(e.target.value),className:"medication-search-input",placeholder:"Type to search...",autoFocus:!0}),(0,t.jsxs)("div",{className:"medication-search-buttons",children:[(0,t.jsx)("button",{className:"medication-search-btn reset",onClick:()=>ey(""),children:"Reset..."}),(0,t.jsx)("button",{className:"medication-search-btn search",children:"Search"})]})]}),(0,t.jsx)("div",{className:"medication-list-header",children:"Medication *"}),(0,t.jsx)("div",{className:"medication-list-container",children:eV.map((e,a)=>(0,t.jsxs)("div",{className:"medication-list-item",onClick:()=>eq(e.name),children:[(0,t.jsx)("div",{className:"medication-name",children:e.name}),(0,t.jsx)("div",{className:"medication-code",children:e.code})]},a))}),(0,t.jsxs)("div",{className:"medication-search-footer",children:[(0,t.jsx)("button",{className:"medication-search-footer-btn cancel",onClick:()=>z(!1),children:"Cancel"}),(0,t.jsx)("button",{className:"medication-search-footer-btn ok",onClick:()=>z(!1),children:"OK"})]})]})}),H&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>U(!1),children:(0,t.jsxs)("div",{className:"route-modal",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"route-header",children:"Route"}),(0,t.jsx)("div",{className:"route-list",children:["Per oral","Nasal prongs","Nebuliser mask","Sublingual","Inhaled","Intravenous","Intramuscular"].map((e,a)=>(0,t.jsx)("div",{className:"route-item",onClick:()=>eW(e),children:e},a))}),(0,t.jsx)("div",{className:"route-footer",children:(0,t.jsx)("button",{className:"route-footer-btn cancel",onClick:()=>U(!1),children:"Cancel"})})]})}),q&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>W(!1),children:(0,t.jsxs)("div",{className:"vital-detail-modal",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"vital-modal-header",children:"Notes"}),(0,t.jsx)("div",{className:"vital-modal-section",children:(0,t.jsx)("textarea",{value:ej,onChange:e=>eS(e.target.value),placeholder:"Enter notes...",style:{width:"100%",minHeight:"200px",padding:"12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px",resize:"vertical"}})}),(0,t.jsxs)("div",{className:"vital-modal-actions",children:[(0,t.jsx)("button",{className:"vital-modal-btn secondary",children:"Competency Tool"}),(0,t.jsx)("button",{className:"vital-modal-btn cancel",onClick:()=>W(!1),children:"Cancel"}),(0,t.jsx)("button",{className:"vital-modal-btn ok",onClick:()=>{eu(ej),W(!1)},children:"OK"})]})]})}),Y&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>V(!1),children:(0,t.jsxs)("div",{className:"not-possible-modal",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"not-possible-header",children:"Not possible"}),(0,t.jsxs)("div",{className:"not-possible-options",children:[(0,t.jsx)("button",{className:`not-possible-option ${"Patient does not understand"===ek?"selected":""}`,onClick:()=>eY("Patient does not understand"),children:"Patient does not understand"}),(0,t.jsx)("button",{className:`not-possible-option ${"Patient refused"===ek?"selected":""}`,onClick:()=>eY("Patient refused"),children:"Patient refused"}),(0,t.jsx)("button",{className:`not-possible-option ${"Patient unconscious"===ek?"selected":""}`,onClick:()=>eY("Patient unconscious"),children:"Patient unconscious"}),(0,t.jsx)("button",{className:`not-possible-option ${"Not indicated"===ek?"selected":""}`,onClick:()=>eY("Not indicated"),children:"Not indicated"}),(0,t.jsx)("button",{className:`not-possible-option ${"Contraindicated"===ek?"selected":""}`,onClick:()=>eY("Contraindicated"),children:"Contraindicated"}),(0,t.jsx)("button",{className:`not-possible-option ${"Equipment failure"===ek?"selected":""}`,onClick:()=>eY("Equipment failure"),children:"Equipment failure"})]})]})}),(0,t.jsx)(r.ZP,{isOpen:g,onClose:()=>f(!1),onConfirm:ez,title:"Add New Patient",message:`Are you sure you want to add a new patient?

This will:
• Save the current Patient ${v} data
• Create a new patient record (Patient ${String.fromCharCode(v.charCodeAt(0)+1)})
• Clear the form for the new patient`,confirmText:"Yes, Add Patient",cancelText:"Cancel",type:"info",isLoading:R}),(0,t.jsx)(r.ZP,{isOpen:j,onClose:()=>S(!1),onConfirm:eB,title:"Submit ePRF",message:`Are you sure you want to submit this ePRF?

This will:
• Generate a PDF report for Patient ${v}
• Save the record to the database
• Download the PDF to your device`,confirmText:"Yes, Submit ePRF",cancelText:"Cancel",type:"success",isLoading:R}),(0,t.jsx)(r.Yj,{isOpen:k,onClose:()=>P(!1),errors:w,getSectionDisplayName:l.aY}),(0,t.jsx)(r.i_,{isOpen:A,onClose:()=>E(!1),title:$.title,message:$.message}),(0,t.jsx)(c.Z,{isOpen:C,onClose:()=>y(!1),onTransferComplete:e=>{let{transferAllPatients:a}=i(2392);a(u,e.discordId,e.callsign),y(!1),M({title:"ePRF Transferred",message:`The ePRF has been transferred to ${e.callsign}. You will be redirected to the dashboard.`}),E(!0),setTimeout(()=>{eD()},2e3)},incidentId:u,patientLetter:v})]})}},8210:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>n,runtime:()=>s});var t=i(8264);let s=(0,t.D)(String.raw`C:\Users\Toby\Downloads\node-v24.11.1-win-x64\app123\app\medications\page.tsx#runtime`),n=(0,t.D)(String.raw`C:\Users\Toby\Downloads\node-v24.11.1-win-x64\app123\app\medications\page.tsx#default`)}},e=>{var a=a=>e(e.s=a);e.O(0,[378,716,337,625,974],()=>a(7661));var i=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/medications/page"]=i}]);
//# sourceMappingURL=page.js.map