{"version":3,"file":"app/past-medical-history/page.js","mappings":"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","sources":["webpack://_N_E/external commonjs \"node:async_hooks\"","webpack://_N_E/external commonjs \"node:buffer\"","webpack://_N_E/./app/past-medical-history/page.tsx?c000","webpack://_N_E/|ssr?0430","webpack://_N_E/?e66e","webpack://_N_E/./app/past-medical-history/page.tsx"],"sourcesContent":["module.exports = require(\"node:async_hooks\");","module.exports = require(\"node:buffer\");","\"TURBOPACK { transition: next-ssr }\";\nimport { AppPageRouteModule } from \"next/dist/server/future/route-modules/app-page/module.compiled\";\nimport { RouteKind } from \"next/dist/server/future/route-kind\";\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'past-medical-history',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\past-medical-history\\\\page.tsx\"), \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\past-medical-history\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\layout.tsx\"), \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\layout.tsx\"],\n'not-found': [() => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/not-found-error\"), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\past-medical-history\\\\page.tsx\"];\nexport { tree, pages };\nexport { default as GlobalError } from \"next/dist/client/components/error-boundary\";\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nexport const originalPathname = \"/past-medical-history/page\";\nexport const __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\nexport * from \"next/dist/server/app-render/entry-base\";\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n    definition: {\n        kind: RouteKind.APP_PAGE,\n        page: \"/past-medical-history/page\",\n        pathname: \"/past-medical-history\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map","var _self___RSC_MANIFEST;\nimport \"next/dist/server/web/globals\";\nimport { adapter } from \"next/dist/server/web/adapter\";\nimport { getRender } from \"next/dist/build/webpack/loaders/next-edge-ssr-loader/render\";\nimport { IncrementalCache } from \"next/dist/server/lib/incremental-cache\";\nimport { renderToHTMLOrFlight as renderToHTML } from \"next/dist/server/app-render/app-render\";\nimport * as pageMod from \"next-app-loader?name=app%2Fpast-medical-history%2Fpage&page=%2Fpast-medical-history%2Fpage&pagePath=private-next-app-dir%2Fpast-medical-history%2Fpage.tsx&appDir=C%3A%5CUsers%5CToby%5CDownloads%5Cnode-v24.11.1-win-x64%5Capp123%5Capp&appPaths=%2Fpast-medical-history%2Fpage&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!private-next-app-dir/past-medical-history/page.tsx?__next_edge_ssr_entry__\";\nimport { PAGE_TYPES } from \"next/dist/lib/page-types\";\nimport { setReferenceManifestsSingleton } from \"next/dist/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/server/app-render/action-utils\";\nconst incrementalCacheHandler = null\nconst Document = null;\nconst appMod = null;\nconst errorMod = null;\nconst error500Mod = null;\nconst sriEnabled = false\nconst isServerComponent = true\nconst dev = false\nconst serverActions = undefined\nconst nextConfig = {\"env\":{},\"webpack\":null,\"eslint\":{\"ignoreDuringBuilds\":false},\"typescript\":{\"ignoreBuildErrors\":false,\"tsconfigPath\":\"tsconfig.json\"},\"distDir\":\".next\",\"cleanDistDir\":true,\"assetPrefix\":\"\",\"cacheMaxMemorySize\":52428800,\"configOrigin\":\"next.config.js\",\"useFileSystemPublicRoutes\":true,\"generateEtags\":true,\"pageExtensions\":[\"tsx\",\"ts\",\"jsx\",\"js\"],\"poweredByHeader\":true,\"compress\":true,\"analyticsId\":\"\",\"images\":{\"deviceSizes\":[640,750,828,1080,1200,1920,2048,3840],\"imageSizes\":[16,32,48,64,96,128,256,384],\"path\":\"/_next/image\",\"loader\":\"default\",\"loaderFile\":\"\",\"domains\":[],\"disableStaticImages\":false,\"minimumCacheTTL\":60,\"formats\":[\"image/webp\"],\"dangerouslyAllowSVG\":false,\"contentSecurityPolicy\":\"script-src 'none'; frame-src 'none'; sandbox;\",\"contentDispositionType\":\"inline\",\"remotePatterns\":[],\"unoptimized\":false},\"devIndicators\":{\"buildActivity\":true,\"buildActivityPosition\":\"bottom-right\"},\"onDemandEntries\":{\"maxInactiveAge\":60000,\"pagesBufferLength\":5},\"amp\":{\"canonicalBase\":\"\"},\"basePath\":\"\",\"sassOptions\":{},\"trailingSlash\":false,\"i18n\":null,\"productionBrowserSourceMaps\":false,\"optimizeFonts\":true,\"excludeDefaultMomentLocales\":true,\"serverRuntimeConfig\":{},\"publicRuntimeConfig\":{},\"reactProductionProfiling\":false,\"reactStrictMode\":null,\"httpAgentOptions\":{\"keepAlive\":true},\"outputFileTracing\":true,\"staticPageGenerationTimeout\":60,\"swcMinify\":true,\"modularizeImports\":{\"@mui/icons-material\":{\"transform\":\"@mui/icons-material/{{member}}\"},\"lodash\":{\"transform\":\"lodash/{{member}}\"}},\"experimental\":{\"multiZoneDraftMode\":false,\"prerenderEarlyExit\":false,\"serverMinification\":true,\"serverSourceMaps\":false,\"linkNoTouchStart\":false,\"caseSensitiveRoutes\":false,\"clientRouterFilter\":true,\"clientRouterFilterRedirects\":false,\"fetchCacheKeyPrefix\":\"\",\"middlewarePrefetch\":\"flexible\",\"optimisticClientCache\":true,\"manualClientBasePath\":false,\"cpus\":11,\"memoryBasedWorkersCount\":false,\"isrFlushToDisk\":true,\"workerThreads\":false,\"optimizeCss\":false,\"nextScriptWorkers\":false,\"scrollRestoration\":false,\"externalDir\":false,\"disableOptimizedLoading\":false,\"gzipSize\":true,\"craCompat\":false,\"esmExternals\":true,\"fullySpecified\":false,\"outputFileTracingRoot\":\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\",\"swcTraceProfiling\":false,\"forceSwcTransforms\":false,\"largePageDataBytes\":128000,\"adjustFontFallbacks\":false,\"adjustFontFallbacksWithSizeAdjust\":false,\"typedRoutes\":false,\"instrumentationHook\":false,\"bundlePagesExternals\":false,\"parallelServerCompiles\":false,\"parallelServerBuildTraces\":false,\"ppr\":false,\"missingSuspenseWithCSRBailout\":true,\"optimizeServerReact\":true,\"useEarlyImport\":false,\"staleTimes\":{\"dynamic\":30,\"static\":300},\"optimizePackageImports\":[\"lucide-react\",\"date-fns\",\"lodash-es\",\"ramda\",\"antd\",\"react-bootstrap\",\"ahooks\",\"@ant-design/icons\",\"@headlessui/react\",\"@headlessui-float/react\",\"@heroicons/react/20/solid\",\"@heroicons/react/24/solid\",\"@heroicons/react/24/outline\",\"@visx/visx\",\"@tremor/react\",\"rxjs\",\"@mui/material\",\"@mui/icons-material\",\"recharts\",\"react-use\",\"@material-ui/core\",\"@material-ui/icons\",\"@tabler/icons-react\",\"mui-core\",\"react-icons/ai\",\"react-icons/bi\",\"react-icons/bs\",\"react-icons/cg\",\"react-icons/ci\",\"react-icons/di\",\"react-icons/fa\",\"react-icons/fa6\",\"react-icons/fc\",\"react-icons/fi\",\"react-icons/gi\",\"react-icons/go\",\"react-icons/gr\",\"react-icons/hi\",\"react-icons/hi2\",\"react-icons/im\",\"react-icons/io\",\"react-icons/io5\",\"react-icons/lia\",\"react-icons/lib\",\"react-icons/lu\",\"react-icons/md\",\"react-icons/pi\",\"react-icons/ri\",\"react-icons/rx\",\"react-icons/si\",\"react-icons/sl\",\"react-icons/tb\",\"react-icons/tfi\",\"react-icons/ti\",\"react-icons/vsc\",\"react-icons/wi\"]},\"configFile\":\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\next.config.js\",\"configFileName\":\"next.config.js\"}\nconst maybeJSONParse = (str)=>str ? JSON.parse(str) : undefined;\nconst buildManifest = self.__BUILD_MANIFEST;\nconst reactLoadableManifest = maybeJSONParse(self.__REACT_LOADABLE_MANIFEST);\nconst rscManifest = (_self___RSC_MANIFEST = self.__RSC_MANIFEST) == null ? void 0 : _self___RSC_MANIFEST[\"/past-medical-history/page\"];\nconst rscServerManifest = maybeJSONParse(self.__RSC_SERVER_MANIFEST);\nconst subresourceIntegrityManifest = sriEnabled ? maybeJSONParse(self.__SUBRESOURCE_INTEGRITY_MANIFEST) : undefined;\nconst nextFontManifest = maybeJSONParse(self.__NEXT_FONT_MANIFEST);\nconst interceptionRouteRewrites = maybeJSONParse(self.__INTERCEPTION_ROUTE_REWRITE_MANIFEST) ?? [];\nif (rscManifest && rscServerManifest) {\n    setReferenceManifestsSingleton({\n        clientReferenceManifest: rscManifest,\n        serverActionsManifest: rscServerManifest,\n        serverModuleMap: createServerModuleMap({\n            serverActionsManifest: rscServerManifest,\n            pageName: \"/past-medical-history/page\"\n        })\n    });\n}\nconst render = getRender({\n    pagesType: PAGE_TYPES.APP,\n    dev,\n    page: \"/past-medical-history/page\",\n    appMod,\n    pageMod,\n    errorMod,\n    error500Mod,\n    Document,\n    buildManifest,\n    renderToHTML,\n    reactLoadableManifest,\n    clientReferenceManifest: isServerComponent ? rscManifest : null,\n    serverActionsManifest: isServerComponent ? rscServerManifest : null,\n    serverActions: isServerComponent ? serverActions : undefined,\n    subresourceIntegrityManifest,\n    config: nextConfig,\n    buildId: process.env.__NEXT_BUILD_ID,\n    nextFontManifest,\n    incrementalCacheHandler,\n    interceptionRouteRewrites\n});\nexport const ComponentMod = pageMod;\nexport default function nHandler(opts) {\n    return adapter({\n        ...opts,\n        IncrementalCache,\n        handler: render\n    });\n}\n\n//# sourceMappingURL=edge-ssr-app.js.map","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\past-medical-history\\\\page.tsx\");\n","\"use client\"\r\n\r\nimport { useSearchParams, useRouter } from 'next/navigation'\r\nimport { useState, useEffect, useRef, useCallback } from 'react'\r\nimport { validateAllSections, getSectionDisplayName } from '../utils/validation'\r\nimport { handleAddPatient as addPatientService, handleSubmitEPRF as submitEPRFService, getCurrentPatientLetter } from '../utils/eprfService'\r\nimport ConfirmationModal, { ValidationErrorModal, SuccessModal } from '../components/ConfirmationModal'\r\nimport TransferModal from '../components/TransferModal'\r\nimport { getCurrentUser } from '../utils/userService'\r\nimport { isAdmin } from '../utils/apiClient'\r\n\r\nexport const runtime = 'edge'\r\n\r\ninterface DrawnLine {\r\n  points: { x: number; y: number }[]\r\n  label: string\r\n  labelPosition: { x: number; y: number }\r\n}\r\n\r\nexport default function PastMedicalHistoryPage() {\r\n  const searchParams = useSearchParams()\r\n  const router = useRouter()\r\n  const incidentId = searchParams?.get('id') || ''\r\n  const fleetId = searchParams?.get('fleetId') || ''\r\n\r\n  const [incompleteSections, setIncompleteSections] = useState<string[]>([])\r\n  const [patientLetter, setPatientLetter] = useState('A')\r\n\r\n  // Modal states\r\n  const [showAddPatientModal, setShowAddPatientModal] = useState(false)\r\n  const [showSubmitModal, setShowSubmitModal] = useState(false)\r\n  const [showValidationErrorModal, setShowValidationErrorModal] = useState(false)\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false)\r\n  const [showTransferModal, setShowTransferModal] = useState(false)\r\n  const [validationErrors, setValidationErrors] = useState<{[section: string]: string[]}>({})\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [successMessage, setSuccessMessage] = useState({ title: '', message: '' })\r\n\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [formData, setFormData] = useState({\r\n    pastMedicalHistory: '',\r\n    medications: '',\r\n    allergies: '',\r\n    lastOralIntake: '',\r\n    lastOralIntakeTime: ''\r\n  })\r\n\r\n  const [showTimePicker, setShowTimePicker] = useState(false)\r\n  const [pickerHour, setPickerHour] = useState(12)\r\n  const [pickerMinute, setPickerMinute] = useState(0)\r\n\r\n  // Canvas state for page 2\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const [selectedInjury, setSelectedInjury] = useState('Abrasion')\r\n  const [canvasOffset, setCanvasOffset] = useState({ x: 0, y: 0 })\r\n  const [zoom, setZoom] = useState(1)\r\n  const [isDrawing, setIsDrawing] = useState(false)\r\n  const [currentLine, setCurrentLine] = useState<{ x: number; y: number }[]>([])\r\n  const [drawnLines, setDrawnLines] = useState<DrawnLine[]>([])\r\n  const [history, setHistory] = useState<DrawnLine[][]>([[]])\r\n  const [historyIndex, setHistoryIndex] = useState(0)\r\n\r\n  const injuryTypes = [\r\n    'Abrasion', 'Amputation/degloving',\r\n    'Burn', 'Contusion',\r\n    'Dislocation', 'Foreign Body',\r\n    'Fracture-Closed', 'Fracture-Open',\r\n    'Haemorrhage', 'Laceration',\r\n    'Numbness', 'Pain',\r\n    'Rash', 'Swelling',\r\n    'Tenderness', 'Weakness'\r\n  ]\r\n\r\n  // Load patient letter on mount\r\n  useEffect(() => {\r\n    if (incidentId) {\r\n      setPatientLetter(getCurrentPatientLetter(incidentId))\r\n    }\r\n  }, [incidentId])\r\n\r\n  // Load saved data on mount\r\n  useEffect(() => {\r\n    if (incidentId) {\r\n      const saved = localStorage.getItem(`past_medical_history_${incidentId}`)\r\n      if (saved) {\r\n        try {\r\n          const parsed = JSON.parse(saved)\r\n          setFormData(parsed.formData || parsed)\r\n          if (parsed.drawnLines) {\r\n            setDrawnLines(parsed.drawnLines)\r\n            setHistory([[], ...parsed.drawnLines.map((_: DrawnLine, i: number) => parsed.drawnLines.slice(0, i + 1))])\r\n            setHistoryIndex(parsed.drawnLines.length)\r\n          }\r\n        } catch (e) {\r\n          console.error('Failed to parse saved data:', e)\r\n        }\r\n      }\r\n    }\r\n  }, [incidentId])\r\n\r\n  // Save data whenever it changes\r\n  useEffect(() => {\r\n    if (incidentId) {\r\n      localStorage.setItem(`past_medical_history_${incidentId}`, JSON.stringify({\r\n        formData,\r\n        drawnLines\r\n      }))\r\n    }\r\n  }, [formData, drawnLines, incidentId])\r\n\r\n  const handleLogout = () => {\r\n    router.push('/')\r\n  }\r\n\r\n  const handleHome = () => {\r\n    const params = new URLSearchParams({ fleetId })\r\n    router.push(`/dashboard?${params}`)\r\n  }\r\n\r\n  const handleAdminPanel = () => {\r\n    const user = getCurrentUser()\r\n    if (user && isAdmin(user.discordId)) {\r\n      router.push('/admin')\r\n    }\r\n  }\r\n\r\n  const handleTransferClick = () => {\r\n    setShowTransferModal(true)\r\n  }\r\n\r\n  const handleTransferComplete = (targetUser: any) => {\r\n    const { transferAllPatients } = require('../utils/eprfHistoryService')\r\n    transferAllPatients(incidentId, targetUser.discordId, targetUser.callsign)\r\n    \r\n    setShowTransferModal(false)\r\n    setSuccessMessage({\r\n      title: 'ePRF Transferred',\r\n      message: `The ePRF has been transferred to ${targetUser.callsign}. You will be redirected to the dashboard.`\r\n    })\r\n    setShowSuccessModal(true)\r\n    setTimeout(() => {\r\n      handleHome()\r\n    }, 2000)\r\n  }\r\n\r\n  const navigateTo = (section: string) => {\r\n    const params = new URLSearchParams({ id: incidentId, fleetId })\r\n    if (section === 'incident') router.push(`/incident?${params}`)\r\n    else if (section === 'patient-info') router.push(`/patient-info?${params}`)\r\n    else if (section === 'primary-survey') router.push(`/primary-survey?${params}`)\r\n    else if (section === 'vital-obs') router.push(`/vital-obs?${params}`)\r\n    else if (section === 'hx-complaint') router.push(`/hx-complaint?${params}`)\r\n    else if (section === 'past-medical-history') router.push(`/past-medical-history?${params}`)\r\n    else if (section === 'clinical-impression') router.push(`/clinical-impression?${params}`)\r\n    else if (section === 'disposition') router.push(`/disposition?${params}`)\r\n    else if (section === 'media') router.push(`/media?${params}`)\r\n  }\r\n\r\n  const handlePrevious = () => {\r\n    if (currentPage === 2) {\r\n      setCurrentPage(1)\r\n    } else {\r\n      navigateTo('hx-complaint')\r\n    }\r\n  }\r\n\r\n  const handleNext = () => {\r\n    if (currentPage === 1) {\r\n      setCurrentPage(2)\r\n    } else {\r\n      const params = new URLSearchParams({ id: incidentId, fleetId })\r\n      router.push(`/clinical-impression?${params}`)\r\n    }\r\n  }\r\n\r\n  const handleSubmitEPRF = () => {\r\n    const result = validateAllSections(incidentId)\r\n    setIncompleteSections(result.incompleteSections)\r\n    \r\n    if (result.isValid) {\r\n      setShowSubmitModal(true)\r\n    } else {\r\n      setValidationErrors(result.fieldErrors)\r\n      setShowValidationErrorModal(true)\r\n    }\r\n  }\r\n\r\n  const confirmSubmitEPRF = async () => {\r\n    setIsSubmitting(true)\r\n    try {\r\n      const result = await submitEPRFService(incidentId, fleetId)\r\n      \r\n      if (result.success) {\r\n        setShowSubmitModal(false)\r\n        setSuccessMessage({\r\n          title: 'ePRF Submitted Successfully!',\r\n          message: `The ePRF for Patient ${patientLetter} has been submitted.\\n\\nA PDF copy has been downloaded to your device and the record has been saved.`\r\n        })\r\n        setShowSuccessModal(true)\r\n      } else if (result.validationResult) {\r\n        setShowSubmitModal(false)\r\n        setValidationErrors(result.validationResult.fieldErrors)\r\n        setIncompleteSections(result.validationResult.incompleteSections)\r\n        setShowValidationErrorModal(true)\r\n      }\r\n    } catch (error) {\r\n      console.error('Submit error:', error)\r\n      alert('An error occurred while submitting. Please try again.')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleAddPatientClick = () => {\r\n    setShowAddPatientModal(true)\r\n  }\r\n\r\n  const confirmAddPatient = async () => {\r\n    setIsSubmitting(true)\r\n    try {\r\n      const result = await addPatientService(incidentId)\r\n      \r\n      if (result.success) {\r\n        setShowAddPatientModal(false)\r\n        setPatientLetter(result.newLetter)\r\n        setSuccessMessage({\r\n          title: 'Patient Added Successfully!',\r\n          message: `Patient ${patientLetter} has been saved.\\n\\nYou are now working on Patient ${result.newLetter}.\\n\\nThe form has been cleared for the new patient.`\r\n        })\r\n        setShowSuccessModal(true)\r\n        \r\n        setTimeout(() => {\r\n          const params = new URLSearchParams({ id: incidentId, fleetId })\r\n          router.push(`/patient-info?${params}`)\r\n        }, 2000)\r\n      } else {\r\n        alert(result.error || 'Failed to add patient')\r\n      }\r\n    } catch (error) {\r\n      console.error('Add patient error:', error)\r\n      alert('An error occurred. Please try again.')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const hasFieldError = (field: string) => {\r\n    return incompleteSections.includes('past-medical-history') && (\r\n      (field === 'pastMedicalHistory' && !formData.pastMedicalHistory) ||\r\n      (field === 'medications' && !formData.medications) ||\r\n      (field === 'allergies' && !formData.allergies) ||\r\n      (field === 'lastOralIntake' && !formData.lastOralIntake)\r\n    )\r\n  }\r\n\r\n  const handleRadioChange = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  const openTimePicker = () => {\r\n    const now = new Date()\r\n    setPickerHour(now.getHours())\r\n    setPickerMinute(now.getMinutes())\r\n    setShowTimePicker(true)\r\n  }\r\n\r\n  const handleSetTimeNow = () => {\r\n    const now = new Date()\r\n    const hours = String(now.getHours()).padStart(2, '0')\r\n    const minutes = String(now.getMinutes()).padStart(2, '0')\r\n    setFormData(prev => ({ ...prev, lastOralIntakeTime: `${hours}:${minutes}` }))\r\n  }\r\n\r\n  const handleSetTime = () => {\r\n    const formatted = `${String(pickerHour).padStart(2, '0')}:${String(pickerMinute).padStart(2, '0')}`\r\n    setFormData(prev => ({ ...prev, lastOralIntakeTime: formatted }))\r\n    setShowTimePicker(false)\r\n  }\r\n\r\n  // Canvas drawing functions\r\n  const drawCanvas = useCallback(() => {\r\n    const canvas = canvasRef.current\r\n    if (!canvas) return\r\n    const ctx = canvas.getContext('2d')\r\n    if (!ctx) return\r\n\r\n    // Clear canvas\r\n    ctx.fillStyle = '#ffffff'\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n\r\n    ctx.save()\r\n    ctx.translate(canvas.width / 2 + canvasOffset.x, canvas.height / 2 + canvasOffset.y)\r\n    ctx.scale(zoom, zoom)\r\n\r\n    // Draw body figure (simple SVG-like path)\r\n    ctx.strokeStyle = '#d4b896'\r\n    ctx.fillStyle = '#f5dcc4'\r\n    ctx.lineWidth = 2\r\n\r\n    // Head\r\n    ctx.beginPath()\r\n    ctx.ellipse(0, -180, 25, 30, 0, 0, Math.PI * 2)\r\n    ctx.fill()\r\n    ctx.stroke()\r\n\r\n    // Neck\r\n    ctx.beginPath()\r\n    ctx.moveTo(-10, -150)\r\n    ctx.lineTo(-10, -135)\r\n    ctx.lineTo(10, -135)\r\n    ctx.lineTo(10, -150)\r\n    ctx.fill()\r\n    ctx.stroke()\r\n\r\n    // Torso\r\n    ctx.beginPath()\r\n    ctx.moveTo(-35, -135)\r\n    ctx.lineTo(-40, -50)\r\n    ctx.lineTo(-35, 30)\r\n    ctx.lineTo(-20, 50)\r\n    ctx.lineTo(20, 50)\r\n    ctx.lineTo(35, 30)\r\n    ctx.lineTo(40, -50)\r\n    ctx.lineTo(35, -135)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n    ctx.stroke()\r\n\r\n    // Left arm\r\n    ctx.beginPath()\r\n    ctx.moveTo(-35, -130)\r\n    ctx.lineTo(-55, -120)\r\n    ctx.lineTo(-70, -70)\r\n    ctx.lineTo(-75, 0)\r\n    ctx.lineTo(-70, 50)\r\n    ctx.lineTo(-60, 55)\r\n    ctx.lineTo(-55, 50)\r\n    ctx.lineTo(-50, 0)\r\n    ctx.lineTo(-45, -60)\r\n    ctx.lineTo(-40, -110)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n    ctx.stroke()\r\n\r\n    // Right arm\r\n    ctx.beginPath()\r\n    ctx.moveTo(35, -130)\r\n    ctx.lineTo(55, -120)\r\n    ctx.lineTo(70, -70)\r\n    ctx.lineTo(75, 0)\r\n    ctx.lineTo(70, 50)\r\n    ctx.lineTo(60, 55)\r\n    ctx.lineTo(55, 50)\r\n    ctx.lineTo(50, 0)\r\n    ctx.lineTo(45, -60)\r\n    ctx.lineTo(40, -110)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n    ctx.stroke()\r\n\r\n    // Left leg\r\n    ctx.beginPath()\r\n    ctx.moveTo(-20, 50)\r\n    ctx.lineTo(-25, 100)\r\n    ctx.lineTo(-25, 180)\r\n    ctx.lineTo(-30, 210)\r\n    ctx.lineTo(-15, 215)\r\n    ctx.lineTo(-10, 210)\r\n    ctx.lineTo(-10, 180)\r\n    ctx.lineTo(-5, 100)\r\n    ctx.lineTo(-5, 50)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n    ctx.stroke()\r\n\r\n    // Right leg\r\n    ctx.beginPath()\r\n    ctx.moveTo(20, 50)\r\n    ctx.lineTo(25, 100)\r\n    ctx.lineTo(25, 180)\r\n    ctx.lineTo(30, 210)\r\n    ctx.lineTo(15, 215)\r\n    ctx.lineTo(10, 210)\r\n    ctx.lineTo(10, 180)\r\n    ctx.lineTo(5, 100)\r\n    ctx.lineTo(5, 50)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n    ctx.stroke()\r\n\r\n    ctx.restore()\r\n\r\n    // Draw all saved lines\r\n    drawnLines.forEach(line => {\r\n      if (line.points.length > 1) {\r\n        ctx.beginPath()\r\n        ctx.strokeStyle = '#cc0000'\r\n        ctx.lineWidth = 2\r\n        ctx.moveTo(line.points[0].x, line.points[0].y)\r\n        for (let i = 1; i < line.points.length; i++) {\r\n          ctx.lineTo(line.points[i].x, line.points[i].y)\r\n        }\r\n        ctx.stroke()\r\n\r\n        // Draw label at start of line\r\n        ctx.fillStyle = '#cc0000'\r\n        ctx.font = '12px Arial'\r\n        ctx.fillText(line.label, line.labelPosition.x + 5, line.labelPosition.y - 5)\r\n      }\r\n    })\r\n\r\n    // Draw current line being drawn\r\n    if (currentLine.length > 1) {\r\n      ctx.beginPath()\r\n      ctx.strokeStyle = '#cc0000'\r\n      ctx.lineWidth = 2\r\n      ctx.moveTo(currentLine[0].x, currentLine[0].y)\r\n      for (let i = 1; i < currentLine.length; i++) {\r\n        ctx.lineTo(currentLine[i].x, currentLine[i].y)\r\n      }\r\n      ctx.stroke()\r\n    }\r\n  }, [canvasOffset, zoom, drawnLines, currentLine])\r\n\r\n  useEffect(() => {\r\n    if (currentPage === 2) {\r\n      drawCanvas()\r\n    }\r\n  }, [currentPage, drawCanvas])\r\n\r\n  // Keyboard navigation and shortcuts\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (currentPage !== 2) return\r\n      \r\n      // Handle Ctrl key combinations\r\n      if (e.ctrlKey || e.metaKey) {\r\n        switch (e.key.toLowerCase()) {\r\n          case 'z':\r\n            e.preventDefault()\r\n            handleUndo()\r\n            break\r\n          case 'y':\r\n            e.preventDefault()\r\n            handleRedo()\r\n            break\r\n          case 'enter':\r\n            e.preventDefault()\r\n            handleClear()\r\n            break\r\n          case '+':\r\n          case '=':\r\n            e.preventDefault()\r\n            handleZoomIn()\r\n            break\r\n          case '-':\r\n          case '_':\r\n            e.preventDefault()\r\n            handleZoomOut()\r\n            break\r\n          case ' ':\r\n            e.preventDefault()\r\n            handleCenter()\r\n            break\r\n        }\r\n        return\r\n      }\r\n      \r\n      // Arrow key navigation (without Ctrl)\r\n      const step = 20\r\n      switch (e.key) {\r\n        case 'ArrowUp':\r\n          setCanvasOffset(prev => ({ ...prev, y: prev.y + step }))\r\n          break\r\n        case 'ArrowDown':\r\n          setCanvasOffset(prev => ({ ...prev, y: prev.y - step }))\r\n          break\r\n        case 'ArrowLeft':\r\n          setCanvasOffset(prev => ({ ...prev, x: prev.x + step }))\r\n          break\r\n        case 'ArrowRight':\r\n          setCanvasOffset(prev => ({ ...prev, x: prev.x - step }))\r\n          break\r\n      }\r\n    }\r\n    window.addEventListener('keydown', handleKeyDown)\r\n    return () => window.removeEventListener('keydown', handleKeyDown)\r\n  }, [currentPage, historyIndex, history])\r\n\r\n  const handleCanvasMouseDown = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    const canvas = canvasRef.current\r\n    if (!canvas) return\r\n    const rect = canvas.getBoundingClientRect()\r\n    const x = e.clientX - rect.left\r\n    const y = e.clientY - rect.top\r\n    setIsDrawing(true)\r\n    setCurrentLine([{ x, y }])\r\n  }\r\n\r\n  const handleCanvasMouseMove = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    if (!isDrawing) return\r\n    const canvas = canvasRef.current\r\n    if (!canvas) return\r\n    const rect = canvas.getBoundingClientRect()\r\n    const x = e.clientX - rect.left\r\n    const y = e.clientY - rect.top\r\n    setCurrentLine(prev => [...prev, { x, y }])\r\n  }\r\n\r\n  const handleCanvasMouseUp = () => {\r\n    if (isDrawing && currentLine.length > 1) {\r\n      const newLine: DrawnLine = {\r\n        points: currentLine,\r\n        label: selectedInjury,\r\n        labelPosition: currentLine[0]\r\n      }\r\n      const newLines = [...drawnLines, newLine]\r\n      setDrawnLines(newLines)\r\n      \r\n      // Update history\r\n      const newHistory = history.slice(0, historyIndex + 1)\r\n      newHistory.push(newLines)\r\n      setHistory(newHistory)\r\n      setHistoryIndex(newHistory.length - 1)\r\n    }\r\n    setIsDrawing(false)\r\n    setCurrentLine([])\r\n  }\r\n\r\n  const handleZoomIn = () => setZoom(prev => Math.min(prev + 0.2, 3))\r\n  const handleZoomOut = () => setZoom(prev => Math.max(prev - 0.2, 0.5))\r\n  const handleMoveUp = () => setCanvasOffset(prev => ({ ...prev, y: prev.y + 30 }))\r\n  const handleMoveDown = () => setCanvasOffset(prev => ({ ...prev, y: prev.y - 30 }))\r\n  const handleMoveLeft = () => setCanvasOffset(prev => ({ ...prev, x: prev.x + 30 }))\r\n  const handleMoveRight = () => setCanvasOffset(prev => ({ ...prev, x: prev.x - 30 }))\r\n  const handleCenter = () => setCanvasOffset({ x: 0, y: 0 })\r\n  \r\n  const handleUndo = () => {\r\n    if (historyIndex > 0) {\r\n      setHistoryIndex(prev => prev - 1)\r\n      setDrawnLines(history[historyIndex - 1])\r\n    }\r\n  }\r\n\r\n  const handleRedo = () => {\r\n    if (historyIndex < history.length - 1) {\r\n      setHistoryIndex(prev => prev + 1)\r\n      setDrawnLines(history[historyIndex + 1])\r\n    }\r\n  }\r\n\r\n  const handleClear = () => {\r\n    setDrawnLines([])\r\n    setHistory([[]])\r\n    setHistoryIndex(0)\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <style jsx>{`\r\n        .container {\r\n          min-height: 100vh;\r\n          display: flex;\r\n          flex-direction: column;\r\n          background: #5a7ca5;\r\n        }\r\n        \r\n        .header {\r\n          display: flex;\r\n          background: linear-gradient(to bottom, #3a5a7c, #2d4a6c);\r\n          padding: 0;\r\n        }\r\n        \r\n        .nav-btn {\r\n          padding: 8px 16px;\r\n          background: linear-gradient(to bottom, #4a6a8c, #3a5a7c);\r\n          color: white;\r\n          border: 1px solid #2d4a6c;\r\n          cursor: pointer;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 2px;\r\n          min-width: 80px;\r\n        }\r\n        \r\n        .nav-btn:hover {\r\n          background: linear-gradient(to bottom, #5a7a9c, #4a6a8c);\r\n        }\r\n        \r\n        .nav-icon {\r\n          font-size: 16px;\r\n        }\r\n        \r\n        .nav-text {\r\n          font-size: 11px;\r\n        }\r\n        \r\n        .header-right {\r\n          margin-left: auto;\r\n          display: flex;\r\n          align-items: center;\r\n          padding-right: 10px;\r\n        }\r\n        \r\n        .patient-counter {\r\n          color: white;\r\n          font-size: 14px;\r\n        }\r\n        \r\n        .patient-letter {\r\n          color: #ff6b6b;\r\n          font-size: 18px;\r\n          font-weight: bold;\r\n        }\r\n        \r\n        .main-content {\r\n          display: flex;\r\n          flex: 1;\r\n        }\r\n        \r\n        .sidebar {\r\n          width: 160px;\r\n          background: linear-gradient(to bottom, #4a6a8c, #3a5a7c);\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n        \r\n        .sidebar-btn {\r\n          padding: 12px 8px;\r\n          background: transparent;\r\n          color: white;\r\n          border: none;\r\n          border-bottom: 1px solid #2d4a6c;\r\n          cursor: pointer;\r\n          text-align: left;\r\n          font-size: 13px;\r\n        }\r\n        \r\n        .sidebar-btn:hover {\r\n          background: rgba(255,255,255,0.1);\r\n        }\r\n        \r\n        .sidebar-btn.active {\r\n          background: #5a7ca5;\r\n        }\r\n        \r\n        .content-area {\r\n          flex: 1;\r\n          padding: 15px 20px;\r\n          overflow-y: auto;\r\n        }\r\n        \r\n        .form-row {\r\n          display: flex;\r\n          gap: 30px;\r\n          margin-bottom: 20px;\r\n          align-items: flex-start;\r\n        }\r\n        \r\n        .form-field {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 5px;\r\n        }\r\n        \r\n        .field-label {\r\n          color: #1a3a5c;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .field-label.required::after {\r\n          content: '*';\r\n          color: #cc0000;\r\n          margin-left: 2px;\r\n        }\r\n        \r\n        .radio-group {\r\n          display: flex;\r\n          gap: 40px;\r\n          align-items: center;\r\n        }\r\n        \r\n        .radio-option {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          color: #1a3a5c;\r\n          font-size: 14px;\r\n          cursor: pointer;\r\n        }\r\n        \r\n        .radio-option input[type=\"radio\"] {\r\n          width: 18px;\r\n          height: 18px;\r\n          cursor: pointer;\r\n        }\r\n        \r\n        .time-field {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 5px;\r\n        }\r\n        \r\n        .time-label-row {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n        }\r\n        \r\n        .now-btn {\r\n          padding: 4px 16px;\r\n          background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);\r\n          border: 1px solid #808080;\r\n          border-radius: 3px;\r\n          cursor: pointer;\r\n          font-size: 12px;\r\n          color: #333;\r\n        }\r\n        \r\n        .now-btn:hover {\r\n          background: linear-gradient(to bottom, #d0d0d0, #b0b0b0);\r\n        }\r\n        \r\n        .time-input {\r\n          width: 200px;\r\n          padding: 8px 12px;\r\n          border: 1px solid #7a9cc0;\r\n          border-radius: 3px;\r\n          font-size: 14px;\r\n          background: linear-gradient(to bottom, #c8d8e8, #a8c0d8);\r\n          cursor: pointer;\r\n        }\r\n        \r\n        .time-input:focus {\r\n          outline: none;\r\n          border-color: #5a8ab8;\r\n        }\r\n        \r\n        .footer {\r\n          display: flex;\r\n          background: linear-gradient(to bottom, #4a6a8c, #3a5a7c);\r\n          padding: 8px;\r\n          gap: 5px;\r\n        }\r\n        \r\n        .footer-btn {\r\n          padding: 8px 16px;\r\n          background: linear-gradient(to bottom, #5a7a9c, #4a6a8c);\r\n          color: white;\r\n          border: 1px solid #2d4a6c;\r\n          border-radius: 3px;\r\n          cursor: pointer;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 2px;\r\n          min-width: 80px;\r\n        }\r\n        \r\n        .footer-btn:hover {\r\n          background: linear-gradient(to bottom, #6a8aac, #5a7a9c);\r\n        }\r\n        \r\n        .footer-right {\r\n          margin-left: auto;\r\n          display: flex;\r\n          gap: 10px;\r\n        }\r\n        \r\n        .prev-btn {\r\n          padding: 10px 25px;\r\n          background: linear-gradient(to bottom, #d4a84b, #c49a3d);\r\n          color: white;\r\n          border: 1px solid #a67c00;\r\n          border-radius: 3px;\r\n          cursor: pointer;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .prev-btn:hover {\r\n          background: linear-gradient(to bottom, #e4b85b, #d4a84b);\r\n        }\r\n        \r\n        .next-btn {\r\n          padding: 10px 30px;\r\n          background: linear-gradient(to bottom, #d4a84b, #c49a3d);\r\n          color: white;\r\n          border: 1px solid #a67c00;\r\n          border-radius: 3px;\r\n          cursor: pointer;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .next-btn:hover {\r\n          background: linear-gradient(to bottom, #e4b85b, #d4a84b);\r\n        }\r\n        \r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(0, 0, 0, 0.5);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n        }\r\n        \r\n        .modal {\r\n          background: #5a7ca5;\r\n          border: 2px solid #2d4a6c;\r\n          border-radius: 5px;\r\n          padding: 20px;\r\n          min-width: 300px;\r\n        }\r\n        \r\n        .modal-title {\r\n          color: white;\r\n          font-size: 16px;\r\n          margin-bottom: 15px;\r\n          text-align: center;\r\n        }\r\n        \r\n        .picker-row {\r\n          display: flex;\r\n          gap: 10px;\r\n          justify-content: center;\r\n          margin-bottom: 15px;\r\n        }\r\n        \r\n        .picker-column {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 5px;\r\n        }\r\n        \r\n        .picker-label {\r\n          color: white;\r\n          font-size: 12px;\r\n        }\r\n        \r\n        .picker-input {\r\n          width: 60px;\r\n          padding: 8px;\r\n          text-align: center;\r\n          font-size: 16px;\r\n          border: 1px solid #2d4a6c;\r\n          border-radius: 3px;\r\n        }\r\n        \r\n        .modal-buttons {\r\n          display: flex;\r\n          gap: 10px;\r\n          justify-content: center;\r\n        }\r\n        \r\n        .modal-btn {\r\n          padding: 8px 20px;\r\n          border-radius: 3px;\r\n          cursor: pointer;\r\n          font-size: 14px;\r\n        }\r\n        \r\n        .modal-btn.ok {\r\n          background: linear-gradient(to bottom, #4a9c4a, #3a8c3a);\r\n          color: white;\r\n          border: 1px solid #2a6c2a;\r\n        }\r\n        \r\n        .modal-btn.cancel {\r\n          background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);\r\n          color: #333;\r\n          border: 1px solid #808080;\r\n        }\r\n\r\n        /* Page 2 Canvas styles */\r\n        .canvas-container {\r\n          display: flex;\r\n          gap: 20px;\r\n          height: calc(100vh - 200px);\r\n        }\r\n\r\n        .canvas-left {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 10px;\r\n        }\r\n\r\n        .canvas-toolbar {\r\n          display: flex;\r\n          gap: 8px;\r\n          padding: 8px 12px;\r\n          background: linear-gradient(to bottom, #4a6a8c, #3a5a7c);\r\n          border-radius: 5px;\r\n          align-items: center;\r\n        }\r\n\r\n        .toolbar-btn {\r\n          width: 32px;\r\n          height: 32px;\r\n          background: linear-gradient(to bottom, #5a7a9c, #4a6a8c);\r\n          border: 1px solid #2d4a6c;\r\n          border-radius: 4px;\r\n          color: white;\r\n          cursor: pointer;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 16px;\r\n        }\r\n\r\n        .toolbar-btn:hover {\r\n          background: linear-gradient(to bottom, #6a8aac, #5a7a9c);\r\n        }\r\n\r\n        .back-label {\r\n          color: white;\r\n          font-size: 14px;\r\n          margin-left: 5px;\r\n        }\r\n\r\n        .canvas-wrapper {\r\n          flex: 1;\r\n          background: white;\r\n          border-radius: 5px;\r\n          overflow: hidden;\r\n          position: relative;\r\n        }\r\n\r\n        .body-canvas {\r\n          width: 100%;\r\n          height: 100%;\r\n          cursor: crosshair;\r\n        }\r\n\r\n        .navigation-toolbar {\r\n          display: flex;\r\n          gap: 8px;\r\n          padding: 8px 12px;\r\n          background: linear-gradient(to bottom, #4a6a8c, #3a5a7c);\r\n          border-radius: 5px;\r\n          justify-content: center;\r\n        }\r\n\r\n        .nav-arrow-btn {\r\n          width: 36px;\r\n          height: 36px;\r\n          background: linear-gradient(to bottom, #5a7a9c, #4a6a8c);\r\n          border: 1px solid #2d4a6c;\r\n          border-radius: 50%;\r\n          color: white;\r\n          cursor: pointer;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 18px;\r\n        }\r\n\r\n        .nav-arrow-btn:hover {\r\n          background: linear-gradient(to bottom, #6a8aac, #5a7a9c);\r\n        }\r\n\r\n        .injury-list {\r\n          display: grid;\r\n          grid-template-columns: 1fr 1fr;\r\n          gap: 8px;\r\n          flex: 1;\r\n        }\r\n\r\n        .injury-option {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 10px 15px;\r\n          background: linear-gradient(to bottom, #f0f0f0, #e0e0e0);\r\n          border: 1px solid #c0c0c0;\r\n          border-radius: 20px;\r\n          cursor: pointer;\r\n          font-size: 14px;\r\n          color: #333;\r\n        }\r\n\r\n        .injury-option:hover {\r\n          background: linear-gradient(to bottom, #e8e8e8, #d8d8d8);\r\n        }\r\n\r\n        .injury-option.selected {\r\n          background: linear-gradient(to bottom, #6a8aac, #5a7a9c);\r\n          color: white;\r\n          border-color: #3a5a7c;\r\n        }\r\n\r\n        .injury-option input[type=\"radio\"] {\r\n          width: 16px;\r\n          height: 16px;\r\n        }\r\n      `}</style>\r\n\r\n      <header className=\"header\">\r\n        <button className=\"nav-btn\" onClick={handleHome}>\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Home</span>\r\n        </button>\r\n        <button className=\"nav-btn\">\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Tools</span>\r\n        </button>\r\n        <button className=\"nav-btn\" onClick={handleAdminPanel}>\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Admin Panel</span>\r\n        </button>\r\n        <button className=\"nav-btn\" onClick={handleLogout}>\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Manage Crew</span>\r\n        </button>\r\n        <div className=\"header-right\">\r\n          <div className=\"patient-counter\">\r\n            <span className=\"patient-letter\">{patientLetter}</span>\r\n            <br />\r\n            {currentPage} of 2\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"main-content\">\r\n        <nav className=\"sidebar\">\r\n          <button className={`sidebar-btn${incompleteSections.includes('incident') ? ' incomplete' : ''}`} onClick={() => navigateTo('incident')}>Incident Information</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('patient-info') ? ' incomplete' : ''}`} onClick={() => navigateTo('patient-info')}>Patient Information</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('primary-survey') ? ' incomplete' : ''}`} onClick={() => navigateTo('primary-survey')}>Primary Survey</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('vital-obs') ? ' incomplete' : ''}`} onClick={() => navigateTo('vital-obs')}>Vital Obs / Treat</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('hx-complaint') ? ' incomplete' : ''}`} onClick={() => navigateTo('hx-complaint')}>Hx Complaint</button>\r\n          <button className={`sidebar-btn active${incompleteSections.includes('past-medical-history') ? ' incomplete' : ''}`}>Past Medical History</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('clinical-impression') ? ' incomplete' : ''}`} onClick={() => navigateTo('clinical-impression')}>Clinical Impression</button>\r\n          <button className={`sidebar-btn${incompleteSections.includes('disposition') ? ' incomplete' : ''}`} onClick={() => navigateTo('disposition')}>Disposition</button>\r\n          <button className=\"sidebar-btn\" onClick={() => navigateTo('media')}>Media</button>\r\n        </nav>\r\n\r\n        <main className=\"content-area\">\r\n          {currentPage === 1 && (\r\n            <>\r\n          {/* Past medical history */}\r\n          <div className=\"form-row\">\r\n            <div className=\"form-field\">\r\n              <label className={`field-label required ${hasFieldError('pastMedicalHistory') ? 'validation-error-label' : ''}`}>Past medical history</label>\r\n              <div className={`radio-group ${hasFieldError('pastMedicalHistory') ? 'validation-error-radio' : ''}`}>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"pastMedicalHistory\"\r\n                    value=\"None\"\r\n                    checked={formData.pastMedicalHistory === 'None'}\r\n                    onChange={(e) => handleRadioChange('pastMedicalHistory', e.target.value)}\r\n                  />\r\n                  None\r\n                </label>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"pastMedicalHistory\"\r\n                    value=\"Unknown\"\r\n                    checked={formData.pastMedicalHistory === 'Unknown'}\r\n                    onChange={(e) => handleRadioChange('pastMedicalHistory', e.target.value)}\r\n                  />\r\n                  Unknown\r\n                </label>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"pastMedicalHistory\"\r\n                    value=\"Referral letter\"\r\n                    checked={formData.pastMedicalHistory === 'Referral letter'}\r\n                    onChange={(e) => handleRadioChange('pastMedicalHistory', e.target.value)}\r\n                  />\r\n                  Referral letter\r\n                </label>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"pastMedicalHistory\"\r\n                    value=\"Other\"\r\n                    checked={formData.pastMedicalHistory === 'Other'}\r\n                    onChange={(e) => handleRadioChange('pastMedicalHistory', e.target.value)}\r\n                  />\r\n                  Other\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Medications */}\r\n          <div className=\"form-row\">\r\n            <div className=\"form-field\">\r\n              <label className={`field-label required ${hasFieldError('medications') ? 'validation-error-label' : ''}`}>Medications</label>\r\n              <div className={`radio-group ${hasFieldError('medications') ? 'validation-error-radio' : ''}`}>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"medications\"\r\n                    value=\"None\"\r\n                    checked={formData.medications === 'None'}\r\n                    onChange={(e) => handleRadioChange('medications', e.target.value)}\r\n                  />\r\n                  None\r\n                </label>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"medications\"\r\n                    value=\"Unknown\"\r\n                    checked={formData.medications === 'Unknown'}\r\n                    onChange={(e) => handleRadioChange('medications', e.target.value)}\r\n                  />\r\n                  Unknown\r\n                </label>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"medications\"\r\n                    value=\"Medication\"\r\n                    checked={formData.medications === 'Medication'}\r\n                    onChange={(e) => handleRadioChange('medications', e.target.value)}\r\n                  />\r\n                  Medication\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Allergies */}\r\n          <div className=\"form-row\">\r\n            <div className=\"form-field\">\r\n              <label className={`field-label required ${hasFieldError('allergies') ? 'validation-error-label' : ''}`}>Allergies</label>\r\n              <div className={`radio-group ${hasFieldError('allergies') ? 'validation-error-radio' : ''}`}>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"allergies\"\r\n                    value=\"NKA\"\r\n                    checked={formData.allergies === 'NKA'}\r\n                    onChange={(e) => handleRadioChange('allergies', e.target.value)}\r\n                  />\r\n                  NKA\r\n                </label>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"allergies\"\r\n                    value=\"Unknown\"\r\n                    checked={formData.allergies === 'Unknown'}\r\n                    onChange={(e) => handleRadioChange('allergies', e.target.value)}\r\n                  />\r\n                  Unknown\r\n                </label>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"allergies\"\r\n                    value=\"Allergies\"\r\n                    checked={formData.allergies === 'Allergies'}\r\n                    onChange={(e) => handleRadioChange('allergies', e.target.value)}\r\n                  />\r\n                  Allergies\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Last oral intake */}\r\n          <div className=\"form-row\">\r\n            <div className=\"form-field\">\r\n              <label className={`field-label required ${hasFieldError('lastOralIntake') ? 'validation-error-label' : ''}`}>Last oral intake</label>\r\n              <div className={`radio-group ${hasFieldError('lastOralIntake') ? 'validation-error-radio' : ''}`}>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"lastOralIntake\"\r\n                    value=\"Unknown\"\r\n                    checked={formData.lastOralIntake === 'Unknown'}\r\n                    onChange={(e) => handleRadioChange('lastOralIntake', e.target.value)}\r\n                  />\r\n                  Unknown\r\n                </label>\r\n                <label className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"lastOralIntake\"\r\n                    value=\"Other\"\r\n                    checked={formData.lastOralIntake === 'Other'}\r\n                    onChange={(e) => handleRadioChange('lastOralIntake', e.target.value)}\r\n                  />\r\n                  Other\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"time-field\">\r\n              <div className=\"time-label-row\">\r\n                <label className=\"field-label\">Time</label>\r\n                <button className=\"now-btn\" onClick={handleSetTimeNow}>Now</button>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                className=\"time-input\"\r\n                value={formData.lastOralIntakeTime}\r\n                onClick={openTimePicker}\r\n                readOnly\r\n                placeholder=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n            </>\r\n          )}\r\n\r\n          {currentPage === 2 && (\r\n            <div className=\"canvas-container\">\r\n              <div className=\"canvas-left\">\r\n                <div className=\"canvas-toolbar\">\r\n                  <button className=\"toolbar-btn\" onClick={handleZoomIn} title=\"Zoom In\">+</button>\r\n                  <button className=\"toolbar-btn\" onClick={handleZoomOut} title=\"Zoom Out\">-</button>\r\n                  <button className=\"toolbar-btn\" onClick={handleUndo} title=\"Undo\"></button>\r\n                  <button className=\"toolbar-btn\" onClick={handleRedo} title=\"Redo\"></button>\r\n                  <button className=\"toolbar-btn\" onClick={handleClear} title=\"Clear\"></button>\r\n                  <span className=\"back-label\">Back</span>\r\n                </div>\r\n\r\n                <div className=\"canvas-wrapper\">\r\n                  <canvas\r\n                    ref={canvasRef}\r\n                    className=\"body-canvas\"\r\n                    width={400}\r\n                    height={500}\r\n                    onMouseDown={handleCanvasMouseDown}\r\n                    onMouseMove={handleCanvasMouseMove}\r\n                    onMouseUp={handleCanvasMouseUp}\r\n                    onMouseLeave={handleCanvasMouseUp}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"navigation-toolbar\">\r\n                  <button className=\"nav-arrow-btn\" onClick={handleMoveUp} title=\"Move Up\"></button>\r\n                  <button className=\"nav-arrow-btn\" onClick={handleMoveDown} title=\"Move Down\"></button>\r\n                  <button className=\"nav-arrow-btn\" onClick={handleCenter} title=\"Center\"></button>\r\n                  <button className=\"nav-arrow-btn\" onClick={handleMoveLeft} title=\"Move Left\"></button>\r\n                  <button className=\"nav-arrow-btn\" onClick={handleMoveRight} title=\"Move Right\"></button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"injury-list\">\r\n                {injuryTypes.map((injury) => (\r\n                  <label\r\n                    key={injury}\r\n                    className={`injury-option ${selectedInjury === injury ? 'selected' : ''}`}\r\n                    onClick={() => setSelectedInjury(injury)}\r\n                  >\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"injury\"\r\n                      value={injury}\r\n                      checked={selectedInjury === injury}\r\n                      onChange={() => setSelectedInjury(injury)}\r\n                    />\r\n                    {injury}\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </main>\r\n      </div>\r\n\r\n      <footer className=\"footer\">\r\n        <button className=\"footer-btn\">\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Internet</span>\r\n        </button>\r\n        <button className=\"footer-btn\">\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Server</span>\r\n        </button>\r\n        <button className=\"footer-btn\" onClick={handleAddPatientClick}>\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Add Patient</span>\r\n        </button>\r\n        <button className=\"footer-btn\" onClick={handleTransferClick}>\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Transfer ePRF</span>\r\n        </button>\r\n        <button className=\"footer-btn\" onClick={handleSubmitEPRF}>\r\n          <span className=\"nav-icon\"></span>\r\n          <span className=\"nav-text\">Submit ePRF</span>\r\n        </button>\r\n        <div className=\"footer-right\">\r\n          <button className=\"prev-btn\" onClick={handlePrevious}>&lt; Previous</button>\r\n          <button className=\"next-btn\" onClick={handleNext}>Next &gt;</button>\r\n        </div>\r\n      </footer>\r\n\r\n      {/* Time Picker Modal */}\r\n      {showTimePicker && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowTimePicker(false)}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-title\">Select Time</div>\r\n            <div className=\"picker-row\">\r\n              <div className=\"picker-column\">\r\n                <label className=\"picker-label\">Hour</label>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"picker-input\"\r\n                  min=\"0\"\r\n                  max=\"23\"\r\n                  value={pickerHour}\r\n                  onChange={(e) => setPickerHour(Math.min(23, Math.max(0, parseInt(e.target.value) || 0)))}\r\n                />\r\n              </div>\r\n              <div className=\"picker-column\">\r\n                <label className=\"picker-label\">Minute</label>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"picker-input\"\r\n                  min=\"0\"\r\n                  max=\"59\"\r\n                  value={pickerMinute}\r\n                  onChange={(e) => setPickerMinute(Math.min(59, Math.max(0, parseInt(e.target.value) || 0)))}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-buttons\">\r\n              <button className=\"modal-btn ok\" onClick={handleSetTime}>OK</button>\r\n              <button className=\"modal-btn cancel\" onClick={() => setShowTimePicker(false)}>Cancel</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Confirmation Modals */}\r\n      <ConfirmationModal\r\n        isOpen={showAddPatientModal}\r\n        onClose={() => setShowAddPatientModal(false)}\r\n        onConfirm={confirmAddPatient}\r\n        title=\"Add New Patient\"\r\n        message={`Are you sure you want to save Patient ${patientLetter} and start a new patient record?\\n\\nThis will:\\n Save all current patient data\\n Create a new patient record (Patient ${String.fromCharCode(patientLetter.charCodeAt(0) + 1)})\\n Clear the form for the new patient`}\r\n        confirmText=\"Yes, Add Patient\"\r\n        cancelText=\"Cancel\"\r\n        type=\"info\"\r\n        isLoading={isSubmitting}\r\n      />\r\n\r\n      <ConfirmationModal\r\n        isOpen={showSubmitModal}\r\n        onClose={() => setShowSubmitModal(false)}\r\n        onConfirm={confirmSubmitEPRF}\r\n        title=\"Submit ePRF\"\r\n        message={`Are you sure you want to submit the ePRF for Patient ${patientLetter}?\\n\\nThis will:\\n Generate a PDF copy for your records\\n Submit the data to the server\\n Mark this ePRF as complete`}\r\n        confirmText=\"Yes, Submit ePRF\"\r\n        cancelText=\"Cancel\"\r\n        type=\"success\"\r\n        isLoading={isSubmitting}\r\n      />\r\n\r\n      <ValidationErrorModal\r\n        isOpen={showValidationErrorModal}\r\n        onClose={() => setShowValidationErrorModal(false)}\r\n        errors={validationErrors}\r\n        getSectionDisplayName={getSectionDisplayName}\r\n      />\r\n\r\n      <SuccessModal\r\n        isOpen={showSuccessModal}\r\n        onClose={() => setShowSuccessModal(false)}\r\n        title={successMessage.title}\r\n        message={successMessage.message}\r\n      />\r\n\r\n      <TransferModal\r\n        isOpen={showTransferModal}\r\n        onClose={() => setShowTransferModal(false)}\r\n        onTransferComplete={handleTransferComplete}\r\n        incidentId={incidentId}\r\n        patientLetter={patientLetter}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":["module","exports","require","_self___RSC_MANIFEST","tree","children","page","Promise","resolve","then","__webpack_require__","bind","pages","originalPathname","__next_app__","loadChunk","routeModule","module_compiled","AppPageRouteModule","definition","kind","route_kind","x","APP_PAGE","pathname","bundlePath","filename","appPaths","userland","loaderTree","maybeJSONParse","str","JSON","parse","undefined","buildManifest","self","__BUILD_MANIFEST","reactLoadableManifest","__REACT_LOADABLE_MANIFEST","rscManifest","__RSC_MANIFEST","rscServerManifest","__RSC_SERVER_MANIFEST","nextFontManifest","__NEXT_FONT_MANIFEST","interceptionRouteRewrites","__INTERCEPTION_ROUTE_REWRITE_MANIFEST","encryption_utils","Mo","clientReferenceManifest","serverActionsManifest","serverModuleMap","action_utils","w","pageName","page_stringifiedConfig_eyJlbnYiOnt9LCJ3ZWJwYWNrIjpudWxsLCJlc2xpbnQiOnsiaWdub3JlRHVyaW5nQnVpbGRzIjpmYWxzZX0sInR5cGVzY3JpcHQiOnsiaWdub3JlQnVpbGRFcnJvcnMiOmZhbHNlLCJ0c2NvbmZpZ1BhdGgiOiJ0c2NvbmZpZy5qc29uIn0sImRpc3REaXIiOiIubmV4dCIsImNsZWFuRGlzdERpciI6dHJ1ZSwiYXNzZXRQcmVmaXgiOiIiLCJjYWNoZU1heE1lbW9yeVNpemUiOjUyNDI4ODAwLCJjb25maWdPcmlnaW4iOiJuZXh0LmNvbmZpZy5qcyIsInVzZUZpbGVTeXN0ZW1QdWJsaWNSb3V0ZXMiOnRydWUsImdlbmVyYXRlRXRhZ3MiOnRydWUsInBhZ2VFeHRlbnNpb25zIjpbInRzeCIsInRzIiwianN4IiwianMiXSwicG93ZXJlZEJ5SGVhZGVyIjp0cnVlLCJjb21wcmVzcyI6dHJ1ZSwiYW5hbHl0aWNzSWQiOiIiLCJpbWFnZXMiOnsiZGV2aWNlU2l6ZXMiOls2NDAsNzUwLDgyOCwxMDgwLDEyMDAsMTkyMCwyMDQ4LDM4NDBdLCJpbWFnZVNpemVzIjpbMTYsMzIsNDgsNjQsOTYsMTI4LDI1NiwzODRdLCJwYXRoIjoiL19uZXh0L2ltYWdlIiwibG9hZGVyIjoiZGVmYXVsdCIsImxvYWRlckZpbGUiOiIiLCJkb21haW5zIjpbXSwiZGlzYWJsZVN0YXRpY0ltYWdlcyI6ZmFsc2UsIm1pbmltdW1DYWNoZVRUTCI6NjAsImZvcm1hdHMiOlsiaW1hZ2Uvd2VicCJdLCJkYW5nZXJvdXNseUFsbG93U1ZHIjpmYWxzZSwiY29udGVudFNlY3VyaXR5UG9saWN5Ijoic2NyaXB0LXNyYyAnbm9uZSc7IGZyYW1lLXNyYyAnbm9uZSc7IHNhbmRib3g7IiwiY29udGVudERpc3Bvc2l0aW9uVHlwZSI6ImlubGluZSIsInJlbW90ZVBhdHRlcm5zIjpbXSwidW5vcHRpbWl6ZWQiOmZhbHNlfSwiZGV2SW5kaWNhdG9ycyI6eyJidWlsZEFjdGl2aXR5Ijp0cnVlLCJidWlsZEFjdGl2aXR5UG9zaXRpb24iOiJib3R0b20tcmlnaHQifSwib25EZW1hbmRFbnRyaWVzIjp7Im1heEluYWN0aXZlQWdlIjo2MDAwMCwicGFnZXNCdWZmZXJMZW5ndGgiOjV9LCJhbXAiOnsiY2Fub25pY2FsQmFzZSI6IiJ9LCJiYXNlUGF0aCI6IiIsInNhc3NPcHRpb25zIjp7fSwidHJhaWxpbmdTbGFzaCI6ZmFsc2UsImkxOG4iOm51bGwsInByb2R1Y3Rpb25Ccm93c2VyU291cmNlTWFwcyI6ZmFsc2UsIm9wdGltaXplRm9udHMiOnRydWUsImV4Y2x1ZGVEZWZhdWx0TW9tZW50TG9jYWxlcyI6dHJ1ZSwic2VydmVyUnVudGltZUNvbmZpZyI6e30sInB1YmxpY1J1bnRpbWVDb25maWciOnt9LCJyZWFjdFByb2R1Y3Rpb25Qcm9maWxpbmciOmZhbHNlLCJyZWFjdFN0cmljdE1vZGUiOm51bGwsImh0dHBBZ2VudE9wdGlvbnMiOnsia2VlcEFsaXZlIjp0cnVlfSwib3V0cHV0RmlsZVRyYWNpbmciOnRydWUsInN0YXRpY1BhZ2VHZW5lcmF0aW9uVGltZW91dCI6NjAsInN3Y01pbmlmeSI6dHJ1ZSwibW9kdWxhcml6ZUltcG9ydHMiOnsiQG11aS9pY29ucy1tYXRlcmlhbCI6eyJ0cmFuc2Zvcm0iOiJAbXVpL2ljb25zLW1hdGVyaWFsL3t7bWVtYmVyfX0ifSwibG9kYXNoIjp7InRyYW5zZm9ybSI6ImxvZGFzaC97e21lbWJlcn19In19LCJleHBlcmltZW50YWwiOnsibXVsdGlab25lRHJhZnRNb2RlIjpmYWxzZSwicHJlcmVuZGVyRWFybHlFeGl0IjpmYWxzZSwic2VydmVyTWluaWZpY2F0aW9uIjp0cnVlLCJzZXJ2ZXJTb3VyY2VNYXBzIjpmYWxzZSwibGlua05vVG91Y2hTdGFydCI6ZmFsc2UsImNhc2VTZW5zaXRpdmVSb3V0ZXMiOmZhbHNlLCJjbGllbnRSb3V0ZXJGaWx0ZXIiOnRydWUsImNsaWVudFJvdXRlckZpbHRlclJlZGlyZWN0cyI6ZmFsc2UsImZldGNoQ2FjaGVLZXlQcmVmaXgiOiIiLCJtaWRkbGV3YXJlUHJlZmV0Y2giOiJmbGV4aWJsZSIsIm9wdGltaXN0aWNDbGllbnRDYWNoZSI6dHJ1ZSwibWFudWFsQ2xpZW50QmFzZVBhdGgiOmZhbHNlLCJjcHVzIjoxMSwibWVtb3J5QmFzZWRXb3JrZXJzQ291bnQiOmZhbHNlLCJpc3JGbHVzaFRvRGlzayI6dHJ1ZSwid29ya2VyVGhyZWFkcyI6ZmFsc2UsIm9wdGltaXplQ3NzIjpmYWxzZSwibmV4dFNjcmlwdFdvcmtlcnMiOmZhbHNlLCJzY3JvbGxSZXN0b3JhdGlvbiI6ZmFsc2UsImV4dGVybmFsRGlyIjpmYWxzZSwiZGlzYWJsZU9wdGltaXplZExvYWRpbmciOmZhbHNlLCJnemlwU2l6ZSI6dHJ1ZSwiY3JhQ29tcGF0IjpmYWxzZSwiZXNtRXh0ZXJuYWxzIjp0cnVlLCJmdWxseVNwZWNpZmllZCI6ZmFsc2UsIm91dHB1dEZpbGVUcmFjaW5nUm9vdCI6IkM6XFxVc2Vyc1xcVG9ieVxcRG93bmxvYWRzXFxub2RlLXYyNC4xMS4xLXdpbi14NjRcXGFwcDEyMyIsInN3Y1RyYWNlUHJvZmlsaW5nIjpmYWxzZSwiZm9yY2VTd2NUcmFuc2Zvcm1zIjpmYWxzZSwibGFyZ2VQYWdlRGF0YUJ5dGVzIjoxMjgwMDAsImFkanVzdEZvbnRGYWxsYmFja3MiOmZhbHNlLCJhZGp1c3RGb250RmFsbGJhY2tzV2l0aFNpemVBZGp1c3QiOmZhbHNlLCJ0eXBlZFJvdXRlcyI6ZmFsc2UsImluc3RydW1lbnRhdGlvbkhvb2siOmZhbHNlLCJidW5kbGVQYWdlc0V4dGVybmFscyI6ZmFsc2UsInBhcmFsbGVsU2VydmVyQ29tcGlsZXMiOmZhbHNlLCJwYXJhbGxlbFNlcnZlckJ1aWxkVHJhY2VzIjpmYWxzZSwicHByIjpmYWxzZSwibWlzc2luZ1N1c3BlbnNlV2l0aENTUkJhaWxvdXQiOnRydWUsIm9wdGltaXplU2VydmVyUmVhY3QiOnRydWUsInVzZUVhcmx5SW1wb3J0IjpmYWxzZSwic3RhbGVUaW1lcyI6eyJkeW5hbWljIjozMCwic3RhdGljIjozMDB9LCJvcHRpbWl6ZVBhY2thZ2VJbXBvcnRzIjpbImx1Y2lkZS1yZWFjdCIsImRhdGUtZm5zIiwibG9kYXNoLWVzIiwicmFtZGEiLCJhbnRkIiwicmVhY3QtYm9vdHN0cmFwIiwiYWhvb2tzIiwiQGFudC1kZXNpZ24vaWNvbnMiLCJAaGVhZGxlc3N1aS9yZWFjdCIsIkBoZWFkbGVzc3VpLWZsb2F0L3JlYWN0IiwiQGhlcm9pY29ucy9yZWFjdC8yMC9zb2xpZCIsIkBoZXJvaWNvbnMvcmVhY3QvMjQvc29saWQiLCJAaGVyb2ljb25zL3JlYWN0LzI0L291dGxpbmUiLCJAdmlzeC92aXN4IiwiQHRyZW1vci9yZWFjdCIsInJ4anMiLCJAbXVpL21hdGVyaWFsIiwiQG11aS9pY29ucy1tYXRlcmlhbCIsInJlY2hhcnRzIiwicmVhY3QtdXNlIiwiQG1hdGVyaWFsLXVpL2NvcmUiLCJAbWF0ZXJpYWwtdWkvaWNvbnMiLCJAdGFibGVyL2ljb25zLXJlYWN0IiwibXVpLWNvcmUiLCJyZWFjdC1pY29ucy9haSIsInJlYWN0LWljb25zL2JpIiwicmVhY3QtaWNvbnMvYnMiLCJyZWFjdC1pY29ucy9jZyIsInJlYWN0LWljb25zL2NpIiwicmVhY3QtaWNvbnMvZGkiLCJyZWFjdC1pY29ucy9mYSIsInJlYWN0LWljb25zL2ZhNiIsInJlYWN0LWljb25zL2ZjIiwicmVhY3QtaWNvbnMvZmkiLCJyZWFjdC1pY29ucy9naSIsInJlYWN0LWljb25zL2dvIiwicmVhY3QtaWNvbnMvZ3IiLCJyZWFjdC1pY29ucy9oaSIsInJlYWN0LWljb25zL2hpMiIsInJlYWN0LWljb25zL2ltIiwicmVhY3QtaWNvbnMvaW8iLCJyZWFjdC1pY29ucy9pbzUiLCJyZWFjdC1pY29ucy9saWEiLCJyZWFjdC1pY29ucy9saWIiLCJyZWFjdC1pY29ucy9sdSIsInJlYWN0LWljb25zL21kIiwicmVhY3QtaWNvbnMvcGkiLCJyZWFjdC1pY29ucy9yaSIsInJlYWN0LWljb25zL3J4IiwicmVhY3QtaWNvbnMvc2kiLCJyZWFjdC1pY29ucy9zbCIsInJlYWN0LWljb25zL3RiIiwicmVhY3QtaWNvbnMvdGZpIiwicmVhY3QtaWNvbnMvdGkiLCJyZWFjdC1pY29ucy92c2MiLCJyZWFjdC1pY29ucy93aSJdfSwiY29uZmlnRmlsZSI6IkM6XFxVc2Vyc1xcVG9ieVxcRG93bmxvYWRzXFxub2RlLXYyNC4xMS4xLXdpbi14NjRcXGFwcDEyM1xcbmV4dC5jb25maWcuanMiLCJjb25maWdGaWxlTmFtZSI6Im5leHQuY29uZmlnLmpzIn0_pagesType_app_appDirLoader_bmV4dC1hcHAtbG9hZGVyP25hbWU9YXBwJTJGcGFzdC1tZWRpY2FsLWhpc3RvcnklMkZwYWdlJnBhZ2U9JTJGcGFzdC1tZWRpY2FsLWhpc3RvcnklMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFzdC1tZWRpY2FsLWhpc3RvcnklMkZwYWdlLnRzeCZhcHBEaXI9QyUzQSU1Q1VzZXJzJTVDVG9ieSU1Q0Rvd25sb2FkcyU1Q25vZGUtdjI0LjExLjEtd2luLXg2NCU1Q2FwcDEyMyU1Q2FwcCZhcHBQYXRocz0lMkZwYXN0LW1lZGljYWwtaGlzdG9yeSUyRnBhZ2UmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0Qh_sriEnabled_false_middlewareConfig_e30_render","render","d","pagesType","page_types","s","APP","dev","appMod","pageMod","page_next_edge_ssr_entry_namespaceObject","errorMod","error500Mod","Document","renderToHTML","app_render","f","serverActions","subresourceIntegrityManifest","config","buildId","process","env","__NEXT_BUILD_ID","incrementalCacheHandler","ComponentMod","nHandler","opts","adapter","C","IncrementalCache","incremental_cache","k","handler","runtime","PastMedicalHistoryPage","searchParams","useSearchParams","router","useRouter","incidentId","get","fleetId","incompleteSections","setIncompleteSections","useState","patientLetter","setPatientLetter","showAddPatientModal","setShowAddPatientModal","showSubmitModal","setShowSubmitModal","showValidationErrorModal","setShowValidationErrorModal","showSuccessModal","setShowSuccessModal","showTransferModal","setShowTransferModal","validationErrors","setValidationErrors","isSubmitting","setIsSubmitting","successMessage","setSuccessMessage","title","message","currentPage","setCurrentPage","formData","setFormData","pastMedicalHistory","medications","allergies","lastOralIntake","lastOralIntakeTime","showTimePicker","setShowTimePicker","pickerHour","setPickerHour","pickerMinute","setPickerMinute","canvasRef","useRef","selectedInjury","setSelectedInjury","canvasOffset","setCanvasOffset","y","zoom","setZoom","isDrawing","setIsDrawing","currentLine","setCurrentLine","drawnLines","setDrawnLines","history","setHistory","historyIndex","setHistoryIndex","handleHome","params","URLSearchParams","push","navigateTo","id","section","confirmSubmitEPRF","result","submitEPRFService","success","validationResult","fieldErrors","error","console","alert","confirmAddPatient","addPatientService","newLetter","setTimeout","hasFieldError","includes","field","handleRadioChange","value","prev","useCallback","canvas","current","ctx","getContext","fillStyle","fillRect","width","height","save","translate","scale","strokeStyle","lineWidth","beginPath","ellipse","Math","PI","fill","stroke","moveTo","lineTo","closePath","restore","forEach","line","points","length","i","font","fillText","label","labelPosition","handleCanvasMouseUp","newLines","newHistory","slice","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","header","button","onClick","jsx","span","user","getCurrentUser","isAdmin","discordId","br","nav","main","Fragment","input","type","name","checked","onChange","e","target","now","Date","hours","String","getHours","padStart","minutes","getMinutes","readOnly","placeholder","min","max","ref","onMouseDown","rect","getBoundingClientRect","clientX","left","clientY","top","onMouseMove","onMouseUp","onMouseLeave","injuryTypes","map","injury","footer","validateAllSections","isValid","stopPropagation","parseInt","formatted","ConfirmationModal","isOpen","onClose","onConfirm","fromCharCode","charCodeAt","confirmText","cancelText","isLoading","ValidationErrorModal","errors","getSectionDisplayName","SuccessModal","TransferModal","onTransferComplete","transferAllPatients","targetUser","callsign"],"sourceRoot":""}