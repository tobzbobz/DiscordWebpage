{"version":3,"file":"app/dashboard/page.js","mappings":"oFAAAA,CAAAA,EAAAC,OAAA,CAAAC,QAAA,0CCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,iGEAAC,uwBDKA,IAAAC,EACA,CACA,GACA,CACAC,SAAA,CACA,YACA,CACAA,SAAA,eAAiC,CACjCC,KAAA,KAAuBC,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,OAAwH,wFAEtI,EAET,CAGA,EACA,EAEA,CACA,YAAyBH,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,OAA+G,8EACxI,iBAAoBH,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,OAAgF,gDAGpG,CAEAE,EAAA,wFAKOC,EAAA,kBACAC,EAAA,CACPZ,QAJ6BQ,EAK7BK,UAJA,IAAAR,QAAAC,OAAA,EAKA,EAGOQ,EAAA,IAAwBC,EAAAC,kBAAkB,EACjDC,WAAA,CACAC,KAAcC,EAAAC,CAAS,CAAAC,QAAA,CACvBjB,KAAA,kBACAkB,SAAA,aAEAC,WAAA,GACAC,SAAA,GACAC,SAAA,IAEAC,SAAA,CACAC,WAAAzB,CACA,CACA,oCCnCA,IAAA0B,EAAA,GAAAC,EAAAC,KAAAC,KAAA,CAAAF,GAAAG,KAAAA,EACAC,EAAAC,KAAAC,gBAAA,CACAC,EAAAR,EAAAM,KAAAG,yBAAA,EACAC,EAAA,MAAArC,CAAAA,EAAAiC,KAAAK,cAAA,SAAAtC,CAAA,oBACAuC,EAAAZ,EAAAM,KAAAO,qBAAA,EAEAC,EAAAd,EAAAM,KAAAS,oBAAA,EACAC,EAAAhB,EAAAM,KAAAW,qCAAA,MACAP,GAAAE,GACI,GAAAM,EAAAC,EAAA,EAA8B,CAClCC,wBAAAV,EACAW,sBAAAT,EACAU,gBAAyB,GAAAC,EAAAC,CAAA,EAAqB,CAC9CH,sBAAAT,EACAa,SAAA,iBACA,EACA,GAEA,IAAMC,EAAS,GAAAC,EAAAC,CAAA,EAAS,CACxBC,UAAeC,EAAAC,CAAU,CAAAC,GAAA,CACzBC,IAvBA,GAwBAzD,KAAA,kBACA0D,OA9BA,KA+BAC,QAAWC,EACXC,SA/BA,KAgCAC,YA/BA,KAgCAC,SAnCA,KAoCAlC,cAAAA,EACAmC,aAAgBC,EAAAC,CAAA,CAChBlC,sBAAAA,EACAY,wBAAAV,EACAW,sBAAAT,EACA+B,cAlCAvC,KAAAA,EAmCAwC,6BA5BAxC,KAAAA,EA6BAyC,OAnCA,CAAoB,OAAQ,qBAA0B,uBAA2B,YAAe,mDAAyD,oPAAuR,uTAAiV,kEAA4E,eAAkB,uDAA4D,iBAAoB,wCAA6C,KAAQ,kBAAmB,2BAA+B,iIAAuJ,uBAAyB,mEAA6E,cAAiB,oFAAiG,uBAAuB,0CAA2C,EAAE,QAAW,6BAA8B,GAAG,cAAiB,o6BAAwlC,uBAA0B,o9BAAs9B,wHAoC9kHC,QAAAC,QAAAC,GAAA,CAAAC,eAAA,CACAnC,iBAAAA,EACAoC,wBA/CA,KAgDAlC,0BAAAA,CACA,GACOmC,EAAqBf,EACb,SAAAgB,EAAAC,CAAA,EACf,MAAW,GAAAC,EAAAC,CAAA,EAAO,CAClB,GAAAF,CAAA,CACAG,iBAAwBC,EAAAC,CAAA,CACxBC,QAAiBjC,CACjB,EACA,kBCnEAjD,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,2KCiBO,IAAMgF,EAAU,OAER,SAASC,IACtB,IAAMC,EAAeC,CAAAA,EAAAA,EAAAA,EAAAA,IACfC,EAASC,CAAAA,EAAAA,EAAAA,EAAAA,IACTC,EAAUJ,GAAcK,IAAI,YAAc,GAE1C,CAACC,EAAaC,EAAe,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAsB,MACtD,CAACC,EAAYC,EAAc,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAsB,EAAE,EACtD,CAACG,EAAWC,EAAa,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACrC,CAACK,EAAaC,EAAe,CAAGN,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACzC,CAACO,EAAgBC,EAAkB,CAAGR,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,QAC/C,CAACS,EAAYC,EAAc,CAAGV,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,OACvC,CAACW,EAAUC,EAAY,CAAGZ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnC,CAACa,EAAYC,EAAc,CAAGd,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,KAGvC,CAACe,EAAaC,EAAe,CAAGhB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACzC,CAACiB,EAAcC,EAAgB,CAAGlB,CAAAA,EAAAA,EAAAA,QAAAA,EAA4C,OAC9E,CAACmB,EAAUC,EAAY,CAAGpB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnC,CAACqB,EAAQC,EAAU,CAAGtB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC/B,CAACuB,EAAaC,EAAe,CAAGxB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAGzC,CAACyB,EAAiBC,EAAmB,CAAG1B,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjD,CAAC2B,EAAcC,EAAgB,CAAG5B,CAAAA,EAAAA,EAAAA,QAAAA,EAA+D,MACjG,CAAC6B,EAAYC,EAAc,CAAG9B,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEvC+B,EAAkBC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,MAAOC,IACzC7B,EAAa,IACb,GAAI,CAKF,IAAI8B,EAHY,MAAMC,CAAAA,EAAAA,EAAAA,mBAAAA,EAAoBF,GAO1C,GAHqB,QAAjBhB,GACFiB,CAAAA,EAAkBA,EAAgBE,MAAM,CAACC,GAAKA,EAAEC,MAAM,GAAKrB,EAAAA,EAEzDE,EAAU,CACZ,IAAMoB,EAAW,IAAIC,KAAKrB,GAAUsB,OAAO,GAC3CP,EAAkBA,EAAgBE,MAAM,CAACC,GAAK,IAAIG,KAAKH,EAAEK,SAAS,EAAED,OAAO,IAAMF,EACnF,CACA,GAAIlB,EAAQ,CACV,IAAMsB,EAAS,IAAIH,KAAKnB,GAAQoB,OAAO,GAAM,MAC7CP,EAAkBA,EAAgBE,MAAM,CAACC,GAAK,IAAIG,KAAKH,EAAEK,SAAS,EAAED,OAAO,IAAME,EACnF,CACA,GAAI5B,EAAY6B,IAAI,GAAI,CACtB,IAAMC,EAAI9B,EAAY+B,WAAW,GACjCZ,EAAkBA,EAAgBE,MAAM,CAACC,GACvCA,EAAEU,UAAU,CAACD,WAAW,GAAGE,QAAQ,CAACH,IACpCR,EAAEY,aAAa,CAACH,WAAW,GAAGE,QAAQ,CAACH,IACvCR,EAAEa,cAAc,CAACJ,WAAW,GAAGE,QAAQ,CAACH,GAE5C,CAEA,IAAMM,EAASC,CAAAA,EAAAA,EAAAA,oBAAAA,EAAqBlB,GACpChC,EAAciD,EAChB,CAAE,MAAOE,EAAO,CACdC,QAAQD,KAAK,CAAC,+BAAgCA,GAO9C,IAAME,EAAUC,CAAAA,EAAAA,EAAAA,WAAAA,EAAYvB,EAAWlB,EALvB,CACduB,OAAQrB,EACRE,SAAUA,GAAYrF,KAAAA,EACtBuF,OAAQA,GAAUvF,KAAAA,CACpB,GAGAoE,EADekD,CAAAA,EAAAA,EAAAA,oBAAAA,EAAqBG,GAEtC,QAAU,CACRnD,EAAa,GACf,CACF,EAAG,CAACa,EAAcE,EAAUE,EAAQN,EAAY,EA6B1C0C,EAAgB,KACpBnD,EAAe,GACjB,EAQMoD,EAAmB,KACvBpD,EAAe,GACjB,EAYMqD,EAAa,IACjBjE,EAAOkE,IAAI,CAAC,CAAC,aAAa,EAAEC,mBAAmBC,EAAOf,UAAU,EAAE,SAAS,EAAEc,mBAAmBC,EAAOlE,OAAO,EAAE,CAAC,CACnH,EAEMmE,EAAa,IACjBrE,EAAOkE,IAAI,CAAC,CAAC,aAAa,EAAEC,mBAAmBC,EAAOf,UAAU,EAAE,SAAS,EAAEc,mBAAmBC,EAAOlE,OAAO,EAAE,cAAc,CAAC,CACjI,EAEMoE,EAAiB,IACrB,IAAMC,EAAOC,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBJ,EAAOf,UAAU,CAAEe,EAAOb,aAAa,EACpEkB,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBF,EAClB,EAEMG,EAAoB,IACxBxC,EAAgB,CAAEmB,WAAYe,EAAOf,UAAU,CAAEE,cAAea,EAAOb,aAAa,GACpFvB,EAAmB,GACrB,EAEM2C,EAAgB,UACpB,GAAI1C,EAAc,CAChBG,EAAc,IACd,GAAI,CACF,MAAMwC,CAAAA,EAAAA,EAAAA,qBAAAA,EAAsB3C,EAAaoB,UAAU,CAAEpB,EAAasB,aAAa,EAC3EnD,GACF,MAAMiC,EAAgBjC,EAAYmC,SAAS,CAE/C,CAAE,MAAOoB,EAAO,CACdC,QAAQD,KAAK,CAAC,oBAAqBA,EACrC,QAAU,CACRvB,EAAc,IACdJ,EAAmB,IACnBE,EAAgB,KAClB,CACF,CACF,EAUM2C,EAAmBtE,EAAWmC,MAAM,CAACoC,GAAK,CAACA,EAAEC,WAAW,EACxDC,EAAiBzE,EAAWmC,MAAM,CAACoC,GAAKA,EAAEC,WAAW,EAE3D,MACE,GAAAE,EAAAC,IAAA,EAACC,MAAAA,yybA8cC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,4DACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,uDACC,GAAAF,EAAAG,GAAA,EAACC,KAAAA,0CAAG,mBACJ,GAAAJ,EAAAC,IAAA,EAACI,IAAAA,2CAAE,iBAAelF,GAAamF,UAAYrF,QAE7C,GAAA+E,EAAAC,IAAA,EAACC,MAAAA,wDACE/E,GAAeoF,CAAAA,EAAAA,EAAAA,EAAAA,EAAQpF,EAAYmC,SAAS,GAC3C,GAAA0C,EAAAG,GAAA,EAACK,SAAAA,CAAwCC,QAAS,IAAM1F,EAAOkE,IAAI,CAAC,wEAAW,mBAIjF,GAAAe,EAAAG,GAAA,EAACK,SAAAA,CAA2CC,QAAS3B,mEAAe,eAGpE,GAAAkB,EAAAG,GAAA,EAACK,SAAAA,CAAyCC,QAxiB7B,KACnB1F,EAAOkE,IAAI,CAAC,IACd,iEAsiByE,iBAMrE,GAAAe,EAAAC,IAAA,EAACC,MAAAA,6DAEC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,sDACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,sDACC,GAAAF,EAAAG,GAAA,EAACO,QAAAA,CACCC,KAAK,OAELC,YAAY,4DACZC,MAAOzE,EACP0E,SAAU,GAAOzE,EAAe0E,EAAEC,MAAM,CAACH,KAAK,iDAEhD,GAAAb,EAAAC,IAAA,EAACgB,SAAAA,CAECJ,MAAOvE,EACPwE,SAAU,GAAOvE,EAAgBwE,EAAEC,MAAM,CAACH,KAAK,0DAE/C,GAAAb,EAAAG,GAAA,EAACe,SAAAA,CAAOL,MAAM,+CAAM,eACpB,GAAAb,EAAAG,GAAA,EAACe,SAAAA,CAAOL,MAAM,sDAAa,eAC3B,GAAAb,EAAAG,GAAA,EAACe,SAAAA,CAAOL,MAAM,oDAAW,gBAE3B,GAAAb,EAAAG,GAAA,EAACK,SAAAA,CAECC,QAAS,IAAM5D,EAAe,CAACD,aADpB,CAAC,+BAAW,EAAEA,EAAc,SAAW,GAAG,CAAC,UAEvD,4BAKFA,GACC,GAAAoD,EAAAC,IAAA,EAACC,MAAAA,4DACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,uDACC,GAAAF,EAAAG,GAAA,EAACgB,QAAAA,0CAAM,UACP,GAAAnB,EAAAG,GAAA,EAACO,QAAAA,CACCC,KAAK,OACLE,MAAOrE,EACPsE,SAAU,GAAOrE,EAAYsE,EAAEC,MAAM,CAACH,KAAK,uCAG/C,GAAAb,EAAAC,IAAA,EAACC,MAAAA,uDACC,GAAAF,EAAAG,GAAA,EAACgB,QAAAA,0CAAM,QACP,GAAAnB,EAAAG,GAAA,EAACO,QAAAA,CACCC,KAAK,OACLE,MAAOnE,EACPoE,SAAU,GAAOnE,EAAUoE,EAAEC,MAAM,CAACH,KAAK,uCAG7C,GAAAb,EAAAG,GAAA,EAACK,SAAAA,CAAiCC,QA5hBzB,KACnBpE,EAAe,IACfE,EAAgB,OAChBE,EAAY,IACZE,EAAU,GACZ,yDAuhBqE,4BAQ9DnB,GACC,GAAAwE,EAAAC,IAAA,EAACC,MAAAA,yDACC,GAAAF,EAAAG,GAAA,EAACD,MAAAA,mDACD,GAAAF,EAAAG,GAAA,EAACE,IAAAA,uDAA2B,+BAK/B,CAAC7E,GAAaoE,EAAiBwB,MAAM,CAAG,GACvC,GAAApB,EAAAC,IAAA,EAAAD,EAAAqB,QAAA,YACE,GAAArB,EAAAC,IAAA,EAACqB,KAAAA,oEAAwC,6BAEvC,GAAAtB,EAAAG,GAAA,EAACoB,OAAAA,gDAAwB3B,EAAiBwB,MAAM,MAElD,GAAApB,EAAAG,GAAA,EAACD,MAAAA,oDACEN,EAAiB4B,GAAG,CAACC,GACpB,GAAAzB,EAAAC,IAAA,EAACC,MAAAA,qDACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,kEACC,GAAAF,EAAAG,GAAA,EAACoB,OAAAA,2DAAmCE,EAAMrD,UAAU,GACpD,GAAA4B,EAAAG,GAAA,EAACoB,OAAAA,iEAAwC,mBAE3C,GAAAvB,EAAAC,IAAA,EAACC,MAAAA,qDACEuB,EAAMC,QAAQ,CAACN,MAAM,CAAG,GACvB,GAAApB,EAAAG,GAAA,EAACD,MAAAA,gEAAsC,iFAIzC,GAAAF,EAAAG,GAAA,EAACD,MAAAA,wDACEuB,EAAMC,QAAQ,CAACF,GAAG,CAACG,GAClB,GAAA3B,EAAAC,IAAA,EAACC,MAAAA,uDACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,wDACC,GAAAF,EAAAG,GAAA,EAACoB,OAAAA,yDAAiCI,EAAQrD,aAAa,GACvD,GAAA0B,EAAAC,IAAA,EAACsB,OAAAA,2CAAK,WAASI,EAAQrD,aAAa,OAEtC,GAAA0B,EAAAG,GAAA,EAACoB,OAAAA,WAAgB,CAAC,mCAAe,EAAEI,EAAQhE,MAAM,CAAC,CAAC,UAChDgE,aAAAA,EAAQhE,MAAM,CAAkB,aAAe,iBAN1CgE,EAAQrD,aAAa,KAWnC,GAAA0B,EAAAC,IAAA,EAACC,MAAAA,qDACC,GAAAF,EAAAC,IAAA,EAACsB,OAAAA,2CAAK,YAAU,IAAI1D,KAAK4D,EAAM1D,SAAS,EAAE6D,kBAAkB,CAAC,YAC7D,GAAA5B,EAAAC,IAAA,EAACsB,OAAAA,2CAAK,UAAQE,EAAMxG,OAAO,OAE7B,GAAA+E,EAAAC,IAAA,EAACC,MAAAA,wDACC,GAAAF,EAAAG,GAAA,EAACK,SAAAA,CAECC,QAAS,IAAMzB,EAAWyC,EAAMC,QAAQ,CAAC,EAAE,6DAC5C,YAGD,GAAA1B,EAAAG,GAAA,EAACK,SAAAA,CAECC,QAAS,IAAMhB,EAAkBgC,EAAMC,QAAQ,CAACG,IAAI,CAACxB,GAAKA,eAAAA,EAAE1C,MAAM,GAAsB8D,EAAMC,QAAQ,CAAC,EAAE,+DAC1G,iCAtCGD,EAAMrD,UAAU,QAkDjC,CAAC5C,GAAauE,EAAeqB,MAAM,CAAG,GACrC,GAAApB,EAAAC,IAAA,EAAAD,EAAAqB,QAAA,YACE,GAAArB,EAAAC,IAAA,EAACqB,KAAAA,kEAAsC,oBAErC,GAAAtB,EAAAG,GAAA,EAACoB,OAAAA,gDAAwBxB,EAAeqB,MAAM,MAEhD,GAAApB,EAAAG,GAAA,EAACD,MAAAA,oDACEH,EAAeyB,GAAG,CAACC,GAClB,GAAAzB,EAAAC,IAAA,EAACC,MAAAA,qDACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,gEACC,GAAAF,EAAAG,GAAA,EAACoB,OAAAA,2DAAmCE,EAAMrD,UAAU,GACpD,GAAA4B,EAAAG,GAAA,EAACoB,OAAAA,+DAAsC,iBAEzC,GAAAvB,EAAAC,IAAA,EAACC,MAAAA,qDACC,GAAAF,EAAAG,GAAA,EAACD,MAAAA,wDACEuB,EAAMC,QAAQ,CAACF,GAAG,CAACG,GAClB,GAAA3B,EAAAC,IAAA,EAACC,MAAAA,uDACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,wDACC,GAAAF,EAAAG,GAAA,EAACoB,OAAAA,yDAAiCI,EAAQrD,aAAa,GACvD,GAAA0B,EAAAC,IAAA,EAACsB,OAAAA,2CAAK,WAASI,EAAQrD,aAAa,OAEtC,GAAA0B,EAAAG,GAAA,EAACoB,OAAAA,kEAAyC,iBALlCI,EAAQrD,aAAa,KASnC,GAAA0B,EAAAC,IAAA,EAACC,MAAAA,qDACC,GAAAF,EAAAC,IAAA,EAACsB,OAAAA,2CAAK,cAAY,IAAI1D,KAAK4D,EAAMC,QAAQ,CAAC,EAAE,EAAEI,aAAeL,EAAM1D,SAAS,EAAE6D,kBAAkB,CAAC,YACjG,GAAA5B,EAAAC,IAAA,EAACsB,OAAAA,2CAAK,UAAQE,EAAMxG,OAAO,OAE7B,GAAA+E,EAAAC,IAAA,EAACC,MAAAA,wDACC,GAAAF,EAAAG,GAAA,EAACK,SAAAA,CAECC,QAAS,IAAMrB,EAAWqC,EAAMC,QAAQ,CAAC,EAAE,6DAC5C,uBAGAD,EAAMC,QAAQ,CAACF,GAAG,CAACG,GAClB,GAAA3B,EAAAC,IAAA,EAACO,SAAAA,CAGCC,QAAS,IAAMpB,EAAesC,mEAC/B,gBACKF,EAAMC,QAAQ,CAACN,MAAM,CAAG,EAAI,CAAC,GAAG,EAAEO,EAAQrD,aAAa,CAAC,CAAC,CAAG,aAJ3DqD,EAAQrD,aAAa,WA9B1BmD,EAAMrD,UAAU,QA8CjC,CAAC5C,GAAaF,IAAAA,EAAW8F,MAAM,EAC9B,GAAApB,EAAAC,IAAA,EAACC,MAAAA,uDACC,GAAAF,EAAAG,GAAA,EAACD,MAAAA,qDAA2B,iBAC5B,GAAAF,EAAAG,GAAA,EAAC4B,KAAAA,sDAA2B,mBAC5B,GAAA/B,EAAAG,GAAA,EAACE,IAAAA,qDACEjE,GAAeE,QAAAA,GAA0BE,GAAYE,EAClD,2EACA,yEAEL,CAACN,GAAeE,QAAAA,GAA0B,CAACE,GAAY,CAACE,GACvD,GAAAsD,EAAAG,GAAA,EAACK,SAAAA,CAA6BC,QAAS3B,qDAAe,4BAQ9D,GAAAkB,EAAAC,IAAA,EAACC,MAAAA,uDACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,uDACC,GAAAF,EAAAG,GAAA,EAACK,SAAAA,8DAAuC,aACxC,GAAAR,EAAAG,GAAA,EAACK,SAAAA,4DAAqC,cAExC,GAAAR,EAAAC,IAAA,EAACC,MAAAA,yDACC,GAAAF,EAAAG,GAAA,EAACoB,OAAAA,sDAA6B,cAC9B,GAAAvB,EAAAG,GAAA,EAACoB,OAAAA,mDAA2BtG,OAE9B,GAAA+E,EAAAG,GAAA,EAACD,MAAAA,uDACC,GAAAF,EAAAG,GAAA,EAACoB,OAAAA,kDAAyB,kBAK7B7F,GACC,GAAAsE,EAAAG,GAAA,EAACD,MAAAA,CAA8BO,QAAS1B,yDACtC,GAAAiB,EAAAC,IAAA,EAACC,MAAAA,CAA6BO,QAAS,GAAOM,EAAEiB,eAAe,0DAC7D,GAAAhC,EAAAG,GAAA,EAACD,MAAAA,uDAA6B,2BAC9B,GAAAF,EAAAC,IAAA,EAACC,MAAAA,sDACC,GAAAF,EAAAG,GAAA,EAACD,MAAAA,8DAAoC,oBACrC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,2DACC,GAAAF,EAAAC,IAAA,EAACC,MAAAA,gEACC,GAAAF,EAAAG,GAAA,EAACO,QAAAA,CACCC,KAAK,SACLE,MAAOjF,EACPkF,SAAU,GAAOjF,EAAkBkF,EAAEC,MAAM,CAACH,KAAK,CAACoB,KAAK,CAAC,EAAG,GAAGC,QAAQ,CAAC,EAAG,MAE1EC,IAAI,IACJC,IAAI,OACJC,MAAO,CAAEC,MAAO,OAAQ,mDAE1B,GAAAtC,EAAAC,IAAA,EAACC,MAAAA,2DACC,GAAAF,EAAAG,GAAA,EAACK,SAAAA,CAAgCC,QA7vBzB,KAExB5E,EAAkB0G,OAAOC,KAAKL,GAAG,CAAC,KAAMM,CAD5BC,SAAS9G,IAAmB,GACM,IAAIsG,QAAQ,CAAC,EAAG,KAChE,wDA0vB+E,MAC7D,GAAAlC,EAAAG,GAAA,EAACK,SAAAA,CAAkCC,QAzvB3B,KAExB5E,EAAkB0G,OAAOC,KAAKJ,GAAG,CAAC,EAAGK,CADzBC,SAAS9G,IAAmB,GACG,IAAIsG,QAAQ,CAAC,EAAG,KAC7D,0DAsvBiF,YAGnE,GAAAlC,EAAAG,GAAA,EAACoB,OAAAA,oDAA2B,MAC5B,GAAAvB,EAAAG,GAAA,EAACO,QAAAA,CACCC,KAAK,OACLE,MAAO/E,EACP6G,SAAQ,GACRC,SAAQ,GAERP,MAAO,CAAEC,MAAO,OAAQO,gBAAiB,UAAWC,MAAO,SAAU,2DAEvE,GAAA9C,EAAAG,GAAA,EAACoB,OAAAA,oDAA2B,MAC5B,GAAAvB,EAAAG,GAAA,EAACO,QAAAA,CACCC,KAAK,OACLE,MAAO7E,EACP2G,SAAQ,GACRC,SAAQ,iEAGV,GAAA5C,EAAAG,GAAA,EAACoB,OAAAA,oDAA2B,MAC5B,GAAAvB,EAAAG,GAAA,EAACO,QAAAA,CACCC,KAAK,OACLE,MAAO3E,EACPyG,SAAQ,GACRC,SAAQ,yEAKd,GAAA5C,EAAAC,IAAA,EAACC,MAAAA,yDACC,GAAAF,EAAAG,GAAA,EAACK,SAAAA,CAAoCC,QAAS1B,4DAAkB,WAChE,GAAAiB,EAAAG,GAAA,EAACK,SAAAA,CAAgCC,QAxyBxB,KACnB,IAAMsC,EAAqB,CAAC,EAAEnH,EAAe,CAAC,EAAEE,EAAW,CAAC,EAAEE,EAAS,CAAC,EAAEE,EAAW,CAAC,CACtFnB,EAAOkE,IAAI,CAAC,CAAC,aAAa,EAAEC,mBAAmB6D,GAAoB,SAAS,EAAE7D,mBAAmBjE,GAAS,CAAC,EAC3GU,EAAe,GACjB,wDAoyBoE,eAOhE,GAAAqE,EAAAG,GAAA,EAAC6C,EAAAA,EAAiBA,CAAAA,CAChBC,OAAQnG,EACRoG,QAAS,IAAMnG,EAAmB,IAClCoG,UAAWzD,EACX0D,MAAM,cACNC,QAAS,CAAC;;UAAwD,EAAErG,GAAcoB,WAAW;SAAW,EAAEpB,GAAcsB,cAAc;;mEAAuE,CAAC,CAC9MgF,YAAY,cACZC,WAAW,SACX5C,KAAK,UACLnF,UAAW0B,MAInB,inBC15BA,IAAMsG,EAAmB,eAKzB,SAASC,EAAWtE,CAAsB,EACxC,MAAO,CACLuE,GAAI,CAAC,EAAEvE,EAAOwE,WAAW,CAAC,CAAC,EAAExE,EAAOyE,cAAc,CAAC,CAAC,CACpDxF,WAAYe,EAAOwE,WAAW,CAC9BrF,cAAea,EAAOyE,cAAc,CACpCjG,OAAQwB,EAAOxB,MAAM,CACrBkG,OAAQ1E,EAAO2E,iBAAiB,CAChCvF,eAAgBY,EAAO4E,eAAe,CACtChG,UAAWoB,EAAO6E,UAAU,CAC5BC,UAAW9E,EAAO+E,UAAU,CAC5BpC,YAAa3C,EAAOgF,YAAY,CAChClJ,QAASkE,EAAOiF,QAAQ,CAE5B,CAGO,eAAe5G,EAAoBF,CAAiB,EACzD,GAAI,CAEF,IAAMsB,EAAUyF,CADG,MAAMC,EAAAA,EAAwB,CAAChH,EAAAA,EACvBkE,GAAG,CAACiC,GAIzBc,EAAeC,IAAW/G,MAAM,CAACC,GAAKA,EAAEmG,MAAM,GAAKvG,GAIzD,OAHAmH,aAAaC,OAAO,CAAClB,EAAkBvM,KAAK0N,SAAS,CAAC,IAAIJ,KAAiB3F,EAAQ,GACnF6F,aAAaC,OAAO,CA7BD,uBA6BkB7G,KAAK+G,GAAG,GAAGC,QAAQ,IAEjDjG,CACT,CAAE,MAAOF,EAAO,CAEd,OADAC,QAAQD,KAAK,CAAC,yCAA0CA,GACjDoG,EAAexH,EACxB,CACF,CAGO,SAASwH,EAAexH,CAAiB,EAC9C,GAAI,CACF,IAAMgC,EAAOmF,aAAaM,OAAO,CAACvB,GAClC,GAAI,CAAClE,EAAM,MAAO,EAAE,CAEpB,OAAOkF,KAD+BtN,KAAK,CAACoI,GAC1B7B,MAAM,CAACC,GAAKA,EAAEmG,MAAM,GAAKvG,EAC7C,CAAE,KAAM,CACN,MAAO,EAAE,CAEb,CAGO,SAAS0H,IACd,GAAI,CACF,IAAM1F,EAAOmF,aAAaM,OAAO,CAACvB,GAClC,OAAOlE,EAAOrI,KAAKC,KAAK,CAACoI,GAAQ,EAAE,CACnC,KAAM,CACN,MAAO,EAAE,CAEb,CAGO,SAAS2F,EAAoB9F,CAAkB,EACpD,IAAMqF,EAAaQ,IACbE,EAAgBV,EAAWW,SAAS,CACxCzH,GAAKA,EAAEU,UAAU,GAAKe,EAAOf,UAAU,EAAIV,EAAEY,aAAa,GAAKa,EAAOb,aAAa,CAGjF4G,CAAAA,GAAiB,EACnBV,CAAU,CAACU,EAAc,CAAG,CAAE,GAAGV,CAAU,CAACU,EAAc,CAAE,GAAG/F,CAAM,CAAE8E,UAAW,IAAIpG,OAAOuH,WAAW,EAAG,EAE3GZ,EAAWvF,IAAI,CAACE,GAGlBsF,aAAaC,OAAO,CAAClB,EAAkBvM,KAAK0N,SAAS,CAACH,GACxD,CAGO,eAAea,EAAelG,CAAkB,EAErD8F,EAAoB9F,GAGpB,GAAI,CACF,MAAMmF,EAAAA,EAAoB,CACxBnF,EAAOf,UAAU,CACjBe,EAAOb,aAAa,CACpBa,EAAO0E,MAAM,CACb1E,EAAOZ,cAAc,CACrBY,EAAOlE,OAAO,CAElB,CAAE,MAAOyD,EAAO,CACdC,QAAQD,KAAK,CAAC,yBAA0BA,EAC1C,CACF,CAGO,eAAe4G,EACpBlH,CAAkB,CAClBE,CAAqB,CACrBiH,CAAuB,CACvBhH,CAAsB,CACtBtD,CAAe,EAEf,IAAM2J,EAAM,IAAI/G,OAAOuH,WAAW,GAC5BjG,EAAqB,CACzBuE,GAAI,CAAC,EAAEtF,EAAW,CAAC,EAAEE,EAAc,CAAC,CACpCF,WAAAA,EACAE,cAAAA,EACAX,OAAQ,aACRkG,OAAQ0B,EACRhH,eAAAA,EACAR,UAAW6G,EACXX,UAAWW,EACX3J,QAAAA,CACF,EAGAgK,EAAoB9F,GAGpB,GAAI,CACF,MAAMmF,EAAAA,EAAoB,CAAClG,EAAYE,EAAeiH,EAAiBhH,EAAgBtD,EACzF,CAAE,MAAOyD,EAAO,CACdC,QAAQD,KAAK,CAAC,yBAA0BA,EAC1C,CAEA,OAAOS,CACT,CAGO,SAASqG,EACdpH,CAAkB,CAClBE,CAAqB,CACrBiH,CAAuB,CACvBhH,CAAsB,CACtBtD,CAAe,EAEf,IAAM2J,EAAM,IAAI/G,OAAOuH,WAAW,GAC5BjG,EAAqB,CACzBuE,GAAI,CAAC,EAAEtF,EAAW,CAAC,EAAEE,EAAc,CAAC,CACpCF,WAAAA,EACAE,cAAAA,EACAX,OAAQ,aACRkG,OAAQ0B,EACRhH,eAAAA,EACAR,UAAW6G,EACXX,UAAWW,EACX3J,QAAAA,CACF,EAOA,OANAgK,EAAoB9F,GAGpBmF,EAAAA,EAAoB,CAAClG,EAAYE,EAAeiH,EAAiBhH,EAAgBtD,GAC9EwK,KAAK,CAACC,GAAO/G,QAAQD,KAAK,CAAC,yBAA0BgH,IAEjDvG,CACT,CAGO,eAAewG,EAAsBvH,CAAkB,CAAEE,CAAqB,EAEnFsH,EAAsBxH,EAAYE,GAGlC,GAAI,CACF,MAAMgG,EAAAA,EAAoB,CAAClG,EAAYE,EACzC,CAAE,MAAOI,EAAO,CACdC,QAAQD,KAAK,CAAC,mCAAoCA,EACpD,CACF,CAGA,SAASkH,EAAsBxH,CAAkB,CAAEE,CAAqB,EACtE,IAAMkG,EAAaQ,IACb7F,EAASqF,EAAW3C,IAAI,CAC5BnE,GAAKA,EAAEU,UAAU,GAAKA,GAAcV,EAAEY,aAAa,GAAKA,GAGtDa,IACFA,EAAOxB,MAAM,CAAG,WAChBwB,EAAO2C,WAAW,CAAG,IAAIjE,OAAOuH,WAAW,GAC3CjG,EAAO8E,SAAS,CAAG,IAAIpG,OAAOuH,WAAW,GACzCX,aAAaC,OAAO,CAAClB,EAAkBvM,KAAK0N,SAAS,CAACH,IAE1D,CAGO,SAASqB,EAAiBzH,CAAkB,CAAEE,CAAqB,EACxEsH,EAAsBxH,EAAYE,GAGlCgG,EAAAA,EAAoB,CAAClG,EAAYE,GAC9BmH,KAAK,CAACC,GAAO/G,QAAQD,KAAK,CAAC,yBAA0BgH,GAC1D,CAGO,eAAe/F,EAAsBvB,CAAkB,CAAEE,CAAqB,EAEnF,IAAMwH,EAAeC,EAAsB3H,EAAYE,GAGvD,GAAI,CAEF,OADA,MAAMgG,EAAAA,EAAoB,CAAClG,EAAYE,GAChC,EACT,CAAE,MAAOI,EAAO,CAEd,OADAC,QAAQD,KAAK,CAAC,4BAA6BA,GACpCoH,CACT,CACF,CAGA,SAASC,EAAsB3H,CAAkB,CAAEE,CAAqB,EACtE,IAAMkG,EAAaQ,IACb7F,EAASqF,EAAW3C,IAAI,CAC5BnE,GAAKA,EAAEU,UAAU,GAAKA,GAAcV,EAAEY,aAAa,GAAKA,GAG1D,GAAIa,GAAUA,eAAAA,EAAOxB,MAAM,CAAmB,CAC5C,IAAMqI,EAAWxB,EAAW/G,MAAM,CAChCC,GAAK,CAAEA,CAAAA,EAAEU,UAAU,GAAKA,GAAcV,EAAEY,aAAa,GAAKA,CAAAA,GAI5D,OAFAmG,aAAaC,OAAO,CAAClB,EAAkBvM,KAAK0N,SAAS,CAACqB,IAkCxDC,CAbE,WACA,eACA,iBACA,eACA,uBACA,sBACA,cACA,SACA,cACA,gBACA,QACD,CAEIC,OAAO,CAACC,IACX1B,aAAa2B,UAAU,CAAC,CAAC,EAAED,EAAI,CAAC,EAlClB/H,EAkC+B,CAAC,CAChD,GAlCS,EACT,CACA,MAAO,EACT,CAGO,SAASiI,EAAiBjI,CAAkB,CAAEE,CAAqB,EACxE,IAAMgI,EAAUP,EAAsB3H,EAAYE,GAMlD,OAHAgG,EAAAA,EAAoB,CAAClG,EAAYE,GAC9BmH,KAAK,CAACC,GAAO/G,QAAQD,KAAK,CAAC,gCAAiCgH,IAExDY,CACT,CAwBO,eAAeC,EACpBnI,CAAkB,CAClBE,CAAqB,CACrBkI,CAA0B,CAC1BC,CAAyB,EAGzBC,EAAkBtI,EAAYE,EAAekI,EAAoBC,GAGjE,GAAI,CAEF,OADA,MAAMnC,EAAAA,EAAgB,CAAClG,EAAYE,EAAekI,EAAoBC,GAC/D,EACT,CAAE,MAAO/H,EAAO,CAEd,OADAC,QAAQD,KAAK,CAAC,8BAA+BA,GACtC,EACT,CACF,CAGA,SAASgI,EACPtI,CAAkB,CAClBE,CAAqB,CACrBkI,CAA0B,CAC1BC,CAAyB,EAEzB,IAAMjC,EAAaQ,IACb7F,EAASqF,EAAW3C,IAAI,CAC5BnE,GAAKA,EAAEU,UAAU,GAAKA,GAAcV,EAAEY,aAAa,GAAKA,SAG1D,EAAIa,IACFA,EAAO0E,MAAM,CAAG2C,EAChBrH,EAAOZ,cAAc,CAAGkI,EACxBtH,EAAO8E,SAAS,CAAG,IAAIpG,OAAOuH,WAAW,GACzCX,aAAaC,OAAO,CAAClB,EAAkBvM,KAAK0N,SAAS,CAACH,IAC/C,GAGX,CAGO,SAASmC,EACdvI,CAAkB,CAClBE,CAAqB,CACrBkI,CAA0B,CAC1BC,CAAyB,EAEzB,IAAMH,EAAUI,EAAkBtI,EAAYE,EAAekI,EAAoBC,GAMjF,OAHAnC,EAAAA,EAAgB,CAAClG,EAAYE,EAAekI,EAAoBC,GAC7DhB,KAAK,CAACC,GAAO/G,QAAQD,KAAK,CAAC,kCAAmCgH,IAE1DY,CACT,CAGO,eAAeM,EACpBxI,CAAkB,CAClBoI,CAA0B,CAC1BC,CAAyB,EAGzB,IAAMI,EAAkBrC,IAAW/G,MAAM,CAACC,GAAKA,EAAEU,UAAU,GAAKA,GAEhE,GAAIyI,IAAAA,EAAgBzF,MAAM,CAAQ,MAAO,GAGzC,IAAK,IAAMjC,KAAU0H,EACnB,MAAMN,EAAkBnI,EAAYe,EAAOb,aAAa,CAAEkI,EAAoBC,GAGhF,MAAO,EACT,CAGO,SAASK,EACd1I,CAAkB,CAClBoI,CAA0B,CAC1BC,CAAyB,EAGzB,IAAMI,EAAkBrC,IAAW/G,MAAM,CAACC,GAAKA,EAAEU,UAAU,GAAKA,UAEhE,IAAIyI,EAAgBzF,MAAM,GAG1ByF,EAAgBX,OAAO,CAAC/G,IACtBwH,EAAavI,EAAYe,EAAOb,aAAa,CAAEkI,EAAoBC,EACrE,GAEO,GACT,CAGO,eAAeM,EACpBzJ,CAAiB,CACjB0J,CAAc,CACdrJ,CAAe,EAEf,GAAI,CAEF,MAAO0G,CADY,MAAMC,EAAAA,EAAe,CAAChH,EAAW0J,EAAOrJ,EAAAA,EACzC6D,GAAG,CAACiC,EACxB,CAAE,MAAO/E,EAAO,CAEd,OADAC,QAAQD,KAAK,CAAC,+CAAgDA,GACvDG,EAAYvB,EAAW0J,GAAS,GAAI,CAAErJ,OAAQA,CAAc,EACrE,CACF,CAGO,SAASc,EAAqBG,CAAqB,EACxD,IAAMJ,EAA0C,CAAC,EASjD,OAPAI,EAAQsH,OAAO,CAAC/G,IACTX,CAAM,CAACW,EAAOf,UAAU,CAAC,EAC5BI,CAAAA,CAAM,CAACW,EAAOf,UAAU,CAAC,CAAG,EAAE,EAEhCI,CAAM,CAACW,EAAOf,UAAU,CAAC,CAACa,IAAI,CAACE,EACjC,GAEO8H,OAAOC,OAAO,CAAC1I,GAAQgD,GAAG,CAAC,CAAC,CAACpD,EAAYsD,EAAS,GAAM,EAC7DtD,WAAAA,EACAsD,SAAUA,EAASyF,IAAI,CAAC,CAACC,EAAGC,IAAMD,EAAE9I,aAAa,CAACgJ,aAAa,CAACD,EAAE/I,aAAa,GAC/EwB,YAAa4B,EAAS6F,KAAK,CAAClH,GAAKA,aAAAA,EAAE1C,MAAM,EACzCI,UAAW2D,CAAQ,CAAC,EAAE,EAAE3D,WAAa,GACrC9C,QAASyG,CAAQ,CAAC,EAAE,EAAEzG,SAAW,EACnC,IAAIkM,IAAI,CAAC,CAACC,EAAGC,IAAM,IAAIxJ,KAAKwJ,EAAEtJ,SAAS,EAAED,OAAO,GAAK,IAAID,KAAKuJ,EAAErJ,SAAS,EAAED,OAAO,GACpF,CAGO,SAAS0J,EAAuBpJ,CAAkB,EAEvD,IAAMyI,EAAkBrC,IAAW/G,MAAM,CAACC,GAAKA,EAAEU,UAAU,GAAKA,GAChE,OAAOyI,EAAgBzF,MAAM,CAAG,GAAKyF,EAAgBU,KAAK,CAAC7J,GAAKA,aAAAA,EAAEC,MAAM,CAC1E,CAGO,SAAS8J,EAAmBnK,CAAiB,EAClD,OAAOwH,EAAexH,GAAWG,MAAM,CAACC,GAAKA,eAAAA,EAAEC,MAAM,CACvD,CAGO,SAAS+J,EAAiBpK,CAAiB,EAChD,OAAOwH,EAAexH,GAAWG,MAAM,CAACC,GAAKA,aAAAA,EAAEC,MAAM,CACvD,CAGO,SAASkB,EACdvB,CAAiB,CACjB0J,CAAa,CACbW,CAIC,EAED,IAAI/I,EAAUkG,EAAexH,GAQ7B,GALIqK,GAAShK,QAAUgK,QAAAA,EAAQhK,MAAM,EACnCiB,CAAAA,EAAUA,EAAQnB,MAAM,CAACC,GAAKA,EAAEC,MAAM,GAAKgK,EAAQhK,MAAM,GAIvDgK,GAASnL,SAAU,CACrB,IAAMoB,EAAW,IAAIC,KAAK8J,EAAQnL,QAAQ,EAAEsB,OAAO,GACnDc,EAAUA,EAAQnB,MAAM,CAACC,GAAK,IAAIG,KAAKH,EAAEK,SAAS,EAAED,OAAO,IAAMF,EACnE,CAEA,GAAI+J,GAASjL,OAAQ,CACnB,IAAMsB,EAAS,IAAIH,KAAK8J,EAAQjL,MAAM,EAAEoB,OAAO,GAAM,MACrDc,EAAUA,EAAQnB,MAAM,CAACC,GAAK,IAAIG,KAAKH,EAAEK,SAAS,EAAED,OAAO,IAAME,EACnE,CAGA,GAAIgJ,EAAM/I,IAAI,GAAI,CAChB,IAAMC,EAAI8I,EAAM7I,WAAW,GAC3BS,EAAUA,EAAQnB,MAAM,CAACC,GACvBA,EAAEU,UAAU,CAACD,WAAW,GAAGE,QAAQ,CAACH,IACpCR,EAAEY,aAAa,CAACH,WAAW,GAAGE,QAAQ,CAACH,IACvCR,EAAEa,cAAc,CAACJ,WAAW,GAAGE,QAAQ,CAACH,GAE5C,CAEA,OAAOU,CACT,CAGO,SAASgJ,EAAcxJ,CAAkB,CAAEE,CAAqB,EAErE,OAAOkG,IAAW3C,IAAI,CACpBnE,GAAKA,EAAEU,UAAU,GAAKA,GAAcV,EAAEY,aAAa,GAAKA,IACrD,IACP,CAGO,SAASuJ,EAAsBvK,CAAiB,EAIrD,OAAOkB,EAHSsG,EAAexH,IAGjBG,MAAM,CAACgE,GACnBA,EAAMC,QAAQ,CAACN,MAAM,CAAG,GACxB,CAACK,EAAM3B,WAAW,EAClB2B,EAAMC,QAAQ,CAACoG,IAAI,CAACzH,GAAKA,aAAAA,EAAE1C,MAAM,EAErC","sources":["webpack://_N_E/external commonjs \"node:async_hooks\"","webpack://_N_E/external commonjs \"node:buffer\"","webpack://_N_E/./app/dashboard/page.tsx?3b9a","webpack://_N_E/|ssr?cfc0","webpack://_N_E/?5dcd","webpack://_N_E/./app/dashboard/page.tsx","webpack://_N_E/./app/utils/eprfHistoryService.ts"],"sourcesContent":["module.exports = require(\"node:async_hooks\");","module.exports = require(\"node:buffer\");","\"TURBOPACK { transition: next-ssr }\";\nimport { AppPageRouteModule } from \"next/dist/server/future/route-modules/app-page/module.compiled\";\nimport { RouteKind } from \"next/dist/server/future/route-kind\";\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'dashboard',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\dashboard\\\\page.tsx\"), \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\dashboard\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\layout.tsx\"), \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\layout.tsx\"],\n'not-found': [() => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/not-found-error\"), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\dashboard\\\\page.tsx\"];\nexport { tree, pages };\nexport { default as GlobalError } from \"next/dist/client/components/error-boundary\";\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nexport const originalPathname = \"/dashboard/page\";\nexport const __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\nexport * from \"next/dist/server/app-render/entry-base\";\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n    definition: {\n        kind: RouteKind.APP_PAGE,\n        page: \"/dashboard/page\",\n        pathname: \"/dashboard\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map","var _self___RSC_MANIFEST;\nimport \"next/dist/server/web/globals\";\nimport { adapter } from \"next/dist/server/web/adapter\";\nimport { getRender } from \"next/dist/build/webpack/loaders/next-edge-ssr-loader/render\";\nimport { IncrementalCache } from \"next/dist/server/lib/incremental-cache\";\nimport { renderToHTMLOrFlight as renderToHTML } from \"next/dist/server/app-render/app-render\";\nimport * as pageMod from \"next-app-loader?name=app%2Fdashboard%2Fpage&page=%2Fdashboard%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fpage.tsx&appDir=C%3A%5CUsers%5CToby%5CDownloads%5Cnode-v24.11.1-win-x64%5Capp123%5Capp&appPaths=%2Fdashboard%2Fpage&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!private-next-app-dir/dashboard/page.tsx?__next_edge_ssr_entry__\";\nimport { PAGE_TYPES } from \"next/dist/lib/page-types\";\nimport { setReferenceManifestsSingleton } from \"next/dist/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/server/app-render/action-utils\";\nconst incrementalCacheHandler = null\nconst Document = null;\nconst appMod = null;\nconst errorMod = null;\nconst error500Mod = null;\nconst sriEnabled = false\nconst isServerComponent = true\nconst dev = false\nconst serverActions = undefined\nconst nextConfig = {\"env\":{},\"webpack\":null,\"eslint\":{\"ignoreDuringBuilds\":false},\"typescript\":{\"ignoreBuildErrors\":false,\"tsconfigPath\":\"tsconfig.json\"},\"distDir\":\".next\",\"cleanDistDir\":true,\"assetPrefix\":\"\",\"cacheMaxMemorySize\":52428800,\"configOrigin\":\"next.config.js\",\"useFileSystemPublicRoutes\":true,\"generateEtags\":true,\"pageExtensions\":[\"tsx\",\"ts\",\"jsx\",\"js\"],\"poweredByHeader\":true,\"compress\":true,\"analyticsId\":\"\",\"images\":{\"deviceSizes\":[640,750,828,1080,1200,1920,2048,3840],\"imageSizes\":[16,32,48,64,96,128,256,384],\"path\":\"/_next/image\",\"loader\":\"default\",\"loaderFile\":\"\",\"domains\":[],\"disableStaticImages\":false,\"minimumCacheTTL\":60,\"formats\":[\"image/webp\"],\"dangerouslyAllowSVG\":false,\"contentSecurityPolicy\":\"script-src 'none'; frame-src 'none'; sandbox;\",\"contentDispositionType\":\"inline\",\"remotePatterns\":[],\"unoptimized\":false},\"devIndicators\":{\"buildActivity\":true,\"buildActivityPosition\":\"bottom-right\"},\"onDemandEntries\":{\"maxInactiveAge\":60000,\"pagesBufferLength\":5},\"amp\":{\"canonicalBase\":\"\"},\"basePath\":\"\",\"sassOptions\":{},\"trailingSlash\":false,\"i18n\":null,\"productionBrowserSourceMaps\":false,\"optimizeFonts\":true,\"excludeDefaultMomentLocales\":true,\"serverRuntimeConfig\":{},\"publicRuntimeConfig\":{},\"reactProductionProfiling\":false,\"reactStrictMode\":null,\"httpAgentOptions\":{\"keepAlive\":true},\"outputFileTracing\":true,\"staticPageGenerationTimeout\":60,\"swcMinify\":true,\"modularizeImports\":{\"@mui/icons-material\":{\"transform\":\"@mui/icons-material/{{member}}\"},\"lodash\":{\"transform\":\"lodash/{{member}}\"}},\"experimental\":{\"multiZoneDraftMode\":false,\"prerenderEarlyExit\":false,\"serverMinification\":true,\"serverSourceMaps\":false,\"linkNoTouchStart\":false,\"caseSensitiveRoutes\":false,\"clientRouterFilter\":true,\"clientRouterFilterRedirects\":false,\"fetchCacheKeyPrefix\":\"\",\"middlewarePrefetch\":\"flexible\",\"optimisticClientCache\":true,\"manualClientBasePath\":false,\"cpus\":11,\"memoryBasedWorkersCount\":false,\"isrFlushToDisk\":true,\"workerThreads\":false,\"optimizeCss\":false,\"nextScriptWorkers\":false,\"scrollRestoration\":false,\"externalDir\":false,\"disableOptimizedLoading\":false,\"gzipSize\":true,\"craCompat\":false,\"esmExternals\":true,\"fullySpecified\":false,\"outputFileTracingRoot\":\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\",\"swcTraceProfiling\":false,\"forceSwcTransforms\":false,\"largePageDataBytes\":128000,\"adjustFontFallbacks\":false,\"adjustFontFallbacksWithSizeAdjust\":false,\"typedRoutes\":false,\"instrumentationHook\":false,\"bundlePagesExternals\":false,\"parallelServerCompiles\":false,\"parallelServerBuildTraces\":false,\"ppr\":false,\"missingSuspenseWithCSRBailout\":true,\"optimizeServerReact\":true,\"useEarlyImport\":false,\"staleTimes\":{\"dynamic\":30,\"static\":300},\"optimizePackageImports\":[\"lucide-react\",\"date-fns\",\"lodash-es\",\"ramda\",\"antd\",\"react-bootstrap\",\"ahooks\",\"@ant-design/icons\",\"@headlessui/react\",\"@headlessui-float/react\",\"@heroicons/react/20/solid\",\"@heroicons/react/24/solid\",\"@heroicons/react/24/outline\",\"@visx/visx\",\"@tremor/react\",\"rxjs\",\"@mui/material\",\"@mui/icons-material\",\"recharts\",\"react-use\",\"@material-ui/core\",\"@material-ui/icons\",\"@tabler/icons-react\",\"mui-core\",\"react-icons/ai\",\"react-icons/bi\",\"react-icons/bs\",\"react-icons/cg\",\"react-icons/ci\",\"react-icons/di\",\"react-icons/fa\",\"react-icons/fa6\",\"react-icons/fc\",\"react-icons/fi\",\"react-icons/gi\",\"react-icons/go\",\"react-icons/gr\",\"react-icons/hi\",\"react-icons/hi2\",\"react-icons/im\",\"react-icons/io\",\"react-icons/io5\",\"react-icons/lia\",\"react-icons/lib\",\"react-icons/lu\",\"react-icons/md\",\"react-icons/pi\",\"react-icons/ri\",\"react-icons/rx\",\"react-icons/si\",\"react-icons/sl\",\"react-icons/tb\",\"react-icons/tfi\",\"react-icons/ti\",\"react-icons/vsc\",\"react-icons/wi\"]},\"configFile\":\"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\next.config.js\",\"configFileName\":\"next.config.js\"}\nconst maybeJSONParse = (str)=>str ? JSON.parse(str) : undefined;\nconst buildManifest = self.__BUILD_MANIFEST;\nconst reactLoadableManifest = maybeJSONParse(self.__REACT_LOADABLE_MANIFEST);\nconst rscManifest = (_self___RSC_MANIFEST = self.__RSC_MANIFEST) == null ? void 0 : _self___RSC_MANIFEST[\"/dashboard/page\"];\nconst rscServerManifest = maybeJSONParse(self.__RSC_SERVER_MANIFEST);\nconst subresourceIntegrityManifest = sriEnabled ? maybeJSONParse(self.__SUBRESOURCE_INTEGRITY_MANIFEST) : undefined;\nconst nextFontManifest = maybeJSONParse(self.__NEXT_FONT_MANIFEST);\nconst interceptionRouteRewrites = maybeJSONParse(self.__INTERCEPTION_ROUTE_REWRITE_MANIFEST) ?? [];\nif (rscManifest && rscServerManifest) {\n    setReferenceManifestsSingleton({\n        clientReferenceManifest: rscManifest,\n        serverActionsManifest: rscServerManifest,\n        serverModuleMap: createServerModuleMap({\n            serverActionsManifest: rscServerManifest,\n            pageName: \"/dashboard/page\"\n        })\n    });\n}\nconst render = getRender({\n    pagesType: PAGE_TYPES.APP,\n    dev,\n    page: \"/dashboard/page\",\n    appMod,\n    pageMod,\n    errorMod,\n    error500Mod,\n    Document,\n    buildManifest,\n    renderToHTML,\n    reactLoadableManifest,\n    clientReferenceManifest: isServerComponent ? rscManifest : null,\n    serverActionsManifest: isServerComponent ? rscServerManifest : null,\n    serverActions: isServerComponent ? serverActions : undefined,\n    subresourceIntegrityManifest,\n    config: nextConfig,\n    buildId: process.env.__NEXT_BUILD_ID,\n    nextFontManifest,\n    incrementalCacheHandler,\n    interceptionRouteRewrites\n});\nexport const ComponentMod = pageMod;\nexport default function nHandler(opts) {\n    return adapter({\n        ...opts,\n        IncrementalCache,\n        handler: render\n    });\n}\n\n//# sourceMappingURL=edge-ssr-app.js.map","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Toby\\\\Downloads\\\\node-v24.11.1-win-x64\\\\app123\\\\app\\\\dashboard\\\\page.tsx\");\n","\"use client\"\r\n\r\nimport { useSearchParams, useRouter } from 'next/navigation'\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport { getCurrentUser, User } from '../utils/userService'\r\nimport { \r\n  getEPRFHistoryAsync,\r\n  groupEPRFsByIncident, \r\n  EPRFRecord, \r\n  EPRFGroup,\r\n  deleteEPRFRecordAsync,\r\n  searchEPRFs\r\n} from '../utils/eprfHistoryService'\r\nimport { downloadEPRFPdf, collectEPRFData } from '../utils/pdfGenerator'\r\nimport ConfirmationModal from '../components/ConfirmationModal'\r\nimport { isAdmin } from '../utils/apiClient'\r\n\r\nexport const runtime = 'edge'\r\n\r\nexport default function DashboardPage() {\r\n  const searchParams = useSearchParams()\r\n  const router = useRouter()\r\n  const fleetId = searchParams?.get('fleetId') || ''\r\n  \r\n  const [currentUser, setCurrentUser] = useState<User | null>(null)\r\n  const [eprfGroups, setEprfGroups] = useState<EPRFGroup[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [showNewCase, setShowNewCase] = useState(false)\r\n  const [incidentNumber, setIncidentNumber] = useState('0000')\r\n  const [caseNumber, setCaseNumber] = useState('001')\r\n  const [caseDate, setCaseDate] = useState('')\r\n  const [caseLetter, setCaseLetter] = useState('A')\r\n  \r\n  // Filter states\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState<'all' | 'incomplete' | 'complete'>('all')\r\n  const [dateFrom, setDateFrom] = useState('')\r\n  const [dateTo, setDateTo] = useState('')\r\n  const [showFilters, setShowFilters] = useState(false)\r\n  \r\n  // Delete confirmation\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false)\r\n  const [deleteTarget, setDeleteTarget] = useState<{ incidentId: string; patientLetter: string } | null>(null)\r\n  const [isDeleting, setIsDeleting] = useState(false)\r\n\r\n  const loadEPRFHistory = useCallback(async (discordId: string) => {\r\n    setIsLoading(true)\r\n    try {\r\n      // Try to fetch from API first\r\n      const records = await getEPRFHistoryAsync(discordId)\r\n      \r\n      // Apply local filters\r\n      let filteredRecords = records\r\n      if (statusFilter !== 'all') {\r\n        filteredRecords = filteredRecords.filter(r => r.status === statusFilter)\r\n      }\r\n      if (dateFrom) {\r\n        const fromDate = new Date(dateFrom).getTime()\r\n        filteredRecords = filteredRecords.filter(r => new Date(r.createdAt).getTime() >= fromDate)\r\n      }\r\n      if (dateTo) {\r\n        const toDate = new Date(dateTo).getTime() + (24 * 60 * 60 * 1000)\r\n        filteredRecords = filteredRecords.filter(r => new Date(r.createdAt).getTime() <= toDate)\r\n      }\r\n      if (searchQuery.trim()) {\r\n        const q = searchQuery.toLowerCase()\r\n        filteredRecords = filteredRecords.filter(r => \r\n          r.incidentId.toLowerCase().includes(q) ||\r\n          r.patientLetter.toLowerCase().includes(q) ||\r\n          r.authorCallsign.toLowerCase().includes(q)\r\n        )\r\n      }\r\n      \r\n      const groups = groupEPRFsByIncident(filteredRecords)\r\n      setEprfGroups(groups)\r\n    } catch (error) {\r\n      console.error('Failed to load ePRF history:', error)\r\n      // Fallback to local cache\r\n      const filters = {\r\n        status: statusFilter,\r\n        dateFrom: dateFrom || undefined,\r\n        dateTo: dateTo || undefined\r\n      }\r\n      const records = searchEPRFs(discordId, searchQuery, filters)\r\n      const groups = groupEPRFsByIncident(records)\r\n      setEprfGroups(groups)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [statusFilter, dateFrom, dateTo, searchQuery])\r\n\r\n  useEffect(() => {\r\n    const user = getCurrentUser()\r\n    setCurrentUser(user)\r\n    \r\n    // Set current date on mount\r\n    const today = new Date()\r\n    const formatted = `${today.getFullYear()}/${String(today.getMonth() + 1).padStart(2, '0')}/${String(today.getDate()).padStart(2, '0')}`\r\n    setCaseDate(formatted)\r\n    \r\n    // Load ePRF history\r\n    if (user) {\r\n      loadEPRFHistory(user.discordId)\r\n    } else {\r\n      setIsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      loadEPRFHistory(currentUser.discordId)\r\n    }\r\n  }, [searchQuery, statusFilter, dateFrom, dateTo, currentUser, loadEPRFHistory])\r\n\r\n  const handleLogout = () => {\r\n    router.push('/')\r\n  }\r\n\r\n  const handleNewCase = () => {\r\n    setShowNewCase(true)\r\n  }\r\n\r\n  const handleCaseOK = () => {\r\n    const fullIncidentNumber = `${incidentNumber}-${caseNumber}-${caseDate}-${caseLetter}`\r\n    router.push(`/incident?id=${encodeURIComponent(fullIncidentNumber)}&fleetId=${encodeURIComponent(fleetId)}`)\r\n    setShowNewCase(false)\r\n  }\r\n\r\n  const handleCaseCancel = () => {\r\n    setShowNewCase(false)\r\n  }\r\n\r\n  const incrementIncident = () => {\r\n    const num = parseInt(incidentNumber) || 0\r\n    setIncidentNumber(String(Math.min(9999, num + 1)).padStart(4, '0'))\r\n  }\r\n\r\n  const decrementIncident = () => {\r\n    const num = parseInt(incidentNumber) || 0\r\n    setIncidentNumber(String(Math.max(0, num - 1)).padStart(4, '0'))\r\n  }\r\n\r\n  const handleEdit = (record: EPRFRecord) => {\r\n    router.push(`/incident?id=${encodeURIComponent(record.incidentId)}&fleetId=${encodeURIComponent(record.fleetId)}`)\r\n  }\r\n\r\n  const handleView = (record: EPRFRecord) => {\r\n    router.push(`/incident?id=${encodeURIComponent(record.incidentId)}&fleetId=${encodeURIComponent(record.fleetId)}&viewOnly=true`)\r\n  }\r\n\r\n  const handleDownload = (record: EPRFRecord) => {\r\n    const data = collectEPRFData(record.incidentId, record.patientLetter)\r\n    downloadEPRFPdf(data)\r\n  }\r\n\r\n  const handleDeleteClick = (record: EPRFRecord) => {\r\n    setDeleteTarget({ incidentId: record.incidentId, patientLetter: record.patientLetter })\r\n    setShowDeleteModal(true)\r\n  }\r\n\r\n  const confirmDelete = async () => {\r\n    if (deleteTarget) {\r\n      setIsDeleting(true)\r\n      try {\r\n        await deleteEPRFRecordAsync(deleteTarget.incidentId, deleteTarget.patientLetter)\r\n        if (currentUser) {\r\n          await loadEPRFHistory(currentUser.discordId)\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to delete:', error)\r\n      } finally {\r\n        setIsDeleting(false)\r\n        setShowDeleteModal(false)\r\n        setDeleteTarget(null)\r\n      }\r\n    }\r\n  }\r\n\r\n  const clearFilters = () => {\r\n    setSearchQuery('')\r\n    setStatusFilter('all')\r\n    setDateFrom('')\r\n    setDateTo('')\r\n  }\r\n\r\n  // Separate incomplete and complete groups\r\n  const incompleteGroups = eprfGroups.filter(g => !g.allComplete)\r\n  const completeGroups = eprfGroups.filter(g => g.allComplete)\r\n\r\n  return (\r\n    <div className=\"eprf-dashboard home-dashboard\">\r\n      <style jsx>{`\r\n        .home-dashboard {\r\n          display: flex;\r\n          flex-direction: column;\r\n          min-height: 100vh;\r\n          background: #f0f4f8;\r\n        }\r\n\r\n        .dashboard-header {\r\n          background: linear-gradient(135deg, #1a3a5c 0%, #0d2137 100%);\r\n          padding: 20px 30px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n        }\r\n\r\n        .header-left h1 {\r\n          color: white;\r\n          font-size: 24px;\r\n          margin: 0 0 5px 0;\r\n        }\r\n\r\n        .header-left p {\r\n          color: rgba(255,255,255,0.7);\r\n          font-size: 14px;\r\n          margin: 0;\r\n        }\r\n\r\n        .header-right {\r\n          display: flex;\r\n          gap: 12px;\r\n        }\r\n\r\n        .header-btn {\r\n          padding: 10px 20px;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.2s;\r\n        }\r\n\r\n        .btn-new-case {\r\n          background: #28a745;\r\n          color: white;\r\n        }\r\n\r\n        .btn-new-case:hover {\r\n          background: #218838;\r\n        }\r\n\r\n        .btn-admin {\r\n          background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\r\n          color: white;\r\n          border: none;\r\n        }\r\n\r\n        .btn-admin:hover {\r\n          background: linear-gradient(135deg, #5558e3 0%, #7c4fe0 100%);\r\n        }\r\n\r\n        .btn-logout {\r\n          background: rgba(255,255,255,0.1);\r\n          color: white;\r\n          border: 1px solid rgba(255,255,255,0.3);\r\n        }\r\n\r\n        .btn-logout:hover {\r\n          background: rgba(255,255,255,0.2);\r\n        }\r\n\r\n        .dashboard-content {\r\n          flex: 1;\r\n          padding: 30px;\r\n          overflow-y: auto;\r\n        }\r\n\r\n        .filter-bar {\r\n          background: white;\r\n          border-radius: 10px;\r\n          padding: 20px;\r\n          margin-bottom: 25px;\r\n          box-shadow: 0 2px 8px rgba(0,0,0,0.08);\r\n        }\r\n\r\n        .filter-row {\r\n          display: flex;\r\n          gap: 15px;\r\n          align-items: center;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .search-input {\r\n          flex: 1;\r\n          min-width: 250px;\r\n          padding: 10px 15px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 6px;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .filter-select {\r\n          padding: 10px 15px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 6px;\r\n          font-size: 14px;\r\n          min-width: 150px;\r\n        }\r\n\r\n        .filter-btn {\r\n          padding: 10px 15px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 6px;\r\n          background: white;\r\n          font-size: 14px;\r\n          cursor: pointer;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 5px;\r\n        }\r\n\r\n        .filter-btn:hover {\r\n          background: #f5f5f5;\r\n        }\r\n\r\n        .filter-btn.active {\r\n          background: #e3f2fd;\r\n          border-color: #0066cc;\r\n          color: #0066cc;\r\n        }\r\n\r\n        .advanced-filters {\r\n          margin-top: 15px;\r\n          padding-top: 15px;\r\n          border-top: 1px solid #eee;\r\n          display: flex;\r\n          gap: 15px;\r\n          align-items: center;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .date-filter {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        .date-filter label {\r\n          font-size: 13px;\r\n          color: #666;\r\n        }\r\n\r\n        .date-filter input {\r\n          padding: 8px 12px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 6px;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .clear-filters {\r\n          color: #0066cc;\r\n          background: none;\r\n          border: none;\r\n          font-size: 13px;\r\n          cursor: pointer;\r\n          text-decoration: underline;\r\n        }\r\n\r\n        .section-title {\r\n          font-size: 18px;\r\n          font-weight: 600;\r\n          color: #1a3a5c;\r\n          margin-bottom: 15px;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n        }\r\n\r\n        .section-title .count {\r\n          background: #e0e0e0;\r\n          padding: 3px 10px;\r\n          border-radius: 12px;\r\n          font-size: 13px;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .section-title.incomplete .count {\r\n          background: #fff3cd;\r\n          color: #856404;\r\n        }\r\n\r\n        .section-title.complete .count {\r\n          background: #d4edda;\r\n          color: #155724;\r\n        }\r\n\r\n        .eprf-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n          gap: 20px;\r\n          margin-bottom: 40px;\r\n        }\r\n\r\n        .eprf-card {\r\n          background: white;\r\n          border-radius: 12px;\r\n          box-shadow: 0 2px 10px rgba(0,0,0,0.08);\r\n          overflow: hidden;\r\n          transition: transform 0.2s, box-shadow 0.2s;\r\n        }\r\n\r\n        .eprf-card:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 4px 20px rgba(0,0,0,0.12);\r\n        }\r\n\r\n        .card-header {\r\n          padding: 15px 20px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n        }\r\n\r\n        .card-header.incomplete {\r\n          background: linear-gradient(135deg, #fff3cd 0%, #ffeeba 100%);\r\n          border-bottom: 2px solid #ffc107;\r\n        }\r\n\r\n        .card-header.complete {\r\n          background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);\r\n          border-bottom: 2px solid #28a745;\r\n        }\r\n\r\n        .card-incident-id {\r\n          font-size: 16px;\r\n          font-weight: 700;\r\n          color: #1a3a5c;\r\n        }\r\n\r\n        .card-status {\r\n          padding: 4px 12px;\r\n          border-radius: 12px;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n          text-transform: uppercase;\r\n        }\r\n\r\n        .card-status.incomplete {\r\n          background: #856404;\r\n          color: white;\r\n        }\r\n\r\n        .card-status.complete {\r\n          background: #28a745;\r\n          color: white;\r\n        }\r\n\r\n        .card-body {\r\n          padding: 20px;\r\n        }\r\n\r\n        .card-patients {\r\n          margin-bottom: 15px;\r\n        }\r\n\r\n        .patient-row {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 10px 12px;\r\n          background: #f8f9fa;\r\n          border-radius: 6px;\r\n          margin-bottom: 8px;\r\n        }\r\n\r\n        .patient-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n        }\r\n\r\n        .patient-letter {\r\n          width: 28px;\r\n          height: 28px;\r\n          background: #1a3a5c;\r\n          color: white;\r\n          border-radius: 50%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-weight: 600;\r\n          font-size: 13px;\r\n        }\r\n\r\n        .patient-status {\r\n          font-size: 12px;\r\n          padding: 2px 8px;\r\n          border-radius: 4px;\r\n        }\r\n\r\n        .patient-status.incomplete {\r\n          background: #fff3cd;\r\n          color: #856404;\r\n        }\r\n\r\n        .patient-status.complete {\r\n          background: #d4edda;\r\n          color: #155724;\r\n        }\r\n\r\n        .card-meta {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 12px;\r\n          color: #888;\r\n          margin-bottom: 15px;\r\n        }\r\n\r\n        .card-actions {\r\n          display: flex;\r\n          gap: 10px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .card-btn {\r\n          flex: 1;\r\n          min-width: 80px;\r\n          padding: 10px 15px;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 13px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.2s;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 5px;\r\n        }\r\n\r\n        .btn-edit {\r\n          background: #0066cc;\r\n          color: white;\r\n        }\r\n\r\n        .btn-edit:hover {\r\n          background: #0052a3;\r\n        }\r\n\r\n        .btn-view {\r\n          background: #6c757d;\r\n          color: white;\r\n        }\r\n\r\n        .btn-view:hover {\r\n          background: #5a6268;\r\n        }\r\n\r\n        .btn-download {\r\n          background: #28a745;\r\n          color: white;\r\n        }\r\n\r\n        .btn-download:hover {\r\n          background: #218838;\r\n        }\r\n\r\n        .btn-delete {\r\n          background: #dc3545;\r\n          color: white;\r\n        }\r\n\r\n        .btn-delete:hover {\r\n          background: #c82333;\r\n        }\r\n\r\n        .empty-state {\r\n          text-align: center;\r\n          padding: 60px 30px;\r\n          background: white;\r\n          border-radius: 12px;\r\n          box-shadow: 0 2px 10px rgba(0,0,0,0.08);\r\n        }\r\n\r\n        .empty-icon {\r\n          font-size: 60px;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .empty-title {\r\n          font-size: 20px;\r\n          font-weight: 600;\r\n          color: #1a3a5c;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .empty-text {\r\n          font-size: 14px;\r\n          color: #666;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .empty-btn {\r\n          padding: 12px 30px;\r\n          background: #28a745;\r\n          color: white;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 15px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .empty-btn:hover {\r\n          background: #218838;\r\n        }\r\n\r\n        .multi-patient-warning {\r\n          background: #fff3cd;\r\n          border: 1px solid #ffc107;\r\n          border-radius: 6px;\r\n          padding: 10px 12px;\r\n          font-size: 12px;\r\n          color: #856404;\r\n          margin-bottom: 15px;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        .loading-state {\r\n          text-align: center;\r\n          padding: 60px 30px;\r\n          background: white;\r\n          border-radius: 12px;\r\n          box-shadow: 0 2px 10px rgba(0,0,0,0.08);\r\n        }\r\n\r\n        .loading-spinner {\r\n          width: 50px;\r\n          height: 50px;\r\n          border: 4px solid #e0e0e0;\r\n          border-top-color: #0066cc;\r\n          border-radius: 50%;\r\n          animation: spin 1s linear infinite;\r\n          margin: 0 auto 20px;\r\n        }\r\n\r\n        @keyframes spin {\r\n          to { transform: rotate(360deg); }\r\n        }\r\n\r\n        .loading-text {\r\n          font-size: 16px;\r\n          color: #666;\r\n        }\r\n          gap: 8px;\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"dashboard-header\">\r\n        <div className=\"header-left\">\r\n          <h1>ePRF Dashboard</h1>\r\n          <p>Welcome back, {currentUser?.callsign || fleetId}</p>\r\n        </div>\r\n        <div className=\"header-right\">\r\n          {currentUser && isAdmin(currentUser.discordId) && (\r\n            <button className=\"header-btn btn-admin\" onClick={() => router.push('/admin')}>\r\n              ⚙️ Admin Panel\r\n            </button>\r\n          )}\r\n          <button className=\"header-btn btn-new-case\" onClick={handleNewCase}>\r\n            + New Case\r\n          </button>\r\n          <button className=\"header-btn btn-logout\" onClick={handleLogout}>\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"dashboard-content\">\r\n        {/* Filter Bar */}\r\n        <div className=\"filter-bar\">\r\n          <div className=\"filter-row\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"search-input\"\r\n              placeholder=\"Search by incident number, patient letter, or callsign...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n            />\r\n            <select \r\n              className=\"filter-select\"\r\n              value={statusFilter}\r\n              onChange={(e) => setStatusFilter(e.target.value as any)}\r\n            >\r\n              <option value=\"all\">All Status</option>\r\n              <option value=\"incomplete\">Incomplete</option>\r\n              <option value=\"complete\">Complete</option>\r\n            </select>\r\n            <button \r\n              className={`filter-btn ${showFilters ? 'active' : ''}`}\r\n              onClick={() => setShowFilters(!showFilters)}\r\n            >\r\n              🔍 Filters\r\n            </button>\r\n          </div>\r\n          \r\n          {showFilters && (\r\n            <div className=\"advanced-filters\">\r\n              <div className=\"date-filter\">\r\n                <label>From:</label>\r\n                <input \r\n                  type=\"date\" \r\n                  value={dateFrom}\r\n                  onChange={(e) => setDateFrom(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"date-filter\">\r\n                <label>To:</label>\r\n                <input \r\n                  type=\"date\" \r\n                  value={dateTo}\r\n                  onChange={(e) => setDateTo(e.target.value)}\r\n                />\r\n              </div>\r\n              <button className=\"clear-filters\" onClick={clearFilters}>\r\n                Clear all filters\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Loading State */}\r\n        {isLoading && (\r\n          <div className=\"loading-state\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <p className=\"loading-text\">Loading ePRF records...</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Current/Incomplete ePRFs */}\r\n        {!isLoading && incompleteGroups.length > 0 && (\r\n          <>\r\n            <h2 className=\"section-title incomplete\">\r\n              📝 Current ePRFs\r\n              <span className=\"count\">{incompleteGroups.length}</span>\r\n            </h2>\r\n            <div className=\"eprf-grid\">\r\n              {incompleteGroups.map(group => (\r\n                <div key={group.incidentId} className=\"eprf-card\">\r\n                  <div className=\"card-header incomplete\">\r\n                    <span className=\"card-incident-id\">{group.incidentId}</span>\r\n                    <span className=\"card-status incomplete\">In Progress</span>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    {group.patients.length > 1 && (\r\n                      <div className=\"multi-patient-warning\">\r\n                        ⚠️ Multi-patient incident - all patients must be completed before submission\r\n                      </div>\r\n                    )}\r\n                    <div className=\"card-patients\">\r\n                      {group.patients.map(patient => (\r\n                        <div key={patient.patientLetter} className=\"patient-row\">\r\n                          <div className=\"patient-info\">\r\n                            <span className=\"patient-letter\">{patient.patientLetter}</span>\r\n                            <span>Patient {patient.patientLetter}</span>\r\n                          </div>\r\n                          <span className={`patient-status ${patient.status}`}>\r\n                            {patient.status === 'complete' ? '✓ Complete' : 'Incomplete'}\r\n                          </span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"card-meta\">\r\n                      <span>Created: {new Date(group.createdAt).toLocaleDateString('en-GB')}</span>\r\n                      <span>Fleet: {group.fleetId}</span>\r\n                    </div>\r\n                    <div className=\"card-actions\">\r\n                      <button \r\n                        className=\"card-btn btn-edit\"\r\n                        onClick={() => handleEdit(group.patients[0])}\r\n                      >\r\n                        ✏️ Edit\r\n                      </button>\r\n                      <button \r\n                        className=\"card-btn btn-delete\"\r\n                        onClick={() => handleDeleteClick(group.patients.find(p => p.status === 'incomplete') || group.patients[0])}\r\n                      >\r\n                        🗑️ Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Completed ePRFs */}\r\n        {!isLoading && completeGroups.length > 0 && (\r\n          <>\r\n            <h2 className=\"section-title complete\">\r\n              ✅ Completed ePRFs\r\n              <span className=\"count\">{completeGroups.length}</span>\r\n            </h2>\r\n            <div className=\"eprf-grid\">\r\n              {completeGroups.map(group => (\r\n                <div key={group.incidentId} className=\"eprf-card\">\r\n                  <div className=\"card-header complete\">\r\n                    <span className=\"card-incident-id\">{group.incidentId}</span>\r\n                    <span className=\"card-status complete\">Completed</span>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"card-patients\">\r\n                      {group.patients.map(patient => (\r\n                        <div key={patient.patientLetter} className=\"patient-row\">\r\n                          <div className=\"patient-info\">\r\n                            <span className=\"patient-letter\">{patient.patientLetter}</span>\r\n                            <span>Patient {patient.patientLetter}</span>\r\n                          </div>\r\n                          <span className=\"patient-status complete\">✓ Complete</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"card-meta\">\r\n                      <span>Submitted: {new Date(group.patients[0]?.submittedAt || group.createdAt).toLocaleDateString('en-GB')}</span>\r\n                      <span>Fleet: {group.fleetId}</span>\r\n                    </div>\r\n                    <div className=\"card-actions\">\r\n                      <button \r\n                        className=\"card-btn btn-view\"\r\n                        onClick={() => handleView(group.patients[0])}\r\n                      >\r\n                        👁️ View\r\n                      </button>\r\n                      {group.patients.map(patient => (\r\n                        <button \r\n                          key={patient.patientLetter}\r\n                          className=\"card-btn btn-download\"\r\n                          onClick={() => handleDownload(patient)}\r\n                        >\r\n                          📥 {group.patients.length > 1 ? `Pt ${patient.patientLetter}` : 'Download'}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Empty State */}\r\n        {!isLoading && eprfGroups.length === 0 && (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">📋</div>\r\n            <h3 className=\"empty-title\">No ePRFs Found</h3>\r\n            <p className=\"empty-text\">\r\n              {searchQuery || statusFilter !== 'all' || dateFrom || dateTo\r\n                ? 'No ePRFs match your current filters. Try adjusting your search criteria.'\r\n                : 'You haven\\'t created any ePRFs yet. Click \"New Case\" to get started.'}\r\n            </p>\r\n            {!searchQuery && statusFilter === 'all' && !dateFrom && !dateTo && (\r\n              <button className=\"empty-btn\" onClick={handleNewCase}>\r\n                + Create New Case\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"eprf-footer\">\r\n        <div className=\"footer-left\">\r\n          <button className=\"footer-btn internet\">Internet</button>\r\n          <button className=\"footer-btn server\">Server</button>\r\n        </div>\r\n        <div className=\"footer-center\">\r\n          <span className=\"fleet-label\">Fleet ID:</span>\r\n          <span className=\"fleet-id\">{fleetId}</span>\r\n        </div>\r\n        <div className=\"footer-right\">\r\n          <span className=\"version\">v 2.19.1</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* New Case Modal */}\r\n      {showNewCase && (\r\n        <div className=\"modal-overlay\" onClick={handleCaseCancel}>\r\n          <div className=\"modal-dialog\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">Master Incident Number</div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"modal-section-label\">Incident Number</div>\r\n              <div className=\"incident-fields\">\r\n                <div className=\"incident-input-group\">\r\n                  <input\r\n                    type=\"number\"\r\n                    value={incidentNumber}\r\n                    onChange={(e) => setIncidentNumber(e.target.value.slice(0, 4).padStart(4, '0'))}\r\n                    className=\"incident-input\"\r\n                    min=\"0\"\r\n                    max=\"9999\"\r\n                    style={{ width: '135px' }}\r\n                  />\r\n                  <div className=\"incident-arrows\">\r\n                    <button className=\"arrow-btn up\" onClick={incrementIncident}>▲</button>\r\n                    <button className=\"arrow-btn down\" onClick={decrementIncident}>▼</button>\r\n                  </div>\r\n                </div>\r\n                <span className=\"separator\">-</span>\r\n                <input\r\n                  type=\"text\"\r\n                  value={caseNumber}\r\n                  readOnly\r\n                  disabled\r\n                  className=\"incident-part readonly\"\r\n                  style={{ width: '75px', backgroundColor: '#c0d0e0', color: '#556575' }}\r\n                />\r\n                <span className=\"separator\">-</span>\r\n                <input\r\n                  type=\"text\"\r\n                  value={caseDate}\r\n                  readOnly\r\n                  disabled\r\n                  className=\"incident-part date readonly\"\r\n                />\r\n                <span className=\"separator\">-</span>\r\n                <input\r\n                  type=\"text\"\r\n                  value={caseLetter}\r\n                  readOnly\r\n                  disabled\r\n                  className=\"incident-part letter readonly\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-actions\">\r\n              <button className=\"modal-btn cancel\" onClick={handleCaseCancel}>Cancel</button>\r\n              <button className=\"modal-btn ok\" onClick={handleCaseOK}>OK</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <ConfirmationModal\r\n        isOpen={showDeleteModal}\r\n        onClose={() => setShowDeleteModal(false)}\r\n        onConfirm={confirmDelete}\r\n        title=\"Delete ePRF\"\r\n        message={`Are you sure you want to delete this ePRF?\\n\\nIncident: ${deleteTarget?.incidentId}\\nPatient: ${deleteTarget?.patientLetter}\\n\\nThis action cannot be undone and all data will be permanently lost.`}\r\n        confirmText=\"Yes, Delete\"\r\n        cancelText=\"Cancel\"\r\n        type=\"warning\"\r\n        isLoading={isDeleting}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\n// ePRF History and Management Service\r\n// This service now uses the database API with localStorage as a cache\r\n\r\nimport * as api from './apiClient'\r\n\r\nexport interface EPRFRecord {\r\n  id: string\r\n  incidentId: string\r\n  patientLetter: string\r\n  status: 'incomplete' | 'complete'\r\n  author: string // discordId of the author\r\n  authorCallsign: string\r\n  createdAt: string\r\n  updatedAt: string\r\n  submittedAt?: string\r\n  fleetId: string\r\n}\r\n\r\nexport interface EPRFGroup {\r\n  incidentId: string\r\n  patients: EPRFRecord[]\r\n  allComplete: boolean\r\n  createdAt: string\r\n  fleetId: string\r\n}\r\n\r\nconst EPRF_HISTORY_KEY = 'eprf_history'\r\nconst EPRF_CACHE_KEY = 'eprf_cache_timestamp'\r\nconst CACHE_DURATION = 5 * 60 * 1000 // 5 minutes\r\n\r\n// Convert API record to local record format\r\nfunction apiToLocal(record: api.EPRFRecord): EPRFRecord {\r\n  return {\r\n    id: `${record.incident_id}-${record.patient_letter}`,\r\n    incidentId: record.incident_id,\r\n    patientLetter: record.patient_letter,\r\n    status: record.status as 'incomplete' | 'complete',\r\n    author: record.author_discord_id,\r\n    authorCallsign: record.author_callsign,\r\n    createdAt: record.created_at,\r\n    updatedAt: record.updated_at,\r\n    submittedAt: record.submitted_at,\r\n    fleetId: record.fleet_id\r\n  }\r\n}\r\n\r\n// Get all ePRF records for a user (async version for API)\r\nexport async function getEPRFHistoryAsync(discordId: string): Promise<EPRFRecord[]> {\r\n  try {\r\n    const apiRecords = await api.getEPRFRecordsByUser(discordId)\r\n    const records = apiRecords.map(apiToLocal)\r\n    \r\n    // Update local cache\r\n    const allRecords = getAllEPRFRecords()\r\n    const otherRecords = allRecords.filter(r => r.author !== discordId)\r\n    localStorage.setItem(EPRF_HISTORY_KEY, JSON.stringify([...otherRecords, ...records]))\r\n    localStorage.setItem(EPRF_CACHE_KEY, Date.now().toString())\r\n    \r\n    return records\r\n  } catch (error) {\r\n    console.error('Failed to fetch from API, using cache:', error)\r\n    return getEPRFHistory(discordId)\r\n  }\r\n}\r\n\r\n// Get all ePRF records for a user (sync version from cache)\r\nexport function getEPRFHistory(discordId: string): EPRFRecord[] {\r\n  try {\r\n    const data = localStorage.getItem(EPRF_HISTORY_KEY)\r\n    if (!data) return []\r\n    const allRecords: EPRFRecord[] = JSON.parse(data)\r\n    return allRecords.filter(r => r.author === discordId)\r\n  } catch {\r\n    return []\r\n  }\r\n}\r\n\r\n// Get all ePRF records (for admin purposes)\r\nexport function getAllEPRFRecords(): EPRFRecord[] {\r\n  try {\r\n    const data = localStorage.getItem(EPRF_HISTORY_KEY)\r\n    return data ? JSON.parse(data) : []\r\n  } catch {\r\n    return []\r\n  }\r\n}\r\n\r\n// Save or update an ePRF record (local cache only)\r\nexport function saveEPRFRecordLocal(record: EPRFRecord): void {\r\n  const allRecords = getAllEPRFRecords()\r\n  const existingIndex = allRecords.findIndex(\r\n    r => r.incidentId === record.incidentId && r.patientLetter === record.patientLetter\r\n  )\r\n  \r\n  if (existingIndex >= 0) {\r\n    allRecords[existingIndex] = { ...allRecords[existingIndex], ...record, updatedAt: new Date().toISOString() }\r\n  } else {\r\n    allRecords.push(record)\r\n  }\r\n  \r\n  localStorage.setItem(EPRF_HISTORY_KEY, JSON.stringify(allRecords))\r\n}\r\n\r\n// Save or update an ePRF record (API + cache)\r\nexport async function saveEPRFRecord(record: EPRFRecord): Promise<void> {\r\n  // Save to local cache first\r\n  saveEPRFRecordLocal(record)\r\n  \r\n  // Then sync to API (fire and forget for now)\r\n  try {\r\n    await api.createEPRFRecord(\r\n      record.incidentId,\r\n      record.patientLetter,\r\n      record.author,\r\n      record.authorCallsign,\r\n      record.fleetId\r\n    )\r\n  } catch (error) {\r\n    console.error('Failed to sync to API:', error)\r\n  }\r\n}\r\n\r\n// Create a new ePRF record (async version)\r\nexport async function createEPRFRecordAsync(\r\n  incidentId: string, \r\n  patientLetter: string, \r\n  authorDiscordId: string, \r\n  authorCallsign: string,\r\n  fleetId: string\r\n): Promise<EPRFRecord> {\r\n  const now = new Date().toISOString()\r\n  const record: EPRFRecord = {\r\n    id: `${incidentId}-${patientLetter}`,\r\n    incidentId,\r\n    patientLetter,\r\n    status: 'incomplete',\r\n    author: authorDiscordId,\r\n    authorCallsign,\r\n    createdAt: now,\r\n    updatedAt: now,\r\n    fleetId\r\n  }\r\n  \r\n  // Save to local cache\r\n  saveEPRFRecordLocal(record)\r\n  \r\n  // Save to API\r\n  try {\r\n    await api.createEPRFRecord(incidentId, patientLetter, authorDiscordId, authorCallsign, fleetId)\r\n  } catch (error) {\r\n    console.error('Failed to save to API:', error)\r\n  }\r\n  \r\n  return record\r\n}\r\n\r\n// Create a new ePRF record (sync version - uses local cache)\r\nexport function createEPRFRecord(\r\n  incidentId: string, \r\n  patientLetter: string, \r\n  authorDiscordId: string, \r\n  authorCallsign: string,\r\n  fleetId: string\r\n): EPRFRecord {\r\n  const now = new Date().toISOString()\r\n  const record: EPRFRecord = {\r\n    id: `${incidentId}-${patientLetter}`,\r\n    incidentId,\r\n    patientLetter,\r\n    status: 'incomplete',\r\n    author: authorDiscordId,\r\n    authorCallsign,\r\n    createdAt: now,\r\n    updatedAt: now,\r\n    fleetId\r\n  }\r\n  saveEPRFRecordLocal(record)\r\n  \r\n  // Fire and forget API call\r\n  api.createEPRFRecord(incidentId, patientLetter, authorDiscordId, authorCallsign, fleetId)\r\n    .catch(err => console.error('Failed to sync to API:', err))\r\n  \r\n  return record\r\n}\r\n\r\n// Mark an ePRF as complete (async version)\r\nexport async function markEPRFCompleteAsync(incidentId: string, patientLetter: string): Promise<void> {\r\n  // Update local cache\r\n  markEPRFCompleteLocal(incidentId, patientLetter)\r\n  \r\n  // Update via API\r\n  try {\r\n    await api.markEPRFComplete(incidentId, patientLetter)\r\n  } catch (error) {\r\n    console.error('Failed to mark complete via API:', error)\r\n  }\r\n}\r\n\r\n// Mark an ePRF as complete (local only)\r\nfunction markEPRFCompleteLocal(incidentId: string, patientLetter: string): void {\r\n  const allRecords = getAllEPRFRecords()\r\n  const record = allRecords.find(\r\n    r => r.incidentId === incidentId && r.patientLetter === patientLetter\r\n  )\r\n  \r\n  if (record) {\r\n    record.status = 'complete'\r\n    record.submittedAt = new Date().toISOString()\r\n    record.updatedAt = new Date().toISOString()\r\n    localStorage.setItem(EPRF_HISTORY_KEY, JSON.stringify(allRecords))\r\n  }\r\n}\r\n\r\n// Mark an ePRF as complete (sync version with fire-and-forget API)\r\nexport function markEPRFComplete(incidentId: string, patientLetter: string): void {\r\n  markEPRFCompleteLocal(incidentId, patientLetter)\r\n  \r\n  // Fire and forget API call\r\n  api.markEPRFComplete(incidentId, patientLetter)\r\n    .catch(err => console.error('Failed to sync to API:', err))\r\n}\r\n\r\n// Delete an ePRF record (async version)\r\nexport async function deleteEPRFRecordAsync(incidentId: string, patientLetter: string): Promise<boolean> {\r\n  // Delete from local cache first\r\n  const localSuccess = deleteEPRFRecordLocal(incidentId, patientLetter)\r\n  \r\n  // Delete via API\r\n  try {\r\n    await api.deleteEPRFRecord(incidentId, patientLetter)\r\n    return true\r\n  } catch (error) {\r\n    console.error('Failed to delete via API:', error)\r\n    return localSuccess\r\n  }\r\n}\r\n\r\n// Delete an ePRF record (local only)\r\nfunction deleteEPRFRecordLocal(incidentId: string, patientLetter: string): boolean {\r\n  const allRecords = getAllEPRFRecords()\r\n  const record = allRecords.find(\r\n    r => r.incidentId === incidentId && r.patientLetter === patientLetter\r\n  )\r\n  \r\n  if (record && record.status === 'incomplete') {\r\n    const filtered = allRecords.filter(\r\n      r => !(r.incidentId === incidentId && r.patientLetter === patientLetter)\r\n    )\r\n    localStorage.setItem(EPRF_HISTORY_KEY, JSON.stringify(filtered))\r\n    clearEPRFData(incidentId)\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\n// Delete an ePRF record (sync version with fire-and-forget API)\r\nexport function deleteEPRFRecord(incidentId: string, patientLetter: string): boolean {\r\n  const success = deleteEPRFRecordLocal(incidentId, patientLetter)\r\n  \r\n  // Fire and forget API call\r\n  api.deleteEPRFRecord(incidentId, patientLetter)\r\n    .catch(err => console.error('Failed to sync delete to API:', err))\r\n  \r\n  return success\r\n}\r\n\r\n// Clear all localStorage data for an ePRF\r\nfunction clearEPRFData(incidentId: string): void {\r\n  const keys = [\r\n    'incident',\r\n    'patient_info',\r\n    'primary_survey',\r\n    'hx_complaint',\r\n    'past_medical_history',\r\n    'clinical_impression',\r\n    'disposition',\r\n    'vitals',\r\n    'medications',\r\n    'interventions',\r\n    'media'\r\n  ]\r\n  \r\n  keys.forEach(key => {\r\n    localStorage.removeItem(`${key}_${incidentId}`)\r\n  })\r\n}\r\n\r\n// Transfer ePRF to another user (async version)\r\nexport async function transferEPRFAsync(\r\n  incidentId: string, \r\n  patientLetter: string, \r\n  newAuthorDiscordId: string,\r\n  newAuthorCallsign: string\r\n): Promise<boolean> {\r\n  // Update local cache\r\n  transferEPRFLocal(incidentId, patientLetter, newAuthorDiscordId, newAuthorCallsign)\r\n  \r\n  // Update via API\r\n  try {\r\n    await api.transferEPRF(incidentId, patientLetter, newAuthorDiscordId, newAuthorCallsign)\r\n    return true\r\n  } catch (error) {\r\n    console.error('Failed to transfer via API:', error)\r\n    return true // Still return true since local succeeded\r\n  }\r\n}\r\n\r\n// Transfer ePRF to another user (local only)\r\nfunction transferEPRFLocal(\r\n  incidentId: string, \r\n  patientLetter: string, \r\n  newAuthorDiscordId: string,\r\n  newAuthorCallsign: string\r\n): boolean {\r\n  const allRecords = getAllEPRFRecords()\r\n  const record = allRecords.find(\r\n    r => r.incidentId === incidentId && r.patientLetter === patientLetter\r\n  )\r\n  \r\n  if (record) {\r\n    record.author = newAuthorDiscordId\r\n    record.authorCallsign = newAuthorCallsign\r\n    record.updatedAt = new Date().toISOString()\r\n    localStorage.setItem(EPRF_HISTORY_KEY, JSON.stringify(allRecords))\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\n// Transfer ePRF (sync version with fire-and-forget API)\r\nexport function transferEPRF(\r\n  incidentId: string, \r\n  patientLetter: string, \r\n  newAuthorDiscordId: string,\r\n  newAuthorCallsign: string\r\n): boolean {\r\n  const success = transferEPRFLocal(incidentId, patientLetter, newAuthorDiscordId, newAuthorCallsign)\r\n  \r\n  // Fire and forget API call\r\n  api.transferEPRF(incidentId, patientLetter, newAuthorDiscordId, newAuthorCallsign)\r\n    .catch(err => console.error('Failed to sync transfer to API:', err))\r\n  \r\n  return success\r\n}\r\n\r\n// Transfer all patients for an incident to another user (async version)\r\nexport async function transferAllPatientsAsync(\r\n  incidentId: string,\r\n  newAuthorDiscordId: string,\r\n  newAuthorCallsign: string\r\n): Promise<boolean> {\r\n  const allRecords = getAllEPRFRecords()\r\n  const incidentRecords = allRecords.filter(r => r.incidentId === incidentId)\r\n  \r\n  if (incidentRecords.length === 0) return false\r\n  \r\n  // Transfer each patient\r\n  for (const record of incidentRecords) {\r\n    await transferEPRFAsync(incidentId, record.patientLetter, newAuthorDiscordId, newAuthorCallsign)\r\n  }\r\n  \r\n  return true\r\n}\r\n\r\n// Transfer all patients for an incident (sync version)\r\nexport function transferAllPatients(\r\n  incidentId: string,\r\n  newAuthorDiscordId: string,\r\n  newAuthorCallsign: string\r\n): boolean {\r\n  const allRecords = getAllEPRFRecords()\r\n  const incidentRecords = allRecords.filter(r => r.incidentId === incidentId)\r\n  \r\n  if (incidentRecords.length === 0) return false\r\n  \r\n  // Transfer each patient locally and fire API calls\r\n  incidentRecords.forEach(record => {\r\n    transferEPRF(incidentId, record.patientLetter, newAuthorDiscordId, newAuthorCallsign)\r\n  })\r\n  \r\n  return true\r\n}\r\n\r\n// Search ePRFs with async API fetch\r\nexport async function searchEPRFsAsync(\r\n  discordId: string, \r\n  query?: string, \r\n  status?: string\r\n): Promise<EPRFRecord[]> {\r\n  try {\r\n    const apiRecords = await api.searchEPRFs(discordId, query, status)\r\n    return apiRecords.map(apiToLocal)\r\n  } catch (error) {\r\n    console.error('Failed to search via API, using local cache:', error)\r\n    return searchEPRFs(discordId, query || '', { status: status as any })\r\n  }\r\n}\r\n\r\n// Group ePRFs by incident\r\nexport function groupEPRFsByIncident(records: EPRFRecord[]): EPRFGroup[] {\r\n  const groups: { [key: string]: EPRFRecord[] } = {}\r\n  \r\n  records.forEach(record => {\r\n    if (!groups[record.incidentId]) {\r\n      groups[record.incidentId] = []\r\n    }\r\n    groups[record.incidentId].push(record)\r\n  })\r\n  \r\n  return Object.entries(groups).map(([incidentId, patients]) => ({\r\n    incidentId,\r\n    patients: patients.sort((a, b) => a.patientLetter.localeCompare(b.patientLetter)),\r\n    allComplete: patients.every(p => p.status === 'complete'),\r\n    createdAt: patients[0]?.createdAt || '',\r\n    fleetId: patients[0]?.fleetId || ''\r\n  })).sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\r\n}\r\n\r\n// Check if all patients for an incident are complete\r\nexport function areAllPatientsComplete(incidentId: string): boolean {\r\n  const allRecords = getAllEPRFRecords()\r\n  const incidentRecords = allRecords.filter(r => r.incidentId === incidentId)\r\n  return incidentRecords.length > 0 && incidentRecords.every(r => r.status === 'complete')\r\n}\r\n\r\n// Get incomplete ePRFs for current user\r\nexport function getIncompleteEPRFs(discordId: string): EPRFRecord[] {\r\n  return getEPRFHistory(discordId).filter(r => r.status === 'incomplete')\r\n}\r\n\r\n// Get complete ePRFs for current user\r\nexport function getCompleteEPRFs(discordId: string): EPRFRecord[] {\r\n  return getEPRFHistory(discordId).filter(r => r.status === 'complete')\r\n}\r\n\r\n// Search/filter ePRFs\r\nexport function searchEPRFs(\r\n  discordId: string, \r\n  query: string, \r\n  filters?: {\r\n    status?: 'incomplete' | 'complete' | 'all'\r\n    dateFrom?: string\r\n    dateTo?: string\r\n  }\r\n): EPRFRecord[] {\r\n  let records = getEPRFHistory(discordId)\r\n  \r\n  // Apply status filter\r\n  if (filters?.status && filters.status !== 'all') {\r\n    records = records.filter(r => r.status === filters.status)\r\n  }\r\n  \r\n  // Apply date filters\r\n  if (filters?.dateFrom) {\r\n    const fromDate = new Date(filters.dateFrom).getTime()\r\n    records = records.filter(r => new Date(r.createdAt).getTime() >= fromDate)\r\n  }\r\n  \r\n  if (filters?.dateTo) {\r\n    const toDate = new Date(filters.dateTo).getTime() + (24 * 60 * 60 * 1000) // Include full day\r\n    records = records.filter(r => new Date(r.createdAt).getTime() <= toDate)\r\n  }\r\n  \r\n  // Apply search query\r\n  if (query.trim()) {\r\n    const q = query.toLowerCase()\r\n    records = records.filter(r => \r\n      r.incidentId.toLowerCase().includes(q) ||\r\n      r.patientLetter.toLowerCase().includes(q) ||\r\n      r.authorCallsign.toLowerCase().includes(q)\r\n    )\r\n  }\r\n  \r\n  return records\r\n}\r\n\r\n// Get record by incident and patient\r\nexport function getEPRFRecord(incidentId: string, patientLetter: string): EPRFRecord | null {\r\n  const allRecords = getAllEPRFRecords()\r\n  return allRecords.find(\r\n    r => r.incidentId === incidentId && r.patientLetter === patientLetter\r\n  ) || null\r\n}\r\n\r\n// Check if user has any incomplete multi-patient ePRFs that can't be submitted\r\nexport function getBlockedSubmissions(discordId: string): EPRFGroup[] {\r\n  const records = getEPRFHistory(discordId)\r\n  const groups = groupEPRFsByIncident(records)\r\n  \r\n  return groups.filter(group => \r\n    group.patients.length > 1 && \r\n    !group.allComplete && \r\n    group.patients.some(p => p.status === 'complete')\r\n  )\r\n}\r\n"],"names":["module","exports","require","_self___RSC_MANIFEST","tree","children","page","Promise","resolve","then","__webpack_require__","bind","pages","originalPathname","__next_app__","loadChunk","routeModule","module_compiled","AppPageRouteModule","definition","kind","route_kind","x","APP_PAGE","pathname","bundlePath","filename","appPaths","userland","loaderTree","maybeJSONParse","str","JSON","parse","undefined","buildManifest","self","__BUILD_MANIFEST","reactLoadableManifest","__REACT_LOADABLE_MANIFEST","rscManifest","__RSC_MANIFEST","rscServerManifest","__RSC_SERVER_MANIFEST","nextFontManifest","__NEXT_FONT_MANIFEST","interceptionRouteRewrites","__INTERCEPTION_ROUTE_REWRITE_MANIFEST","encryption_utils","Mo","clientReferenceManifest","serverActionsManifest","serverModuleMap","action_utils","w","pageName","page_stringifiedConfig_eyJlbnYiOnt9LCJ3ZWJwYWNrIjpudWxsLCJlc2xpbnQiOnsiaWdub3JlRHVyaW5nQnVpbGRzIjpmYWxzZX0sInR5cGVzY3JpcHQiOnsiaWdub3JlQnVpbGRFcnJvcnMiOmZhbHNlLCJ0c2NvbmZpZ1BhdGgiOiJ0c2NvbmZpZy5qc29uIn0sImRpc3REaXIiOiIubmV4dCIsImNsZWFuRGlzdERpciI6dHJ1ZSwiYXNzZXRQcmVmaXgiOiIiLCJjYWNoZU1heE1lbW9yeVNpemUiOjUyNDI4ODAwLCJjb25maWdPcmlnaW4iOiJuZXh0LmNvbmZpZy5qcyIsInVzZUZpbGVTeXN0ZW1QdWJsaWNSb3V0ZXMiOnRydWUsImdlbmVyYXRlRXRhZ3MiOnRydWUsInBhZ2VFeHRlbnNpb25zIjpbInRzeCIsInRzIiwianN4IiwianMiXSwicG93ZXJlZEJ5SGVhZGVyIjp0cnVlLCJjb21wcmVzcyI6dHJ1ZSwiYW5hbHl0aWNzSWQiOiIiLCJpbWFnZXMiOnsiZGV2aWNlU2l6ZXMiOls2NDAsNzUwLDgyOCwxMDgwLDEyMDAsMTkyMCwyMDQ4LDM4NDBdLCJpbWFnZVNpemVzIjpbMTYsMzIsNDgsNjQsOTYsMTI4LDI1NiwzODRdLCJwYXRoIjoiL19uZXh0L2ltYWdlIiwibG9hZGVyIjoiZGVmYXVsdCIsImxvYWRlckZpbGUiOiIiLCJkb21haW5zIjpbXSwiZGlzYWJsZVN0YXRpY0ltYWdlcyI6ZmFsc2UsIm1pbmltdW1DYWNoZVRUTCI6NjAsImZvcm1hdHMiOlsiaW1hZ2Uvd2VicCJdLCJkYW5nZXJvdXNseUFsbG93U1ZHIjpmYWxzZSwiY29udGVudFNlY3VyaXR5UG9saWN5Ijoic2NyaXB0LXNyYyAnbm9uZSc7IGZyYW1lLXNyYyAnbm9uZSc7IHNhbmRib3g7IiwiY29udGVudERpc3Bvc2l0aW9uVHlwZSI6ImlubGluZSIsInJlbW90ZVBhdHRlcm5zIjpbXSwidW5vcHRpbWl6ZWQiOmZhbHNlfSwiZGV2SW5kaWNhdG9ycyI6eyJidWlsZEFjdGl2aXR5Ijp0cnVlLCJidWlsZEFjdGl2aXR5UG9zaXRpb24iOiJib3R0b20tcmlnaHQifSwib25EZW1hbmRFbnRyaWVzIjp7Im1heEluYWN0aXZlQWdlIjo2MDAwMCwicGFnZXNCdWZmZXJMZW5ndGgiOjV9LCJhbXAiOnsiY2Fub25pY2FsQmFzZSI6IiJ9LCJiYXNlUGF0aCI6IiIsInNhc3NPcHRpb25zIjp7fSwidHJhaWxpbmdTbGFzaCI6ZmFsc2UsImkxOG4iOm51bGwsInByb2R1Y3Rpb25Ccm93c2VyU291cmNlTWFwcyI6ZmFsc2UsIm9wdGltaXplRm9udHMiOnRydWUsImV4Y2x1ZGVEZWZhdWx0TW9tZW50TG9jYWxlcyI6dHJ1ZSwic2VydmVyUnVudGltZUNvbmZpZyI6e30sInB1YmxpY1J1bnRpbWVDb25maWciOnt9LCJyZWFjdFByb2R1Y3Rpb25Qcm9maWxpbmciOmZhbHNlLCJyZWFjdFN0cmljdE1vZGUiOm51bGwsImh0dHBBZ2VudE9wdGlvbnMiOnsia2VlcEFsaXZlIjp0cnVlfSwib3V0cHV0RmlsZVRyYWNpbmciOnRydWUsInN0YXRpY1BhZ2VHZW5lcmF0aW9uVGltZW91dCI6NjAsInN3Y01pbmlmeSI6dHJ1ZSwibW9kdWxhcml6ZUltcG9ydHMiOnsiQG11aS9pY29ucy1tYXRlcmlhbCI6eyJ0cmFuc2Zvcm0iOiJAbXVpL2ljb25zLW1hdGVyaWFsL3t7bWVtYmVyfX0ifSwibG9kYXNoIjp7InRyYW5zZm9ybSI6ImxvZGFzaC97e21lbWJlcn19In19LCJleHBlcmltZW50YWwiOnsibXVsdGlab25lRHJhZnRNb2RlIjpmYWxzZSwicHJlcmVuZGVyRWFybHlFeGl0IjpmYWxzZSwic2VydmVyTWluaWZpY2F0aW9uIjp0cnVlLCJzZXJ2ZXJTb3VyY2VNYXBzIjpmYWxzZSwibGlua05vVG91Y2hTdGFydCI6ZmFsc2UsImNhc2VTZW5zaXRpdmVSb3V0ZXMiOmZhbHNlLCJjbGllbnRSb3V0ZXJGaWx0ZXIiOnRydWUsImNsaWVudFJvdXRlckZpbHRlclJlZGlyZWN0cyI6ZmFsc2UsImZldGNoQ2FjaGVLZXlQcmVmaXgiOiIiLCJtaWRkbGV3YXJlUHJlZmV0Y2giOiJmbGV4aWJsZSIsIm9wdGltaXN0aWNDbGllbnRDYWNoZSI6dHJ1ZSwibWFudWFsQ2xpZW50QmFzZVBhdGgiOmZhbHNlLCJjcHVzIjoxMSwibWVtb3J5QmFzZWRXb3JrZXJzQ291bnQiOmZhbHNlLCJpc3JGbHVzaFRvRGlzayI6dHJ1ZSwid29ya2VyVGhyZWFkcyI6ZmFsc2UsIm9wdGltaXplQ3NzIjpmYWxzZSwibmV4dFNjcmlwdFdvcmtlcnMiOmZhbHNlLCJzY3JvbGxSZXN0b3JhdGlvbiI6ZmFsc2UsImV4dGVybmFsRGlyIjpmYWxzZSwiZGlzYWJsZU9wdGltaXplZExvYWRpbmciOmZhbHNlLCJnemlwU2l6ZSI6dHJ1ZSwiY3JhQ29tcGF0IjpmYWxzZSwiZXNtRXh0ZXJuYWxzIjp0cnVlLCJmdWxseVNwZWNpZmllZCI6ZmFsc2UsIm91dHB1dEZpbGVUcmFjaW5nUm9vdCI6IkM6XFxVc2Vyc1xcVG9ieVxcRG93bmxvYWRzXFxub2RlLXYyNC4xMS4xLXdpbi14NjRcXGFwcDEyMyIsInN3Y1RyYWNlUHJvZmlsaW5nIjpmYWxzZSwiZm9yY2VTd2NUcmFuc2Zvcm1zIjpmYWxzZSwibGFyZ2VQYWdlRGF0YUJ5dGVzIjoxMjgwMDAsImFkanVzdEZvbnRGYWxsYmFja3MiOmZhbHNlLCJhZGp1c3RGb250RmFsbGJhY2tzV2l0aFNpemVBZGp1c3QiOmZhbHNlLCJ0eXBlZFJvdXRlcyI6ZmFsc2UsImluc3RydW1lbnRhdGlvbkhvb2siOmZhbHNlLCJidW5kbGVQYWdlc0V4dGVybmFscyI6ZmFsc2UsInBhcmFsbGVsU2VydmVyQ29tcGlsZXMiOmZhbHNlLCJwYXJhbGxlbFNlcnZlckJ1aWxkVHJhY2VzIjpmYWxzZSwicHByIjpmYWxzZSwibWlzc2luZ1N1c3BlbnNlV2l0aENTUkJhaWxvdXQiOnRydWUsIm9wdGltaXplU2VydmVyUmVhY3QiOnRydWUsInVzZUVhcmx5SW1wb3J0IjpmYWxzZSwic3RhbGVUaW1lcyI6eyJkeW5hbWljIjozMCwic3RhdGljIjozMDB9LCJvcHRpbWl6ZVBhY2thZ2VJbXBvcnRzIjpbImx1Y2lkZS1yZWFjdCIsImRhdGUtZm5zIiwibG9kYXNoLWVzIiwicmFtZGEiLCJhbnRkIiwicmVhY3QtYm9vdHN0cmFwIiwiYWhvb2tzIiwiQGFudC1kZXNpZ24vaWNvbnMiLCJAaGVhZGxlc3N1aS9yZWFjdCIsIkBoZWFkbGVzc3VpLWZsb2F0L3JlYWN0IiwiQGhlcm9pY29ucy9yZWFjdC8yMC9zb2xpZCIsIkBoZXJvaWNvbnMvcmVhY3QvMjQvc29saWQiLCJAaGVyb2ljb25zL3JlYWN0LzI0L291dGxpbmUiLCJAdmlzeC92aXN4IiwiQHRyZW1vci9yZWFjdCIsInJ4anMiLCJAbXVpL21hdGVyaWFsIiwiQG11aS9pY29ucy1tYXRlcmlhbCIsInJlY2hhcnRzIiwicmVhY3QtdXNlIiwiQG1hdGVyaWFsLXVpL2NvcmUiLCJAbWF0ZXJpYWwtdWkvaWNvbnMiLCJAdGFibGVyL2ljb25zLXJlYWN0IiwibXVpLWNvcmUiLCJyZWFjdC1pY29ucy9haSIsInJlYWN0LWljb25zL2JpIiwicmVhY3QtaWNvbnMvYnMiLCJyZWFjdC1pY29ucy9jZyIsInJlYWN0LWljb25zL2NpIiwicmVhY3QtaWNvbnMvZGkiLCJyZWFjdC1pY29ucy9mYSIsInJlYWN0LWljb25zL2ZhNiIsInJlYWN0LWljb25zL2ZjIiwicmVhY3QtaWNvbnMvZmkiLCJyZWFjdC1pY29ucy9naSIsInJlYWN0LWljb25zL2dvIiwicmVhY3QtaWNvbnMvZ3IiLCJyZWFjdC1pY29ucy9oaSIsInJlYWN0LWljb25zL2hpMiIsInJlYWN0LWljb25zL2ltIiwicmVhY3QtaWNvbnMvaW8iLCJyZWFjdC1pY29ucy9pbzUiLCJyZWFjdC1pY29ucy9saWEiLCJyZWFjdC1pY29ucy9saWIiLCJyZWFjdC1pY29ucy9sdSIsInJlYWN0LWljb25zL21kIiwicmVhY3QtaWNvbnMvcGkiLCJyZWFjdC1pY29ucy9yaSIsInJlYWN0LWljb25zL3J4IiwicmVhY3QtaWNvbnMvc2kiLCJyZWFjdC1pY29ucy9zbCIsInJlYWN0LWljb25zL3RiIiwicmVhY3QtaWNvbnMvdGZpIiwicmVhY3QtaWNvbnMvdGkiLCJyZWFjdC1pY29ucy92c2MiLCJyZWFjdC1pY29ucy93aSJdfSwiY29uZmlnRmlsZSI6IkM6XFxVc2Vyc1xcVG9ieVxcRG93bmxvYWRzXFxub2RlLXYyNC4xMS4xLXdpbi14NjRcXGFwcDEyM1xcbmV4dC5jb25maWcuanMiLCJjb25maWdGaWxlTmFtZSI6Im5leHQuY29uZmlnLmpzIn0_pagesType_app_appDirLoader_bmV4dC1hcHAtbG9hZGVyP25hbWU9YXBwJTJGZGFzaGJvYXJkJTJGcGFnZSZwYWdlPSUyRmRhc2hib2FyZCUyRnBhZ2UmcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZkYXNoYm9hcmQlMkZwYWdlLnRzeCZhcHBEaXI9QyUzQSU1Q1VzZXJzJTVDVG9ieSU1Q0Rvd25sb2FkcyU1Q25vZGUtdjI0LjExLjEtd2luLXg2NCU1Q2FwcDEyMyU1Q2FwcCZhcHBQYXRocz0lMkZkYXNoYm9hcmQlMkZwYWdlJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEIQ_sriEnabled_false_middlewareConfig_e30_render","render","d","pagesType","page_types","s","APP","dev","appMod","pageMod","page_next_edge_ssr_entry_namespaceObject","errorMod","error500Mod","Document","renderToHTML","app_render","f","serverActions","subresourceIntegrityManifest","config","buildId","process","env","__NEXT_BUILD_ID","incrementalCacheHandler","ComponentMod","nHandler","opts","adapter","C","IncrementalCache","incremental_cache","k","handler","runtime","DashboardPage","searchParams","useSearchParams","router","useRouter","fleetId","get","currentUser","setCurrentUser","useState","eprfGroups","setEprfGroups","isLoading","setIsLoading","showNewCase","setShowNewCase","incidentNumber","setIncidentNumber","caseNumber","setCaseNumber","caseDate","setCaseDate","caseLetter","setCaseLetter","searchQuery","setSearchQuery","statusFilter","setStatusFilter","dateFrom","setDateFrom","dateTo","setDateTo","showFilters","setShowFilters","showDeleteModal","setShowDeleteModal","deleteTarget","setDeleteTarget","isDeleting","setIsDeleting","loadEPRFHistory","useCallback","discordId","filteredRecords","getEPRFHistoryAsync","filter","r","status","fromDate","Date","getTime","createdAt","toDate","trim","q","toLowerCase","incidentId","includes","patientLetter","authorCallsign","groups","groupEPRFsByIncident","error","console","records","searchEPRFs","handleNewCase","handleCaseCancel","handleEdit","push","encodeURIComponent","record","handleView","handleDownload","data","collectEPRFData","downloadEPRFPdf","handleDeleteClick","confirmDelete","deleteEPRFRecordAsync","incompleteGroups","g","allComplete","completeGroups","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","jsx","h1","p","callsign","isAdmin","button","onClick","input","type","placeholder","value","onChange","e","target","select","option","label","length","Fragment","h2","span","map","group","patients","patient","toLocaleDateString","find","submittedAt","h3","stopPropagation","slice","padStart","min","max","style","width","String","Math","num","parseInt","readOnly","disabled","backgroundColor","color","fullIncidentNumber","ConfirmationModal","isOpen","onClose","onConfirm","title","message","confirmText","cancelText","EPRF_HISTORY_KEY","apiToLocal","id","incident_id","patient_letter","author","author_discord_id","author_callsign","created_at","updatedAt","updated_at","submitted_at","fleet_id","apiRecords","api","otherRecords","allRecords","localStorage","setItem","stringify","now","toString","getEPRFHistory","getItem","getAllEPRFRecords","saveEPRFRecordLocal","existingIndex","findIndex","toISOString","saveEPRFRecord","createEPRFRecordAsync","authorDiscordId","createEPRFRecord","catch","err","markEPRFCompleteAsync","markEPRFCompleteLocal","markEPRFComplete","localSuccess","deleteEPRFRecordLocal","filtered","keys","forEach","key","removeItem","deleteEPRFRecord","success","transferEPRFAsync","newAuthorDiscordId","newAuthorCallsign","transferEPRFLocal","transferEPRF","transferAllPatientsAsync","incidentRecords","transferAllPatients","searchEPRFsAsync","query","Object","entries","sort","a","b","localeCompare","every","areAllPatientsComplete","getIncompleteEPRFs","getCompleteEPRFs","filters","getEPRFRecord","getBlockedSubmissions","some"],"sourceRoot":""}