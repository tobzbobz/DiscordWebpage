(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2067:e=>{"use strict";e.exports=require("node:async_hooks")},6195:e=>{"use strict";e.exports=require("node:buffer")},4775:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ComponentMod:()=>P,default:()=>F});var i,s={};a.r(s),a.d(s,{AppRouter:()=>f.WY,ClientPageRoot:()=>f.b1,GlobalError:()=>c.ZP,LayoutRouter:()=>f.yO,NotFoundBoundary:()=>f.O4,Postpone:()=>f.hQ,RenderFromTemplateContext:()=>f.b5,__next_app__:()=>u,actionAsyncStorage:()=>f.Wz,createDynamicallyTrackedSearchParams:()=>f.rL,createUntrackedSearchParams:()=>f.S5,decodeAction:()=>f.Hs,decodeFormState:()=>f.dH,decodeReply:()=>f.kf,originalPathname:()=>m,pages:()=>p,patchFetch:()=>f.XH,preconnect:()=>f.$P,preloadFont:()=>f.C5,preloadStyle:()=>f.oH,renderToReadableStream:()=>f.aW,requestAsyncStorage:()=>f.Fg,routeModule:()=>g,serverHooks:()=>f.GP,staticGenerationAsyncStorage:()=>f.AT,taintObjectReference:()=>f.nr,tree:()=>x}),a(7206);var r=a(9319),n=a(5989),o=a(1902),l=a(2042),d=a(4630),b=a(4828),c=a(5505),f=a(6453);let x=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8793)),"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7665)),"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,2520)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\dashboard\\page.tsx"],m="/dashboard/page",u={require:a,loadChunk:()=>Promise.resolve()},g=new d.AppPageRouteModule({definition:{kind:b.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:x}});var h=a(9094),j=a(5787),w=a(527);let y=e=>e?JSON.parse(e):void 0,k=self.__BUILD_MANIFEST,v=y(self.__REACT_LOADABLE_MANIFEST),N=null==(i=self.__RSC_MANIFEST)?void 0:i["/dashboard/page"],I=y(self.__RSC_SERVER_MANIFEST),z=y(self.__NEXT_FONT_MANIFEST),C=y(self.__INTERCEPTION_ROUTE_REWRITE_MANIFEST)??[];N&&I&&(0,j.Mo)({clientReferenceManifest:N,serverActionsManifest:I,serverModuleMap:(0,w.w)({serverActionsManifest:I,pageName:"/dashboard/page"})});let S=(0,n.d)({pagesType:h.s.APP,dev:!1,page:"/dashboard/page",appMod:null,pageMod:s,errorMod:null,error500Mod:null,Document:null,buildManifest:k,renderToHTML:l.f,reactLoadableManifest:v,clientReferenceManifest:N,serverActionsManifest:I,serverActions:void 0,subresourceIntegrityManifest:void 0,config:{env:{},webpack:null,eslint:{ignoreDuringBuilds:!1},typescript:{ignoreBuildErrors:!1,tsconfigPath:"tsconfig.json"},distDir:".next",cleanDistDir:!0,assetPrefix:"",cacheMaxMemorySize:52428800,configOrigin:"next.config.js",useFileSystemPublicRoutes:!0,generateEtags:!0,pageExtensions:["tsx","ts","jsx","js"],poweredByHeader:!0,compress:!0,analyticsId:"",images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1},devIndicators:{buildActivity:!0,buildActivityPosition:"bottom-right"},onDemandEntries:{maxInactiveAge:6e4,pagesBufferLength:5},amp:{canonicalBase:""},basePath:"",sassOptions:{},trailingSlash:!1,i18n:null,productionBrowserSourceMaps:!1,optimizeFonts:!0,excludeDefaultMomentLocales:!0,serverRuntimeConfig:{},publicRuntimeConfig:{},reactProductionProfiling:!1,reactStrictMode:null,httpAgentOptions:{keepAlive:!0},outputFileTracing:!0,staticPageGenerationTimeout:60,swcMinify:!0,modularizeImports:{"@mui/icons-material":{transform:"@mui/icons-material/{{member}}"},lodash:{transform:"lodash/{{member}}"}},experimental:{multiZoneDraftMode:!1,prerenderEarlyExit:!1,serverMinification:!0,serverSourceMaps:!1,linkNoTouchStart:!1,caseSensitiveRoutes:!1,clientRouterFilter:!0,clientRouterFilterRedirects:!1,fetchCacheKeyPrefix:"",middlewarePrefetch:"flexible",optimisticClientCache:!0,manualClientBasePath:!1,cpus:11,memoryBasedWorkersCount:!1,isrFlushToDisk:!0,workerThreads:!1,optimizeCss:!1,nextScriptWorkers:!1,scrollRestoration:!1,externalDir:!1,disableOptimizedLoading:!1,gzipSize:!0,craCompat:!1,esmExternals:!0,fullySpecified:!1,outputFileTracingRoot:"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123",swcTraceProfiling:!1,forceSwcTransforms:!1,largePageDataBytes:128e3,adjustFontFallbacks:!1,adjustFontFallbacksWithSizeAdjust:!1,typedRoutes:!1,instrumentationHook:!1,bundlePagesExternals:!1,parallelServerCompiles:!1,parallelServerBuildTraces:!1,ppr:!1,missingSuspenseWithCSRBailout:!0,optimizeServerReact:!0,useEarlyImport:!1,staleTimes:{dynamic:30,static:300},optimizePackageImports:["lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"]},configFile:"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\next.config.js",configFileName:"next.config.js"},buildId:process.env.__NEXT_BUILD_ID,nextFontManifest:z,incrementalCacheHandler:null,interceptionRouteRewrites:C}),P=s;function F(e){return(0,r.C)({...e,IncrementalCache:o.k,handler:S})}},6493:(e,t,a)=>{Promise.resolve().then(a.bind(a,1978))},1978:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x,runtime:()=>f});var i=a(926),s=a(9807),r=a.n(s),n=a(4947),o=a(9220),l=a(2392),d=a(3846),b=a(596),c=a(8718);let f="edge";function x(){let e=(0,n.lr)(),t=(0,n.tv)(),a=e?.get("fleetId")||"",[s,f]=(0,o.useState)(null),[x,p]=(0,o.useState)([]),[m,u]=(0,o.useState)(!0),[g,h]=(0,o.useState)(!1),[j,w]=(0,o.useState)("0000"),[y,k]=(0,o.useState)("001"),[v,N]=(0,o.useState)(""),[I,z]=(0,o.useState)("A"),[C,S]=(0,o.useState)(""),[P,F]=(0,o.useState)("all"),[R,A]=(0,o.useState)(""),[D,_]=(0,o.useState)(""),[E,T]=(0,o.useState)(!1),[L,M]=(0,o.useState)(!1),[O,$]=(0,o.useState)(null),[B,U]=(0,o.useState)(!1),H=(0,o.useCallback)(async e=>{u(!0);try{let t=await (0,l.getEPRFHistoryAsync)(e);if("all"!==P&&(t=t.filter(e=>e.status===P)),R){let e=new Date(R).getTime();t=t.filter(t=>new Date(t.createdAt).getTime()>=e)}if(D){let e=new Date(D).getTime()+864e5;t=t.filter(t=>new Date(t.createdAt).getTime()<=e)}if(C.trim()){let e=C.toLowerCase();t=t.filter(t=>t.incidentId.toLowerCase().includes(e)||t.patientLetter.toLowerCase().includes(e)||t.authorCallsign.toLowerCase().includes(e))}let a=(0,l.groupEPRFsByIncident)(t);p(a)}catch(a){console.error("Failed to load ePRF history:",a);let t=(0,l.searchEPRFs)(e,C,{status:P,dateFrom:R||void 0,dateTo:D||void 0});p((0,l.groupEPRFsByIncident)(t))}finally{u(!1)}},[P,R,D,C]),G=()=>{h(!0)},J=()=>{h(!1)},W=e=>{t.push(`/incident?id=${encodeURIComponent(e.incidentId)}&fleetId=${encodeURIComponent(e.fleetId)}`)},q=e=>{t.push(`/incident?id=${encodeURIComponent(e.incidentId)}&fleetId=${encodeURIComponent(e.fleetId)}&viewOnly=true`)},X=e=>{let t=(0,d.kv)(e.incidentId,e.patientLetter);(0,d.NI)(t)},V=e=>{$({incidentId:e.incidentId,patientLetter:e.patientLetter}),M(!0)},Y=async()=>{if(O){U(!0);try{await (0,l.deleteEPRFRecordAsync)(O.incidentId,O.patientLetter),s&&await H(s.discordId)}catch(e){console.error("Failed to delete:",e)}finally{U(!1),M(!1),$(null)}}},Z=x.filter(e=>!e.allComplete),K=x.filter(e=>e.allComplete);return(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 eprf-dashboard home-dashboard",children:[(0,i.jsx)(r(),{id:"4fb797f00be2b17",children:".home-dashboard.jsx-4fb797f00be2b17{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:100vh;background:#f0f4f8}.dashboard-header.jsx-4fb797f00be2b17{background:-webkit-linear-gradient(315deg,#1a3a5c 0%,#0d2137 100%);background:-moz-linear-gradient(315deg,#1a3a5c 0%,#0d2137 100%);background:-o-linear-gradient(315deg,#1a3a5c 0%,#0d2137 100%);background:linear-gradient(135deg,#1a3a5c 0%,#0d2137 100%);padding:20px 30px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.header-left.jsx-4fb797f00be2b17 h1.jsx-4fb797f00be2b17{color:white;font-size:24px;margin:0 0 5px 0}.header-left.jsx-4fb797f00be2b17 p.jsx-4fb797f00be2b17{color:rgba(255,255,255,.7);font-size:14px;margin:0}.header-right.jsx-4fb797f00be2b17{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px}.header-btn.jsx-4fb797f00be2b17{padding:10px 20px;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.btn-new-case.jsx-4fb797f00be2b17{background:#28a745;color:white}.btn-new-case.jsx-4fb797f00be2b17:hover{background:#218838}.btn-admin.jsx-4fb797f00be2b17{background:-webkit-linear-gradient(315deg,#6366f1 0%,#8b5cf6 100%);background:-moz-linear-gradient(315deg,#6366f1 0%,#8b5cf6 100%);background:-o-linear-gradient(315deg,#6366f1 0%,#8b5cf6 100%);background:linear-gradient(135deg,#6366f1 0%,#8b5cf6 100%);color:white;border:none}.btn-admin.jsx-4fb797f00be2b17:hover{background:-webkit-linear-gradient(315deg,#5558e3 0%,#7c4fe0 100%);background:-moz-linear-gradient(315deg,#5558e3 0%,#7c4fe0 100%);background:-o-linear-gradient(315deg,#5558e3 0%,#7c4fe0 100%);background:linear-gradient(135deg,#5558e3 0%,#7c4fe0 100%)}.btn-logout.jsx-4fb797f00be2b17{background:rgba(255,255,255,.1);color:white;border:1px solid rgba(255,255,255,.3)}.btn-logout.jsx-4fb797f00be2b17:hover{background:rgba(255,255,255,.2)}.dashboard-content.jsx-4fb797f00be2b17{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:30px;overflow-y:auto}.filter-bar.jsx-4fb797f00be2b17{background:white;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;padding:20px;margin-bottom:25px;-webkit-box-shadow:0 2px 8px rgba(0,0,0,.08);-moz-box-shadow:0 2px 8px rgba(0,0,0,.08);box-shadow:0 2px 8px rgba(0,0,0,.08)}.filter-row.jsx-4fb797f00be2b17{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:15px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.search-input.jsx-4fb797f00be2b17{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;min-width:250px;padding:10px 15px;border:1px solid#ddd;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px}.filter-select.jsx-4fb797f00be2b17{padding:10px 15px;border:1px solid#ddd;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px;min-width:150px}.filter-btn.jsx-4fb797f00be2b17{padding:10px 15px;border:1px solid#ddd;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;background:white;font-size:14px;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:5px}.filter-btn.jsx-4fb797f00be2b17:hover{background:#f5f5f5}.filter-btn.active.jsx-4fb797f00be2b17{background:#e3f2fd;border-color:#06c;color:#06c}.advanced-filters.jsx-4fb797f00be2b17{margin-top:15px;padding-top:15px;border-top:1px solid#eee;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:15px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.date-filter.jsx-4fb797f00be2b17{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px}.date-filter.jsx-4fb797f00be2b17 label.jsx-4fb797f00be2b17{font-size:13px;color:#666}.date-filter.jsx-4fb797f00be2b17 input.jsx-4fb797f00be2b17{padding:8px 12px;border:1px solid#ddd;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px}.clear-filters.jsx-4fb797f00be2b17{color:#06c;background:none;border:none;font-size:13px;cursor:pointer;text-decoration:underline}.section-title.jsx-4fb797f00be2b17{font-size:18px;font-weight:600;color:#1a3a5c;margin-bottom:15px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:10px}.section-title.jsx-4fb797f00be2b17 .count.jsx-4fb797f00be2b17{background:#e0e0e0;padding:3px 10px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;font-size:13px;font-weight:500}.section-title.incomplete.jsx-4fb797f00be2b17 .count.jsx-4fb797f00be2b17{background:#fff3cd;color:#856404}.section-title.complete.jsx-4fb797f00be2b17 .count.jsx-4fb797f00be2b17{background:#d4edda;color:#155724}.eprf-grid.jsx-4fb797f00be2b17{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;margin-bottom:40px}.eprf-card.jsx-4fb797f00be2b17{background:white;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.08);-moz-box-shadow:0 2px 10px rgba(0,0,0,.08);box-shadow:0 2px 10px rgba(0,0,0,.08);overflow:hidden;-webkit-transition:-webkit-transform.2s,box-shadow.2s;-moz-transition:-moz-transform.2s,box-shadow.2s;-o-transition:-o-transform.2s,box-shadow.2s;transition:-webkit-transform.2s,box-shadow.2s;transition:-moz-transform.2s,box-shadow.2s;transition:-o-transform.2s,box-shadow.2s;transition:transform.2s,box-shadow.2s}.eprf-card.jsx-4fb797f00be2b17:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 4px 20px rgba(0,0,0,.12);-moz-box-shadow:0 4px 20px rgba(0,0,0,.12);box-shadow:0 4px 20px rgba(0,0,0,.12)}.card-header.jsx-4fb797f00be2b17{padding:15px 20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.card-header.incomplete.jsx-4fb797f00be2b17{background:-webkit-linear-gradient(315deg,#fff3cd 0%,#ffeeba 100%);background:-moz-linear-gradient(315deg,#fff3cd 0%,#ffeeba 100%);background:-o-linear-gradient(315deg,#fff3cd 0%,#ffeeba 100%);background:linear-gradient(135deg,#fff3cd 0%,#ffeeba 100%);border-bottom:2px solid#ffc107}.card-header.complete.jsx-4fb797f00be2b17{background:-webkit-linear-gradient(315deg,#d4edda 0%,#c3e6cb 100%);background:-moz-linear-gradient(315deg,#d4edda 0%,#c3e6cb 100%);background:-o-linear-gradient(315deg,#d4edda 0%,#c3e6cb 100%);background:linear-gradient(135deg,#d4edda 0%,#c3e6cb 100%);border-bottom:2px solid#28a745}.card-incident-id.jsx-4fb797f00be2b17{font-size:16px;font-weight:700;color:#1a3a5c}.card-status.jsx-4fb797f00be2b17{padding:4px 12px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;font-size:12px;font-weight:600;text-transform:uppercase}.card-status.incomplete.jsx-4fb797f00be2b17{background:#856404;color:white}.card-status.complete.jsx-4fb797f00be2b17{background:#28a745;color:white}.card-body.jsx-4fb797f00be2b17{padding:20px}.card-patients.jsx-4fb797f00be2b17{margin-bottom:15px}.patient-row.jsx-4fb797f00be2b17{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 12px;background:#f8f9fa;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;margin-bottom:8px}.patient-info.jsx-4fb797f00be2b17{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:10px}.patient-letter.jsx-4fb797f00be2b17{width:28px;height:28px;background:#1a3a5c;color:white;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;font-weight:600;font-size:13px}.patient-status.jsx-4fb797f00be2b17{font-size:12px;padding:2px 8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.patient-status.incomplete.jsx-4fb797f00be2b17{background:#fff3cd;color:#856404}.patient-status.complete.jsx-4fb797f00be2b17{background:#d4edda;color:#155724}.card-meta.jsx-4fb797f00be2b17{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:12px;color:#888;margin-bottom:15px}.card-actions.jsx-4fb797f00be2b17{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:10px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.card-btn.jsx-4fb797f00be2b17{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;min-width:80px;padding:10px 15px;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:5px}.btn-edit.jsx-4fb797f00be2b17{background:#06c;color:white}.btn-edit.jsx-4fb797f00be2b17:hover{background:#0052a3}.btn-view.jsx-4fb797f00be2b17{background:#6c757d;color:white}.btn-view.jsx-4fb797f00be2b17:hover{background:#5a6268}.btn-download.jsx-4fb797f00be2b17{background:#28a745;color:white}.btn-download.jsx-4fb797f00be2b17:hover{background:#218838}.btn-delete.jsx-4fb797f00be2b17{background:#dc3545;color:white}.btn-delete.jsx-4fb797f00be2b17:hover{background:#c82333}.empty-state.jsx-4fb797f00be2b17{text-align:center;padding:60px 30px;background:white;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.08);-moz-box-shadow:0 2px 10px rgba(0,0,0,.08);box-shadow:0 2px 10px rgba(0,0,0,.08)}.empty-icon.jsx-4fb797f00be2b17{font-size:60px;margin-bottom:20px}.empty-title.jsx-4fb797f00be2b17{font-size:20px;font-weight:600;color:#1a3a5c;margin-bottom:10px}.empty-text.jsx-4fb797f00be2b17{font-size:14px;color:#666;margin-bottom:20px}.empty-btn.jsx-4fb797f00be2b17{padding:12px 30px;background:#28a745;color:white;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:15px;font-weight:600;cursor:pointer}.empty-btn.jsx-4fb797f00be2b17:hover{background:#218838}.multi-patient-warning.jsx-4fb797f00be2b17{background:#fff3cd;border:1px solid#ffc107;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;padding:10px 12px;font-size:12px;color:#856404;margin-bottom:15px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px}.loading-state.jsx-4fb797f00be2b17{text-align:center;padding:60px 30px;background:white;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.08);-moz-box-shadow:0 2px 10px rgba(0,0,0,.08);box-shadow:0 2px 10px rgba(0,0,0,.08)}.loading-spinner.jsx-4fb797f00be2b17{width:50px;height:50px;border:4px solid#e0e0e0;border-top-color:#06c;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite;margin:0 auto 20px}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.loading-text.jsx-4fb797f00be2b17{font-size:16px;color:#666}gap: 8px;\r\n        }\r\n      "}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 dashboard-header",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 header-left",children:[(0,i.jsx)("h1",{className:"jsx-4fb797f00be2b17",children:"ePRF Dashboard"}),(0,i.jsxs)("p",{className:"jsx-4fb797f00be2b17",children:["Welcome back, ",s?.callsign||a]})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 header-right",children:[s&&(0,c.GJ)(s.discordId)&&(0,i.jsx)("button",{onClick:()=>t.push("/admin"),className:"jsx-4fb797f00be2b17 header-btn btn-admin",children:"⚙️ Admin Panel"}),(0,i.jsx)("button",{onClick:G,className:"jsx-4fb797f00be2b17 header-btn btn-new-case",children:"+ New Case"}),(0,i.jsx)("button",{onClick:()=>{t.push("/")},className:"jsx-4fb797f00be2b17 header-btn btn-logout",children:"Logout"})]})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 dashboard-content",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 filter-bar",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 filter-row",children:[(0,i.jsx)("input",{type:"text",placeholder:"Search by incident number, patient letter, or callsign...",value:C,onChange:e=>S(e.target.value),className:"jsx-4fb797f00be2b17 search-input"}),(0,i.jsxs)("select",{value:P,onChange:e=>F(e.target.value),className:"jsx-4fb797f00be2b17 filter-select",children:[(0,i.jsx)("option",{value:"all",className:"jsx-4fb797f00be2b17",children:"All Status"}),(0,i.jsx)("option",{value:"incomplete",className:"jsx-4fb797f00be2b17",children:"Incomplete"}),(0,i.jsx)("option",{value:"complete",className:"jsx-4fb797f00be2b17",children:"Complete"})]}),(0,i.jsx)("button",{onClick:()=>T(!E),className:`jsx-4fb797f00be2b17 filter-btn ${E?"active":""}`,children:"\uD83D\uDD0D Filters"})]}),E&&(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 advanced-filters",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 date-filter",children:[(0,i.jsx)("label",{className:"jsx-4fb797f00be2b17",children:"From:"}),(0,i.jsx)("input",{type:"date",value:R,onChange:e=>A(e.target.value),className:"jsx-4fb797f00be2b17"})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 date-filter",children:[(0,i.jsx)("label",{className:"jsx-4fb797f00be2b17",children:"To:"}),(0,i.jsx)("input",{type:"date",value:D,onChange:e=>_(e.target.value),className:"jsx-4fb797f00be2b17"})]}),(0,i.jsx)("button",{onClick:()=>{S(""),F("all"),A(""),_("")},className:"jsx-4fb797f00be2b17 clear-filters",children:"Clear all filters"})]})]}),m&&(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 loading-state",children:[(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 loading-spinner"}),(0,i.jsx)("p",{className:"jsx-4fb797f00be2b17 loading-text",children:"Loading ePRF records..."})]}),!m&&Z.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h2",{className:"jsx-4fb797f00be2b17 section-title incomplete",children:["\uD83D\uDCDD Current ePRFs",(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 count",children:Z.length})]}),(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 eprf-grid",children:Z.map(e=>(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 eprf-card",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 card-header incomplete",children:[(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 card-incident-id",children:e.incidentId}),(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 card-status incomplete",children:"In Progress"})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 card-body",children:[e.patients.length>1&&(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 multi-patient-warning",children:"⚠️ Multi-patient incident - all patients must be completed before submission"}),(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 card-patients",children:e.patients.map(e=>(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 patient-row",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 patient-info",children:[(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 patient-letter",children:e.patientLetter}),(0,i.jsxs)("span",{className:"jsx-4fb797f00be2b17",children:["Patient ",e.patientLetter]})]}),(0,i.jsx)("span",{className:`jsx-4fb797f00be2b17 patient-status ${e.status}`,children:"complete"===e.status?"✓ Complete":"Incomplete"})]},e.patientLetter))}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 card-meta",children:[(0,i.jsxs)("span",{className:"jsx-4fb797f00be2b17",children:["Created: ",new Date(e.createdAt).toLocaleDateString("en-GB")]}),(0,i.jsxs)("span",{className:"jsx-4fb797f00be2b17",children:["Fleet: ",e.fleetId]})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 card-actions",children:[(0,i.jsx)("button",{onClick:()=>W(e.patients[0]),className:"jsx-4fb797f00be2b17 card-btn btn-edit",children:"✏️ Edit"}),(0,i.jsx)("button",{onClick:()=>V(e.patients.find(e=>"incomplete"===e.status)||e.patients[0]),className:"jsx-4fb797f00be2b17 card-btn btn-delete",children:"\uD83D\uDDD1️ Delete"})]})]})]},e.incidentId))})]}),!m&&K.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h2",{className:"jsx-4fb797f00be2b17 section-title complete",children:["✅ Completed ePRFs",(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 count",children:K.length})]}),(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 eprf-grid",children:K.map(e=>(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 eprf-card",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 card-header complete",children:[(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 card-incident-id",children:e.incidentId}),(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 card-status complete",children:"Completed"})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 card-body",children:[(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 card-patients",children:e.patients.map(e=>(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 patient-row",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 patient-info",children:[(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 patient-letter",children:e.patientLetter}),(0,i.jsxs)("span",{className:"jsx-4fb797f00be2b17",children:["Patient ",e.patientLetter]})]}),(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 patient-status complete",children:"✓ Complete"})]},e.patientLetter))}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 card-meta",children:[(0,i.jsxs)("span",{className:"jsx-4fb797f00be2b17",children:["Submitted: ",new Date(e.patients[0]?.submittedAt||e.createdAt).toLocaleDateString("en-GB")]}),(0,i.jsxs)("span",{className:"jsx-4fb797f00be2b17",children:["Fleet: ",e.fleetId]})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 card-actions",children:[(0,i.jsx)("button",{onClick:()=>q(e.patients[0]),className:"jsx-4fb797f00be2b17 card-btn btn-view",children:"\uD83D\uDC41️ View"}),e.patients.map(t=>(0,i.jsxs)("button",{onClick:()=>X(t),className:"jsx-4fb797f00be2b17 card-btn btn-download",children:["\uD83D\uDCE5 ",e.patients.length>1?`Pt ${t.patientLetter}`:"Download"]},t.patientLetter))]})]})]},e.incidentId))})]}),!m&&0===x.length&&(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 empty-state",children:[(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 empty-icon",children:"\uD83D\uDCCB"}),(0,i.jsx)("h3",{className:"jsx-4fb797f00be2b17 empty-title",children:"No ePRFs Found"}),(0,i.jsx)("p",{className:"jsx-4fb797f00be2b17 empty-text",children:C||"all"!==P||R||D?"No ePRFs match your current filters. Try adjusting your search criteria.":'You haven\'t created any ePRFs yet. Click "New Case" to get started.'}),!C&&"all"===P&&!R&&!D&&(0,i.jsx)("button",{onClick:G,className:"jsx-4fb797f00be2b17 empty-btn",children:"+ Create New Case"})]})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 eprf-footer",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 footer-left",children:[(0,i.jsx)("button",{className:"jsx-4fb797f00be2b17 footer-btn internet",children:"Internet"}),(0,i.jsx)("button",{className:"jsx-4fb797f00be2b17 footer-btn server",children:"Server"})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 footer-center",children:[(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 fleet-label",children:"Fleet ID:"}),(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 fleet-id",children:a})]}),(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 footer-right",children:(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 version",children:"v 2.19.1"})})]}),g&&(0,i.jsx)("div",{onClick:J,className:"jsx-4fb797f00be2b17 modal-overlay",children:(0,i.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-4fb797f00be2b17 modal-dialog",children:[(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 modal-header",children:"Master Incident Number"}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 modal-body",children:[(0,i.jsx)("div",{className:"jsx-4fb797f00be2b17 modal-section-label",children:"Incident Number"}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 incident-fields",children:[(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 incident-input-group",children:[(0,i.jsx)("input",{type:"number",value:j,onChange:e=>w(e.target.value.slice(0,4).padStart(4,"0")),min:"0",max:"9999",style:{width:"135px"},className:"jsx-4fb797f00be2b17 incident-input"}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 incident-arrows",children:[(0,i.jsx)("button",{onClick:()=>{w(String(Math.min(9999,(parseInt(j)||0)+1)).padStart(4,"0"))},className:"jsx-4fb797f00be2b17 arrow-btn up",children:"▲"}),(0,i.jsx)("button",{onClick:()=>{w(String(Math.max(0,(parseInt(j)||0)-1)).padStart(4,"0"))},className:"jsx-4fb797f00be2b17 arrow-btn down",children:"▼"})]})]}),(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 separator",children:"-"}),(0,i.jsx)("input",{type:"text",value:y,readOnly:!0,disabled:!0,style:{width:"75px",backgroundColor:"#c0d0e0",color:"#556575"},className:"jsx-4fb797f00be2b17 incident-part readonly"}),(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 separator",children:"-"}),(0,i.jsx)("input",{type:"text",value:v,readOnly:!0,disabled:!0,className:"jsx-4fb797f00be2b17 incident-part date readonly"}),(0,i.jsx)("span",{className:"jsx-4fb797f00be2b17 separator",children:"-"}),(0,i.jsx)("input",{type:"text",value:I,readOnly:!0,disabled:!0,className:"jsx-4fb797f00be2b17 incident-part letter readonly"})]})]}),(0,i.jsxs)("div",{className:"jsx-4fb797f00be2b17 modal-actions",children:[(0,i.jsx)("button",{onClick:J,className:"jsx-4fb797f00be2b17 modal-btn cancel",children:"Cancel"}),(0,i.jsx)("button",{onClick:()=>{let e=`${j}-${y}-${v}-${I}`;t.push(`/incident?id=${encodeURIComponent(e)}&fleetId=${encodeURIComponent(a)}`),h(!1)},className:"jsx-4fb797f00be2b17 modal-btn ok",children:"OK"})]})]})}),(0,i.jsx)(b.ZP,{isOpen:L,onClose:()=>M(!1),onConfirm:Y,title:"Delete ePRF",message:`Are you sure you want to delete this ePRF?

Incident: ${O?.incidentId}
Patient: ${O?.patientLetter}

This action cannot be undone and all data will be permanently lost.`,confirmText:"Yes, Delete",cancelText:"Cancel",type:"warning",isLoading:B})]})}},2392:(e,t,a)=>{"use strict";a.r(t),a.d(t,{areAllPatientsComplete:()=>z,createEPRFRecord:()=>f,createEPRFRecordAsync:()=>c,deleteEPRFRecord:()=>h,deleteEPRFRecordAsync:()=>u,getAllEPRFRecords:()=>l,getBlockedSubmissions:()=>R,getCompleteEPRFs:()=>S,getEPRFHistory:()=>o,getEPRFHistoryAsync:()=>n,getEPRFRecord:()=>F,getIncompleteEPRFs:()=>C,groupEPRFsByIncident:()=>I,markEPRFComplete:()=>m,markEPRFCompleteAsync:()=>x,saveEPRFRecord:()=>b,saveEPRFRecordLocal:()=>d,searchEPRFs:()=>P,searchEPRFsAsync:()=>N,transferAllPatients:()=>v,transferAllPatientsAsync:()=>k,transferEPRF:()=>y,transferEPRFAsync:()=>j});var i=a(8718);let s="eprf_history";function r(e){return{id:`${e.incident_id}-${e.patient_letter}`,incidentId:e.incident_id,patientLetter:e.patient_letter,status:e.status,author:e.author_discord_id,authorCallsign:e.author_callsign,createdAt:e.created_at,updatedAt:e.updated_at,submittedAt:e.submitted_at,fleetId:e.fleet_id}}async function n(e){try{let t=(await i.Jf(e)).map(r),a=l().filter(t=>t.author!==e);return localStorage.setItem(s,JSON.stringify([...a,...t])),localStorage.setItem("eprf_cache_timestamp",Date.now().toString()),t}catch(t){return console.error("Failed to fetch from API, using cache:",t),o(e)}}function o(e){try{let t=localStorage.getItem(s);if(!t)return[];return JSON.parse(t).filter(t=>t.author===e)}catch{return[]}}function l(){try{let e=localStorage.getItem(s);return e?JSON.parse(e):[]}catch{return[]}}function d(e){let t=l(),a=t.findIndex(t=>t.incidentId===e.incidentId&&t.patientLetter===e.patientLetter);a>=0?t[a]={...t[a],...e,updatedAt:new Date().toISOString()}:t.push(e),localStorage.setItem(s,JSON.stringify(t))}async function b(e){d(e);try{await i.ie(e.incidentId,e.patientLetter,e.author,e.authorCallsign,e.fleetId)}catch(e){console.error("Failed to sync to API:",e)}}async function c(e,t,a,s,r){let n=new Date().toISOString(),o={id:`${e}-${t}`,incidentId:e,patientLetter:t,status:"incomplete",author:a,authorCallsign:s,createdAt:n,updatedAt:n,fleetId:r};d(o);try{await i.ie(e,t,a,s,r)}catch(e){console.error("Failed to save to API:",e)}return o}function f(e,t,a,s,r){let n=new Date().toISOString(),o={id:`${e}-${t}`,incidentId:e,patientLetter:t,status:"incomplete",author:a,authorCallsign:s,createdAt:n,updatedAt:n,fleetId:r};return d(o),i.ie(e,t,a,s,r).catch(e=>console.error("Failed to sync to API:",e)),o}async function x(e,t){p(e,t);try{await i.$h(e,t)}catch(e){console.error("Failed to mark complete via API:",e)}}function p(e,t){let a=l(),i=a.find(a=>a.incidentId===e&&a.patientLetter===t);i&&(i.status="complete",i.submittedAt=new Date().toISOString(),i.updatedAt=new Date().toISOString(),localStorage.setItem(s,JSON.stringify(a)))}function m(e,t){p(e,t),i.$h(e,t).catch(e=>console.error("Failed to sync to API:",e))}async function u(e,t){let a=g(e,t);try{return await i.HX(e,t),!0}catch(e){return console.error("Failed to delete via API:",e),a}}function g(e,t){let a=l(),i=a.find(a=>a.incidentId===e&&a.patientLetter===t);if(i&&"incomplete"===i.status){let i=a.filter(a=>!(a.incidentId===e&&a.patientLetter===t));return localStorage.setItem(s,JSON.stringify(i)),["incident","patient_info","primary_survey","hx_complaint","past_medical_history","clinical_impression","disposition","vitals","medications","interventions","media"].forEach(t=>{localStorage.removeItem(`${t}_${e}`)}),!0}return!1}function h(e,t){let a=g(e,t);return i.HX(e,t).catch(e=>console.error("Failed to sync delete to API:",e)),a}async function j(e,t,a,s){w(e,t,a,s);try{return await i.F3(e,t,a,s),!0}catch(e){return console.error("Failed to transfer via API:",e),!0}}function w(e,t,a,i){let r=l(),n=r.find(a=>a.incidentId===e&&a.patientLetter===t);return!!n&&(n.author=a,n.authorCallsign=i,n.updatedAt=new Date().toISOString(),localStorage.setItem(s,JSON.stringify(r)),!0)}function y(e,t,a,s){let r=w(e,t,a,s);return i.F3(e,t,a,s).catch(e=>console.error("Failed to sync transfer to API:",e)),r}async function k(e,t,a){let i=l().filter(t=>t.incidentId===e);if(0===i.length)return!1;for(let s of i)await j(e,s.patientLetter,t,a);return!0}function v(e,t,a){let i=l().filter(t=>t.incidentId===e);return 0!==i.length&&(i.forEach(i=>{y(e,i.patientLetter,t,a)}),!0)}async function N(e,t,a){try{return(await i.qx(e,t,a)).map(r)}catch(i){return console.error("Failed to search via API, using local cache:",i),P(e,t||"",{status:a})}}function I(e){let t={};return e.forEach(e=>{t[e.incidentId]||(t[e.incidentId]=[]),t[e.incidentId].push(e)}),Object.entries(t).map(([e,t])=>({incidentId:e,patients:t.sort((e,t)=>e.patientLetter.localeCompare(t.patientLetter)),allComplete:t.every(e=>"complete"===e.status),createdAt:t[0]?.createdAt||"",fleetId:t[0]?.fleetId||""})).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}function z(e){let t=l().filter(t=>t.incidentId===e);return t.length>0&&t.every(e=>"complete"===e.status)}function C(e){return o(e).filter(e=>"incomplete"===e.status)}function S(e){return o(e).filter(e=>"complete"===e.status)}function P(e,t,a){let i=o(e);if(a?.status&&"all"!==a.status&&(i=i.filter(e=>e.status===a.status)),a?.dateFrom){let e=new Date(a.dateFrom).getTime();i=i.filter(t=>new Date(t.createdAt).getTime()>=e)}if(a?.dateTo){let e=new Date(a.dateTo).getTime()+864e5;i=i.filter(t=>new Date(t.createdAt).getTime()<=e)}if(t.trim()){let e=t.toLowerCase();i=i.filter(t=>t.incidentId.toLowerCase().includes(e)||t.patientLetter.toLowerCase().includes(e)||t.authorCallsign.toLowerCase().includes(e))}return i}function F(e,t){return l().find(a=>a.incidentId===e&&a.patientLetter===t)||null}function R(e){return I(o(e)).filter(e=>e.patients.length>1&&!e.allComplete&&e.patients.some(e=>"complete"===e.status))}},8793:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r,runtime:()=>s});var i=a(8264);let s=(0,i.D)(String.raw`C:\Users\Toby\Downloads\node-v24.11.1-win-x64\app123\app\dashboard\page.tsx#runtime`),r=(0,i.D)(String.raw`C:\Users\Toby\Downloads\node-v24.11.1-win-x64\app123\app\dashboard\page.tsx#default`)}},e=>{var t=t=>e(e.s=t);e.O(0,[378,716,337,625],()=>t(4775));var a=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/dashboard/page"]=a}]);
//# sourceMappingURL=page.js.map