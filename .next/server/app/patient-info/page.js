(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{2067:e=>{"use strict";e.exports=require("node:async_hooks")},6195:e=>{"use strict";e.exports=require("node:buffer")},6335:(e,a,s)=>{"use strict";s.r(a),s.d(a,{ComponentMod:()=>M,default:()=>A});var t,i={};s.r(i),s.d(i,{AppRouter:()=>m.WY,ClientPageRoot:()=>m.b1,GlobalError:()=>u.ZP,LayoutRouter:()=>m.yO,NotFoundBoundary:()=>m.O4,Postpone:()=>m.hQ,RenderFromTemplateContext:()=>m.b5,__next_app__:()=>b,actionAsyncStorage:()=>m.Wz,createDynamicallyTrackedSearchParams:()=>m.rL,createUntrackedSearchParams:()=>m.S5,decodeAction:()=>m.Hs,decodeFormState:()=>m.dH,decodeReply:()=>m.kf,originalPathname:()=>x,pages:()=>h,patchFetch:()=>m.XH,preconnect:()=>m.$P,preloadFont:()=>m.C5,preloadStyle:()=>m.oH,renderToReadableStream:()=>m.aW,requestAsyncStorage:()=>m.Fg,routeModule:()=>v,serverHooks:()=>m.GP,staticGenerationAsyncStorage:()=>m.AT,taintObjectReference:()=>m.nr,tree:()=>p}),s(7206);var l=s(9319),n=s(5989),r=s(1902),o=s(2042),c=s(4630),d=s(4828),u=s(5505),m=s(6453);let p=["",{children:["patient-info",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8494)),"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\patient-info\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7665)),"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,2520)),"next/dist/client/components/not-found-error"]}],h=["C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\app\\patient-info\\page.tsx"],x="/patient-info/page",b={require:s,loadChunk:()=>Promise.resolve()},v=new c.AppPageRouteModule({definition:{kind:d.x.APP_PAGE,page:"/patient-info/page",pathname:"/patient-info",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}});var f=s(9094),j=s(5787),g=s(527);let N=e=>e?JSON.parse(e):void 0,y=self.__BUILD_MANIFEST,S=N(self.__REACT_LOADABLE_MANIFEST),C=null==(t=self.__RSC_MANIFEST)?void 0:t["/patient-info/page"],k=N(self.__RSC_SERVER_MANIFEST),P=N(self.__NEXT_FONT_MANIFEST),w=N(self.__INTERCEPTION_ROUTE_REWRITE_MANIFEST)??[];C&&k&&(0,j.Mo)({clientReferenceManifest:C,serverActionsManifest:k,serverModuleMap:(0,g.w)({serverActionsManifest:k,pageName:"/patient-info/page"})});let T=(0,n.d)({pagesType:f.s.APP,dev:!1,page:"/patient-info/page",appMod:null,pageMod:i,errorMod:null,error500Mod:null,Document:null,buildManifest:y,renderToHTML:o.f,reactLoadableManifest:S,clientReferenceManifest:C,serverActionsManifest:k,serverActions:void 0,subresourceIntegrityManifest:void 0,config:{env:{},webpack:null,eslint:{ignoreDuringBuilds:!1},typescript:{ignoreBuildErrors:!1,tsconfigPath:"tsconfig.json"},distDir:".next",cleanDistDir:!0,assetPrefix:"",cacheMaxMemorySize:52428800,configOrigin:"next.config.js",useFileSystemPublicRoutes:!0,generateEtags:!0,pageExtensions:["tsx","ts","jsx","js"],poweredByHeader:!0,compress:!0,analyticsId:"",images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1},devIndicators:{buildActivity:!0,buildActivityPosition:"bottom-right"},onDemandEntries:{maxInactiveAge:6e4,pagesBufferLength:5},amp:{canonicalBase:""},basePath:"",sassOptions:{},trailingSlash:!1,i18n:null,productionBrowserSourceMaps:!1,optimizeFonts:!0,excludeDefaultMomentLocales:!0,serverRuntimeConfig:{},publicRuntimeConfig:{},reactProductionProfiling:!1,reactStrictMode:null,httpAgentOptions:{keepAlive:!0},outputFileTracing:!0,staticPageGenerationTimeout:60,swcMinify:!0,modularizeImports:{"@mui/icons-material":{transform:"@mui/icons-material/{{member}}"},lodash:{transform:"lodash/{{member}}"}},experimental:{multiZoneDraftMode:!1,prerenderEarlyExit:!1,serverMinification:!0,serverSourceMaps:!1,linkNoTouchStart:!1,caseSensitiveRoutes:!1,clientRouterFilter:!0,clientRouterFilterRedirects:!1,fetchCacheKeyPrefix:"",middlewarePrefetch:"flexible",optimisticClientCache:!0,manualClientBasePath:!1,cpus:11,memoryBasedWorkersCount:!1,isrFlushToDisk:!0,workerThreads:!1,optimizeCss:!1,nextScriptWorkers:!1,scrollRestoration:!1,externalDir:!1,disableOptimizedLoading:!1,gzipSize:!0,craCompat:!1,esmExternals:!0,fullySpecified:!1,outputFileTracingRoot:"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123",swcTraceProfiling:!1,forceSwcTransforms:!1,largePageDataBytes:128e3,adjustFontFallbacks:!1,adjustFontFallbacksWithSizeAdjust:!1,typedRoutes:!1,instrumentationHook:!1,bundlePagesExternals:!1,parallelServerCompiles:!1,parallelServerBuildTraces:!1,ppr:!1,missingSuspenseWithCSRBailout:!0,optimizeServerReact:!0,useEarlyImport:!1,staleTimes:{dynamic:30,static:300},optimizePackageImports:["lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"]},configFile:"C:\\Users\\Toby\\Downloads\\node-v24.11.1-win-x64\\app123\\next.config.js",configFileName:"next.config.js"},buildId:process.env.__NEXT_BUILD_ID,nextFontManifest:P,incrementalCacheHandler:null,interceptionRouteRewrites:w}),M=i;function A(e){return(0,l.C)({...e,IncrementalCache:r.k,handler:T})}},1252:(e,a,s)=>{Promise.resolve().then(s.bind(s,6822))},6822:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>p,runtime:()=>m});var t=s(926),i=s(4947),l=s(9220),n=s(6360),r=s(9572),o=s(596),c=s(7585),d=s(3759),u=s(8718);let m="edge";function p(){let e=(0,i.lr)(),a=(0,i.tv)(),m=e?.get("id")||"",p=e?.get("fleetId")||"",[h,x]=(0,l.useState)([]),[b,v]=(0,l.useState)("A"),[f,j]=(0,l.useState)(!1),[g,N]=(0,l.useState)(!1),[y,S]=(0,l.useState)(!1),[C,k]=(0,l.useState)(!1),[P,w]=(0,l.useState)(!1),[T,M]=(0,l.useState)({}),[A,R]=(0,l.useState)(!1),[_,F]=(0,l.useState)({title:"",message:""}),[E,$]=(0,l.useState)(""),[D,I]=(0,l.useState)(!1),[Y,U]=(0,l.useState)(""),[O,q]=(0,l.useState)(""),[L,z]=(0,l.useState)(""),[B,H]=(0,l.useState)(""),[G,W]=(0,l.useState)(""),[Z,V]=(0,l.useState)(""),[X,J]=(0,l.useState)(""),[K,Q]=(0,l.useState)(""),[ee,ea]=(0,l.useState)(""),[es,et]=(0,l.useState)(!1),[ei,el]=(0,l.useState)(""),[en,er]=(0,l.useState)(""),[eo,ec]=(0,l.useState)(""),[ed,eu]=(0,l.useState)(""),[em,ep]=(0,l.useState)(""),[eh,ex]=(0,l.useState)(""),[eb,ev]=(0,l.useState)(""),[ef,ej]=(0,l.useState)(""),[eg,eN]=(0,l.useState)(""),[ey,eS]=(0,l.useState)(1),[eC,ek]=(0,l.useState)(""),[eP,ew]=(0,l.useState)(""),[eT,eM]=(0,l.useState)(""),[eA,eR]=(0,l.useState)(""),[e_,eF]=(0,l.useState)(""),[eE,e$]=(0,l.useState)(""),[eD,eI]=(0,l.useState)(""),[eY,eU]=(0,l.useState)(!1),[eO,eq]=(0,l.useState)(3),[eL,ez]=(0,l.useState)(12),[eB,eH]=(0,l.useState)(2025),eG=async()=>{R(!0);try{let e=await (0,r.Gf)(m,p);e.success?(N(!1),F({title:"ePRF Submitted Successfully!",message:`The ePRF for Patient ${b} has been submitted.

A PDF copy has been downloaded to your device and the record has been saved.`}),k(!0)):e.validationResult&&(N(!1),M(e.validationResult.fieldErrors),x(e.validationResult.incompleteSections),S(!0))}catch(e){console.error("Submit error:",e),alert("An error occurred while submitting. Please try again.")}finally{R(!1)}},eW=async()=>{R(!0);try{let e=await (0,r.mb)(m);e.success?(j(!1),v(e.newLetter),F({title:"Patient Added Successfully!",message:`Patient ${b} has been saved.

You are now working on Patient ${e.newLetter}.

The form has been cleared for the new patient.`}),k(!0),setTimeout(()=>{let e=new URLSearchParams({id:m,fleetId:p});a.push(`/patient-info?${e}`)},2e3)):alert(e.error||"Failed to add patient")}catch(e){console.error("Add patient error:",e),alert("An error occurred. Please try again.")}finally{R(!1)}},eZ=e=>h.includes("patient-info")&&("robloxUsername"===e&&!E||"firstName"===e&&!O||"surname"===e&&!B||"sex"===e&&!Z||"dob"===e&&!X||"age"===e&&!K||"ageType"===e&&!ee||"ptAddress"===e&&!eo),eV=()=>{let e=new URLSearchParams({fleetId:p});a.push(`/dashboard?${e}`)},eX=e=>{let s=new URLSearchParams({id:m,fleetId:p});"incident"===e?a.push(`/incident?${s}`):"patient-info"===e?a.push(`/patient-info?${s}`):"primary-survey"===e?a.push(`/primary-survey?${s}`):"vital-obs"===e?a.push(`/vital-obs?${s}`):"hx-complaint"===e?a.push(`/hx-complaint?${s}`):"past-medical-history"===e?a.push(`/past-medical-history?${s}`):"clinical-impression"===e?a.push(`/clinical-impression?${s}`):"disposition"===e?a.push(`/disposition?${s}`):"media"===e&&a.push(`/media?${s}`)};return(0,t.jsxs)("div",{className:"eprf-dashboard incident-page",children:[(0,t.jsxs)("div",{className:"eprf-nav",children:[(0,t.jsx)("button",{className:"nav-btn",onClick:eV,children:"Home"}),(0,t.jsx)("button",{className:"nav-btn",children:"Tools"}),(0,t.jsx)("button",{className:"nav-btn",onClick:()=>{let e=(0,d.ts)();e&&(0,u.GJ)(e.discordId)&&a.push("/admin")},children:"Admin Panel"}),(0,t.jsx)("button",{className:"nav-btn",onClick:()=>{a.push("/")},children:"Manage Crew"}),(0,t.jsxs)("div",{className:"page-counter",children:[(0,t.jsx)("span",{className:"patient-letter",children:b}),(0,t.jsxs)("span",{className:"page-indicator",children:[ey," of 2"]})]})]}),(0,t.jsxs)("div",{className:"incident-layout",children:[(0,t.jsxs)("aside",{className:"sidebar",children:[(0,t.jsx)("button",{className:`sidebar-btn${h.includes("incident")?" incomplete":""}`,onClick:()=>eX("incident"),children:"Incident Information"}),(0,t.jsx)("button",{className:`sidebar-btn active${h.includes("patient-info")?" incomplete":""}`,children:"Patient Information"}),(0,t.jsx)("button",{className:`sidebar-btn${h.includes("primary-survey")?" incomplete":""}`,onClick:()=>eX("primary-survey"),children:"Primary Survey"}),(0,t.jsx)("button",{className:`sidebar-btn${h.includes("vital-obs")?" incomplete":""}`,onClick:()=>eX("vital-obs"),children:"Vital Obs / Treat"}),(0,t.jsx)("button",{className:`sidebar-btn${h.includes("hx-complaint")?" incomplete":""}`,onClick:()=>eX("hx-complaint"),children:"Hx Complaint"}),(0,t.jsx)("button",{className:`sidebar-btn${h.includes("past-medical-history")?" incomplete":""}`,onClick:()=>eX("past-medical-history"),children:"Past Medical History"}),(0,t.jsx)("button",{className:`sidebar-btn${h.includes("clinical-impression")?" incomplete":""}`,onClick:()=>eX("clinical-impression"),children:"Clinical Impression"}),(0,t.jsx)("button",{className:`sidebar-btn${h.includes("disposition")?" incomplete":""}`,onClick:()=>eX("disposition"),children:"Disposition"}),(0,t.jsx)("button",{className:"sidebar-btn",onClick:()=>eX("media"),children:"Media"})]}),(0,t.jsx)("main",{className:"incident-content",children:(0,t.jsxs)("section",{className:"incident-section",children:[(0,t.jsx)("h2",{className:"section-title",children:"Patient Information"}),1===ey&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 200px"},children:[(0,t.jsx)("label",{className:`field-label required ${eZ("robloxUsername")?"validation-error-label":""}`,children:"Roblox Username"}),(0,t.jsx)("input",{type:"text",className:`text-input ${eZ("robloxUsername")?"validation-error":""}`,value:E,onChange:e=>$(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 150px"},children:[(0,t.jsx)("label",{className:"field-label",children:"Title"}),(0,t.jsxs)("select",{className:"text-input",value:Y,onChange:e=>U(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"Mr",children:"Mr"}),(0,t.jsx)("option",{value:"Mrs",children:"Mrs"}),(0,t.jsx)("option",{value:"Ms",children:"Ms"}),(0,t.jsx)("option",{value:"Miss",children:"Miss"}),(0,t.jsx)("option",{value:"Dr",children:"Dr"}),(0,t.jsx)("option",{value:"Rev",children:"Rev"})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"1"},children:[(0,t.jsx)("label",{className:"field-label",style:{visibility:"hidden"},children:"Spacer"}),(0,t.jsxs)("label",{className:"patient-checkbox",children:[(0,t.jsx)("input",{type:"checkbox",checked:D,onChange:e=>I(e.target.checked)}),"Patient not fully identified"]})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:`field-label required ${eZ("firstName")?"validation-error-label":""}`,children:"First Name"}),(0,t.jsx)("input",{type:"text",className:`text-input ${eZ("firstName")?"validation-error":""}`,value:O,onChange:e=>q(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Middle Names"}),(0,t.jsx)("input",{type:"text",className:"text-input",value:L,onChange:e=>z(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:`field-label required ${eZ("surname")?"validation-error-label":""}`,children:"Family Name"}),(0,t.jsx)("input",{type:"text",className:`text-input ${eZ("surname")?"validation-error":""}`,value:B,onChange:e=>H(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Preferred Name"}),(0,t.jsx)("input",{type:"text",className:"text-input",value:G,onChange:e=>W(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 200px"},children:[(0,t.jsx)("label",{className:`field-label required ${eZ("sex")?"validation-error-label":""}`,children:"Sex"}),(0,t.jsxs)("select",{className:`text-input ${eZ("sex")?"validation-error":""}`,value:Z,onChange:e=>V(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"Male",children:"Male"}),(0,t.jsx)("option",{value:"Female",children:"Female"}),(0,t.jsx)("option",{value:"Indeterminate",children:"Indeterminate"}),(0,t.jsx)("option",{value:"Unknown",children:"Unknown"})]})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:`field-label required ${eZ("dob")?"validation-error-label":""}`,children:"DoB"}),(0,t.jsx)("input",{type:"text",className:`text-input ${eZ("dob")?"validation-error":""}`,value:X,onClick:()=>{let e=new Date;eq(e.getDate()),ez(e.getMonth()+1),eH(e.getFullYear()),eU(!0)},readOnly:!0})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 100px"},children:[(0,t.jsx)("label",{className:`field-label required ${eZ("age")?"validation-error-label":""}`,children:"Age"}),(0,t.jsx)("input",{type:"text",className:`text-input ${eZ("age")?"validation-error":""}`,value:K,onChange:e=>Q(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 150px"},children:[(0,t.jsx)("label",{className:`field-label required ${eZ("ageType")?"validation-error-label":""}`,children:"Age Type"}),(0,t.jsxs)("select",{className:`text-input ${eZ("ageType")?"validation-error":""}`,value:ee,onChange:e=>ea(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"Days",children:"Day(s)"}),(0,t.jsx)("option",{value:"Months",children:"Month(s)"}),(0,t.jsx)("option",{value:"Years",children:"Year(s)"})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 80px"},children:[(0,t.jsx)("label",{className:"field-label",style:{visibility:"hidden"},children:"Spacer"}),(0,t.jsxs)("label",{className:"patient-checkbox",children:[(0,t.jsx)("input",{type:"checkbox",checked:es,onChange:e=>et(e.target.checked)}),"Est."]})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:`field-label required ${eZ("ptAddress")?"validation-error-label":""}`,children:"Patient Address"}),(0,t.jsx)("textarea",{className:`text-input textarea-large ${eZ("ptAddress")?"validation-error":""}`,rows:3,value:eo,onChange:e=>ec(e.target.value)})]}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"12px",alignSelf:"flex-end",marginBottom:"8px"},children:(0,t.jsx)("button",{className:"copy-btn-large",onClick:()=>{eu(eo)},children:"Copy >"})}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Billing or Postal Address"}),(0,t.jsx)("textarea",{className:"text-input textarea-large",rows:3,value:ed,onChange:e=>eu(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Home Phone"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",value:em,onChange:e=>ep(e.target.value),disabled:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Work Phone"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",value:eh,onChange:e=>ex(e.target.value),disabled:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Mobile Phone"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",value:eb,onChange:e=>ev(e.target.value),disabled:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{className:"field-label",children:"Email"}),(0,t.jsx)("input",{type:"text",className:"text-input grayed-disabled",value:ef,onChange:e=>ej(e.target.value),disabled:!0})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 300px"},children:[(0,t.jsx)("label",{className:"field-label",children:"Ethnicity"}),(0,t.jsxs)("select",{className:"text-input grayed-disabled",value:ei,onChange:e=>el(e.target.value),disabled:!0,children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"European",children:"European"}),(0,t.jsx)("option",{value:"Maori",children:"Māori"}),(0,t.jsx)("option",{value:"Pacific",children:"Pacific"}),(0,t.jsx)("option",{value:"Asian",children:"Asian"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 300px"},children:[(0,t.jsx)("label",{className:"field-label",children:"Iwi"}),(0,t.jsx)("select",{className:"text-input grayed-disabled",value:en,onChange:e=>er(e.target.value),disabled:!0,children:(0,t.jsx)("option",{value:"",children:"---"})})]})]}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsxs)("div",{className:"form-field",style:{flex:"0 0 400px"},children:[(0,t.jsx)("label",{className:"field-label",children:"NZ Resident or Citizen"}),(0,t.jsxs)("div",{className:"sex-options",children:[(0,t.jsxs)("label",{className:"sex-option grayed-disabled",children:[(0,t.jsx)("input",{type:"radio",name:"residentCitizen",value:"Yes",checked:"Yes"===eg,onChange:e=>eN(e.target.value),disabled:!0}),"Yes"]}),(0,t.jsxs)("label",{className:"sex-option grayed-disabled",children:[(0,t.jsx)("input",{type:"radio",name:"residentCitizen",value:"No",checked:"No"===eg,onChange:e=>eN(e.target.value),disabled:!0}),"No"]}),(0,t.jsxs)("label",{className:"sex-option grayed-disabled",children:[(0,t.jsx)("input",{type:"radio",name:"residentCitizen",value:"Unknown",checked:"Unknown"===eg,onChange:e=>eN(e.target.value),disabled:!0}),"Unknown"]})]})]})})]}),2===ey&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Current smoker?"}),(0,t.jsxs)("div",{className:"substance-options",children:[(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"currentSmoker",value:"Yes",checked:"Yes"===eC,onChange:e=>ek(e.target.value)}),"Yes"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"currentSmoker",value:"No",checked:"No"===eC,onChange:e=>ek(e.target.value)}),"No"]})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Current mental health crisis?"}),(0,t.jsxs)("div",{className:"substance-options",children:[(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"mentalHealthCrisis",value:"Yes",checked:"Yes"===eP,onChange:e=>ew(e.target.value)}),"Yes"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"mentalHealthCrisis",value:"No",checked:"No"===eP,onChange:e=>ew(e.target.value)}),"No"]})]})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Did alcohol contribute?"}),(0,t.jsxs)("div",{className:"substance-options",children:[(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"alcoholContribute",value:"Yes",checked:"Yes"===eT,onChange:e=>eM(e.target.value)}),"Yes"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"alcoholContribute",value:"No",checked:"No"===eT,onChange:e=>eM(e.target.value)}),"No"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"alcoholContribute",value:"Not Sure",checked:"Not Sure"===eT,onChange:e=>eM(e.target.value)}),"Not Sure"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"alcoholContribute",value:"3rd Party",checked:"3rd Party"===eT,onChange:e=>eM(e.target.value)}),"3rd Party"]})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Estimated impairment level"}),(0,t.jsxs)("select",{className:"text-input",value:e_,onChange:e=>eF(e.target.value),disabled:!("Yes"===eC||"Yes"===eT||"Yes"===eA),style:{opacity:"Yes"===eC||"Yes"===eT||"Yes"===eA?1:.5},children:[(0,t.jsx)("option",{value:"",children:"---"}),(0,t.jsx)("option",{value:"Uninhibited",children:"Uninhibited"}),(0,t.jsx)("option",{value:"Overly talkative",children:"Overly talkative"}),(0,t.jsx)("option",{value:"Slurring",children:"Slurring"}),(0,t.jsx)("option",{value:"Unintelligible words",children:"Unintelligible words"}),(0,t.jsx)("option",{value:"Unable to mobilise",children:"Unable to mobilise"})]})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Did patient take recreational drugs?"}),(0,t.jsxs)("div",{className:"substance-options",children:[(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"recreationalDrugs",value:"Yes",checked:"Yes"===eA,onChange:e=>eR(e.target.value)}),"Yes"]}),(0,t.jsxs)("label",{className:"substance-question",children:[(0,t.jsx)("input",{type:"radio",name:"recreationalDrugs",value:"No",checked:"No"===eA,onChange:e=>eR(e.target.value)}),"No"]})]})]}),(0,t.jsxs)("div",{className:"form-field",style:{flex:1},children:[(0,t.jsx)("label",{className:"field-label",children:"Estimated weight (kg)"}),(0,t.jsx)("input",{type:"text",className:"text-input",value:eE,onChange:e=>e$(e.target.value)})]})]}),(0,t.jsx)("div",{className:"form-row",children:(0,t.jsxs)("div",{className:"form-field full-width",children:[(0,t.jsx)("label",{className:"field-label",children:"Next of Kin"}),(0,t.jsx)("input",{type:"text",className:"text-input",value:eD,onChange:e=>eI(e.target.value)})]})})]})]})})]}),eY&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>eU(!1),children:(0,t.jsxs)("div",{className:"datetime-picker date-only-picker",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"picker-header",children:"Set Date"}),(0,t.jsxs)("div",{className:"picker-display",children:["Wed, December ",String(eO).padStart(2,"0"),", ",eB]}),(0,t.jsxs)("div",{className:"picker-controls",children:[(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eq(Math.min(31,eO+1)),children:"+"}),(0,t.jsx)("div",{className:"picker-value highlight",children:String(eO).padStart(2,"0")}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eq(Math.max(1,eO-1)),children:"-"})]}),(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>ez(12===eL?1:eL+1),children:"+"}),(0,t.jsx)("div",{className:"picker-value",children:String(eL).padStart(2,"0")}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>ez(1===eL?12:eL-1),children:"-"})]}),(0,t.jsxs)("div",{className:"picker-column",children:[(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eH(eB+1),children:"+"}),(0,t.jsx)("div",{className:"picker-value",children:eB}),(0,t.jsx)("button",{className:"picker-btn",onClick:()=>eH(Math.max(1900,eB-1)),children:"-"})]})]}),(0,t.jsxs)("div",{className:"picker-actions",children:[(0,t.jsx)("button",{className:"picker-action-btn cancel",onClick:()=>eU(!1),children:"Clear"}),(0,t.jsx)("button",{className:"picker-action-btn ok",onClick:()=>{J(`${String(eO).padStart(2,"0")}/${String(eL).padStart(2,"0")}/${eB}`),eU(!1)},children:"Set"})]})]})}),(0,t.jsxs)("div",{className:"eprf-footer incident-footer",children:[(0,t.jsxs)("div",{className:"footer-left",children:[(0,t.jsx)("button",{className:"footer-btn internet",children:"Internet"}),(0,t.jsx)("button",{className:"footer-btn server",children:"Server"}),(0,t.jsx)("button",{className:"footer-btn green",onClick:()=>{j(!0)},children:"Add Patient"}),(0,t.jsx)("button",{className:"footer-btn green",onClick:()=>{w(!0)},children:"Transfer ePRF"}),(0,t.jsx)("button",{className:"footer-btn green",onClick:()=>{let e=(0,n.Zl)(m);x(e.incompleteSections),e.isValid?N(!0):(M(e.fieldErrors),S(!0))},children:"Submit ePRF"})]}),(0,t.jsx)("div",{className:"footer-center",children:(0,t.jsxs)("span",{className:"page-counter",children:["Page ",ey," of 2"]})}),(0,t.jsxs)("div",{className:"footer-right",children:[(0,t.jsx)("button",{className:"footer-btn orange",onClick:()=>{2===ey?eS(1):eX("incident")},children:"< Previous"}),(0,t.jsx)("button",{className:"footer-btn orange",onClick:()=>{1===ey?eS(2):eX("primary-survey")},children:"Next >"})]})]}),(0,t.jsx)(o.ZP,{isOpen:f,onClose:()=>j(!1),onConfirm:eW,title:"Add New Patient",message:`Are you sure you want to add a new patient?

This will:
• Save the current Patient ${b} data
• Create a new patient record (Patient ${String.fromCharCode(b.charCodeAt(0)+1)})
• Clear the form for the new patient`,confirmText:"Yes, Add Patient",cancelText:"Cancel",type:"info",isLoading:A}),(0,t.jsx)(o.ZP,{isOpen:g,onClose:()=>N(!1),onConfirm:eG,title:"Submit ePRF",message:`Are you sure you want to submit this ePRF?

This will:
• Generate a PDF report for Patient ${b}
• Save the record to the database
• Download the PDF to your device`,confirmText:"Yes, Submit ePRF",cancelText:"Cancel",type:"success",isLoading:A}),(0,t.jsx)(o.Yj,{isOpen:y,onClose:()=>S(!1),errors:T,getSectionDisplayName:n.aY}),(0,t.jsx)(o.i_,{isOpen:C,onClose:()=>k(!1),title:_.title,message:_.message}),(0,t.jsx)(c.Z,{isOpen:P,onClose:()=>w(!1),onTransferComplete:e=>{let{transferAllPatients:a}=s(2392);a(m,e.discordId,e.callsign),w(!1),F({title:"ePRF Transferred",message:`The ePRF has been transferred to ${e.callsign}. You will be redirected to the dashboard.`}),k(!0),setTimeout(()=>{eV()},2e3)},incidentId:m,patientLetter:b})]})}},8494:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l,runtime:()=>i});var t=s(8264);let i=(0,t.D)(String.raw`C:\Users\Toby\Downloads\node-v24.11.1-win-x64\app123\app\patient-info\page.tsx#runtime`),l=(0,t.D)(String.raw`C:\Users\Toby\Downloads\node-v24.11.1-win-x64\app123\app\patient-info\page.tsx#default`)}},e=>{var a=a=>e(e.s=a);e.O(0,[378,716,337,625,974],()=>a(6335));var s=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/patient-info/page"]=s}]);
//# sourceMappingURL=page.js.map